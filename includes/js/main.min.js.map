{"version":3,"file":"Main.min.js","mappings":"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","sources":["webpack://Base scripts/webpack/universalModuleDefinition","webpack://Base scripts/webpack/bootstrap","webpack://Base scripts/webpack/runtime/define property getters","webpack://Base scripts/webpack/runtime/hasOwnProperty shorthand","webpack://Base scripts/webpack/runtime/make namespace object","webpack://Base scripts/./imports.js","webpack://Base scripts/./main.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Main\"] = factory();\n\telse\n\t\troot[\"Main\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export let scripts;\r\nexport let callback;\r\n\r\nexport let afterScriptsLoaded\t= function (){\r\n    tinymce.remove();\r\n\r\n    // Activate tinyMce's again\r\n    document.querySelectorAll('.entry-content .wp-editor-area').forEach(el =>{\r\n        window.tinyMCE.execCommand('mceAddEditor', false, el.id);\r\n    });\r\n\r\n    // invoke dom content loaded events\r\n    window.document.dispatchEvent(new Event(\"DOMContentLoaded\", {\r\n        bubbles: true,\r\n        cancelable: true\r\n    }));\r\n\r\n    // Somehow the visual/text switch does not work, manually fix it\r\n    document.querySelectorAll('.wp-switch-editor').forEach(el=>el.addEventListener('click', ev=>{\r\n        let area    = el.closest('.wp-editor-wrap').querySelector('.wp-editor-area');\r\n        let panel   =  el.closest('.wp-editor-wrap').querySelector('.mce-panel');\r\n        area.style.visibility='unset';\r\n        if(ev.target.matches('.switch-tmce')){\r\n           panel.style.display='block';\r\n            area.style.display='none';\r\n        }else{\r\n            panel.style.display='none';\r\n            area.style.display='block';\r\n        }\r\n    }));\r\n\r\n    //add niceselects\r\n\tdocument.querySelectorAll('select:not(.nonice,.swal2-select)').forEach(function(select){\r\n        if(select._niceselect == undefined){\r\n\t\t    select._niceselect = NiceSelect.bind(select,{searchable: true});\r\n        }\r\n\t});\r\n\r\n    if(typeof callback == 'function'){\r\n        callback();\r\n    }\r\n}\r\n\r\nexport let addStyles    = function (response){\r\n    let temp = document.createElement('div');\r\n\r\n    if(response.js){\r\n        temp.innerHTML =  response.js;\r\n        scripts\t= [...temp.children];\r\n        addScripts();\r\n    }\r\n\r\n    if(response.css){\r\n        temp.innerHTML = response.css;\r\n        [...temp.children].forEach(el => {\r\n            document.head.appendChild(el);\r\n        });\r\n    }\r\n}\r\n\r\nexport let addScripts\t= function () {\r\n    let el\t= scripts.shift();\r\n\r\n    // only add if needed\r\n    if(document.getElementById(el.id) == null && el.tagName == 'SCRIPT'){\r\n        var s = document.createElement('script');\r\n\r\n        if(el.type == ''){\r\n            s.type\t= 'text/javascript'; \r\n        }else{\r\n            s.type\t= el.type;\r\n        }\r\n\r\n        if(el.src != ''){\r\n            s.src \t= el.src;\r\n        }else{\r\n            s.innerHTML\t= el.innerHTML;\r\n        }\r\n        \r\n        s.id\t= el.id;\r\n        \r\n        document.head.appendChild(s);\r\n\r\n        if(scripts.length > 0){\r\n            if(el.src != ''){\r\n                s.addEventListener('load', addScripts);\r\n            }else{\r\n                addScripts();\r\n            }\r\n        }else{\r\n            if(el.src != ''){\r\n                s.addEventListener('load', afterScriptsLoaded);\r\n            }else{\r\n                afterScriptsLoaded();\r\n            }\t\t\t\r\n        }\r\n    }else if(scripts.length > 0){\r\n        //run again when this script is loaded\r\n        addScripts();\r\n    }else{\r\n        afterScriptsLoaded();\r\n    }\r\n}\r\n\r\n\r\nexport function displayMessage(message, icon, autoclose=false, no_ok=false, timer=1500){\r\n\tif(message == undefined){\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tif(typeof(Swal) != 'undefined'){\r\n\t\tvar options = {\r\n\t\t\ticon: icon,\r\n\t\t\ttitle: message.trim(),\r\n\t\t\tconfirmButtonColor: \"#bd2919\",\r\n\t\t\tcancelButtonColor: 'Crimson'\r\n\t\t};\r\n\r\n\t\tif(no_ok){\r\n\t\t\toptions['showConfirmButton'] = false;\r\n\t\t}\r\n\t\t\r\n\t\tif(typeof(callback) == 'function'){\r\n\t\t\toptions['didClose'] = () => callback();\r\n\t\t}\r\n\t\t\r\n\t\tif(autoclose){\r\n\t\t\toptions['timer'] = timer;\r\n\t\t}\r\n\r\n        if(document.fullscreenElement != null){\r\n\t\t\toptions['target']\t= document.fullscreenElement;\r\n\t\t}\r\n\t\t\r\n\t\tSwal.fire(options);\r\n\t}else{\r\n\t\talert(message.trim());\r\n\t}\r\n}\r\n\r\nexport function showLoader(element, replace=true, message=''){\r\n\tif(element == null){\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tlet wrapper\t= document.createElement(\"DIV\");\r\n\twrapper.setAttribute('class','loaderwrapper');\r\n\tif(message != ''){\r\n\t\twrapper.innerHTML\t= message;\r\n\t}\r\n\r\n\tlet loader\t= document.createElement(\"IMG\");\r\n\tloader.setAttribute('class','loadergif');\r\n\tloader.setAttribute(\"src\", sim.loadingGif);\r\n\tloader.style[\"height\"]= \"30px\";\r\n\r\n\twrapper.insertAdjacentElement('beforeEnd', loader);\r\n\tif(replace){\r\n\t\telement.parentNode.replaceChild(wrapper, element);\r\n\t}else{\r\n        let el  = element.nextElementSibling;\r\n        if(el == null){\r\n            element.parentNode.insertAdjacentElement('beforeEnd', wrapper);\r\n        }else{\r\n            element.parentNode.insertBefore(wrapper, el);\r\n        }\r\n\t}\r\n\r\n\treturn wrapper;\r\n}\r\n\r\n//Check if on mobile\r\nexport function isMobileDevice() {\r\n\treturn (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf('IEMobile') !== -1);\r\n}\r\n","console.log(\"Main.js loaded\");\r\n\r\nimport {displayMessage, showLoader, isMobileDevice} from './imports.js';\r\nexport  {displayMessage, showLoader, isMobileDevice};\r\n\r\nexport function changeUrl(target, secondTab=''){\r\n\tlet newParam\t= target.dataset.param_val;\r\n\tlet hash\t\t= target.dataset.hash;\r\n\tconst url \t\t= new URL(window.location);\r\n\r\n\t//Change the url params\r\n\tif(target.closest('.tabcontent') == null || target.parentNode.classList.contains('modal-content')){\r\n\t\t//Add query_arg if it is a main tab\r\n\t\turl.searchParams.set('main_tab', newParam);\r\n\t\turl.searchParams.delete('second_tab');\r\n\t}else{\r\n\t\turl.searchParams.set('second_tab', newParam);\r\n\t}\r\n\r\n\tif(secondTab != ''){\r\n\t\turl.searchParams.set('second_tab', secondTab);\r\n\t}\r\n\t\r\n\twindow.history.pushState({}, '', url);\r\n\r\n\tif(hash != null){\r\n\t\twindow.location.hash\t= hash;\r\n\t}else{\r\n\t\twindow.location.hash\t= '';\r\n\t}\r\n\r\n\t// switch tab when clicking on a change url link\r\n\tif(target.tagName == 'A'){\r\n\t\tswitchTab();\r\n\t}\r\n}\r\n\r\nfunction switchTab(event=null){\r\n\tconst params = new Proxy(new URLSearchParams(window.location.search), {\r\n\t\tget: (searchParams, prop) => searchParams.get(prop),\r\n\t});\r\n\t\r\n\tlet mainTab \t= params.main_tab;\r\n\tlet lastTab\t\t= '';\r\n\tif(mainTab != null){\r\n\t\t//find the tab and display it\r\n\t\tdocument.querySelectorAll(`[data-param_val=\"${mainTab}\"]`).forEach(tabbutton=>{\r\n\t\t\t//only process non-modal tabs\r\n\t\t\tif(tabbutton.closest('.modal') == null){\r\n\t\t\t\tlet result\t= displayTab(tabbutton);\r\n\t\t\t\tif(result){\r\n\t\t\t\t\tlastTab\t= result;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tlet secondTab = params.secondTab;\r\n\tif(secondTab != null){\r\n\t\t//find the tab and display it\r\n\t\tlastTab.querySelectorAll(`[data-param_val=\"${secondTab}\"]`).forEach(tabbutton=>{\r\n\t\t\tdisplayTab(tabbutton);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction displayTab(tabButton){\r\n\t//remove all existing highlights\r\n\tdocument.querySelectorAll('.highlight').forEach(el=>el.classList.remove('highlight'));\r\n\r\n\tlet tab;\r\n\t// Get content area\r\n\tif(tabButton.dataset.target == undefined){\r\n\t\ttab = document.querySelector('#'+tabButton.dataset.param_val);\r\n\t}else{\r\n\t\ttab = tabButton.closest('div').querySelector('#'+tabButton.dataset.target);\r\n\t}\r\n\t\r\n\tif(tab != null){\r\n\t\ttab.classList.remove('hidden');\r\n\r\n\t\tif(tabButton.tagName != 'A'){\r\n\t\t\t//Mark the other tabbuttons as inactive\r\n\t\t\ttabButton.parentNode.querySelectorAll(':scope > .active:not(#'+tabButton.id+')').forEach(child=>{\r\n\t\t\t\t//Make inactive\r\n\t\t\t\tchild.classList.remove(\"active\");\r\n\t\t\t\t\t\r\n\t\t\t\t//Hide the tab\r\n\t\t\t\tvar childTab\t= child.closest('div').querySelector('#'+child.dataset.target);\r\n\t\t\t\tif(childTab == null){\r\n\t\t\t\t\tconsole.error('Tab to hide not found:');\r\n\t\t\t\t\tconsole.error(child.closest('div'));\r\n\t\t\t\t\tconsole.error('#'+child.dataset.target);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tchildTab.classList.add('hidden');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t//Mark the tabbutton as active\r\n\t\t\ttabButton.classList.add(\"active\");\r\n\t\t}\r\n\r\n\t\t//scroll to field\r\n\t\tif (window.location.hash) {\r\n\t\t\tvar hash \t\t= window.location.hash.replace('#','');\r\n\r\n\t\t\tvar hashField\t= tab.querySelector('[name^=\"'+hash+'\"]');\r\n\t\t\r\n\t\t\thashField.scrollIntoView({block: \"center\"});\r\n\r\n\t\t\tvar el\t\t\t= hashField.closest('.inputwrapper');\r\n\t\t\tif(el != null){\r\n\t\t\t\thashField.closest('.inputwrapper').classList.add('highlight');\r\n\t\t\t}\r\n\t\t\thashField.classList.add('highlight');\r\n\t\t\thashField.focus();\r\n\t\t}\r\n\r\n\t\t// position any tables on this tab, as they can only be positioned when visible\r\n\t\tif(typeof(SimTableFunctions) != 'undefined'){\r\n\t\t\tSimTableFunctions.positionTable();\r\n\t\t}\r\n\r\n\t\treturn tab;\r\n\t}else{\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nexport function getRoute(target,lat,lon){\r\n\t//Leave the origin empty on a mobile device to use the current location\r\n\tif(isMobileDevice()){\r\n\t\tvar origin = '';\r\n\t}else{\r\n\t\tvar origin = '&origin='+sim.address;\r\n\t}\r\n\tvar url = 'https://www.google.com/maps/dir/?api=1&destination='+lat+','+lon+origin;\r\n\tvar win = window.open(url, '_blank');\r\n\twin.focus();\r\n}\r\n\r\nfunction bodyScrolling(type){\r\n\t//don't do anything on homepage\r\n\t//if(document.querySelector('body').classList.contains('home')) return;\r\n\t\r\n\tif(type == 'disable'){\r\n\t\t//disable scrolling of the body\r\n\t\tdocument.querySelector(\"body\").style.overflow = 'hidden';\r\n \t\tdocument.body.style.top\t\t\t= `0px`;\r\n\r\n\t\t//scroll to top\r\n\t\twindow.scrollTo(0, 0);\r\n\r\n \t\tvar menu = document.querySelector(\"#masthead\");\r\n\t\tmenu.style.overflowY\t= 'scroll';\r\n\t\tmenu.style.top\t\t\t= '0px';\r\n\t\tmenu.style.left\t\t\t= '0';\r\n\t\tmenu.style.right\t\t= '0';\r\n\t\tmenu.style.bottom\t\t= '0';\r\n\t\tmenu.style.position\t\t= 'absolute'; \r\n\r\n\t}else{\r\n\t\t//enable scrolling of the body\r\n\t\tdocument.querySelector(\"body\").style.overflow = '';\r\n\t\tdocument.body.style.top \t\t= '';\r\n\r\n\t\tvar menu = document.querySelector(\"#masthead\");\r\n\t\tmenu.style.overflowY\t= '';\r\n\t\tmenu.style.top\t\t\t= '';\r\n\t\tmenu.style.left\t\t\t= '';\r\n\t\tmenu.style.right\t\t= '';\r\n\t\tmenu.style.bottom\t\t= '';\r\n\t\tmenu.style.position\t\t= '';\r\n\t}\r\n}\r\n\r\nexport function showModal(modal){\r\n\tif(typeof(modal) == 'string'){\r\n\t\tmodal = document.getElementById(modal+\"_modal\");\r\n\t}\r\n\t\r\n\tif(modal != null){\r\n\t\t// Prevent main page scrolling\r\n\t\tdocument.body.style.top\t\t\t= `-${window.scrollY}px`;\r\n\t\tdocument.body.style.position \t= 'fixed';\r\n\r\n\t\tmodal.classList.remove('hidden');\r\n\t}\t\r\n}\r\n\r\nexport function hideModals(){\r\n\tlet modals\t= document.querySelectorAll('.modal:not(.hidden)');\r\n\tif(modals.length != 0){\r\n\t\tmodals.forEach(modal=>{\r\n\t\t\tmodal.classList.add('hidden');\r\n\t\t});\r\n\r\n\t\t// Turn main page scrolling on again\r\n\t\tconst scrollY\t\t\t\t\t= document.body.style.top;\r\n\t\tdocument.body.style.position \t= '';\r\n\t\tdocument.body.style.top \t\t= '';\r\n\t\twindow.scrollTo(0, parseInt(scrollY || '0') * -1);\r\n\t\t\r\n\t\tconsole.log('scrolling');\r\n\t}\r\n}\r\n\r\n//check internet\r\nasync function hasInternet(){\r\n\tif(location.href.includes('localhost')){\r\n\t\twindow['online'] = true;\r\n\t\treturn window['online'];\r\n\t}\r\n\r\n\tawait fetch('https://google.com', {\r\n\t\tmethod: 'GET', // *GET, POST, PUT, DELETE, etc.\r\n\t\tmode: 'no-cors',\r\n\t}).then((result) => {\r\n\t\twindow['online'] = true;\r\n\t}).catch(e => {\r\n\t\twindow['online'] = false;\r\n\t});\r\n\r\n\treturn window['online'];\r\n}\r\n\r\nexport async function waitForInternet(){\r\n\tvar internet\t= await hasInternet();\r\n\tif(!internet){\r\n\t\tdisplayMessage('You have no internet connection, waiting till internet is back...', 'warning', true, true, 5000);\r\n\r\n\t\twhile(!internet){\r\n\t\t\tif(window['online']){\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tinternet\t= await hasInternet();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction positionSubSubMenus(){\r\n\tconst vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n\r\n\tdocument.querySelectorAll('#primary-menu .sub-menu .sub-menu').forEach(el=>{\r\n\t\tel.style.left\t\t= '100%';\r\n\t\tel.parentNode.closest('ul').style.left\t= '100%';\r\n\r\n\t\t// Get parent right coordinate\r\n\t\tlet startPos\t= el.parentNode.getBoundingClientRect()['right'];\r\n\t\t\r\n\t\t// el with\r\n\t\tlet width\t= el.getBoundingClientRect()['width'];\r\n\r\n\t\t// move to left if not fitting on screen\r\n\t\tif(startPos + width > vw){\r\n\t\t\tel.style.right\t= '100%';\r\n\t\t\tel.style.left\t= 'unset';\r\n\t\t}else{\r\n\t\t\tel.style.removeProperty('left');\r\n\t\t}\r\n\r\n\t\t// Reset left\r\n\t\tel.parentNode.closest('ul').style.removeProperty('left');\r\n\t});\r\n}\r\n\r\n//Load after page load\r\ndocument.addEventListener(\"DOMContentLoaded\",function() {\r\n\t// remove any empty widgets\r\n\tdocument.querySelectorAll('.widget').forEach(w=>{\r\n\t\tif(w.innerHTML == ''){\r\n\t\t\tw.remove();\r\n\t\t}\r\n\t});\r\n\r\n\t//loop over all the tab buttons\r\n\tdocument.querySelectorAll('.tablink').forEach(function(tabButton){\r\n\t\t//Add the dataset if it does not exist yet.\r\n\t\tif(tabButton.dataset.param_val == undefined){\r\n\t\t\ttabButton.dataset.param_val = tabButton.textContent.replace(' ','_').toLowerCase();\r\n\t\t}\r\n\t})\r\n\r\n\t//check for tab actions\r\n\tswitchTab();\r\n\r\n\t//add niceselects\r\n\tdocument.querySelectorAll('select:not(.nonice,.swal2-select)').forEach(function(select){\r\n\t\tselect._niceselect = NiceSelect.bind(select,{searchable: true});\r\n\t});\r\n\r\n\t// hide mobile hidden\r\n\tif(isMobileDevice()){\r\n\t\tdocument.querySelectorAll('.hide-on-mobile').forEach(el=>el.classList.add('hidden'));\r\n\t}else{\r\n\t\tpositionSubSubMenus();\r\n\t}\t\r\n});\r\n\r\n\r\n//Hide or show the clicked tab\r\nwindow.addEventListener(\"mousedown\", function(event) {\t\r\n\tvar target = event.target;\r\n\t\r\n\t//we clicked the menu\r\n\tif(target.closest('.menu-toggle') != null){\r\n\t\tevent.preventDefault();\r\n\t\tif(target.closest('.menu-toggle').getAttribute(\"aria-expanded\") == \"true\"){\r\n\t\t\tbodyScrolling('enable');\r\n\t\t}else{\r\n\t\t\tbodyScrolling('disable');\r\n\t\t}\r\n\t}\r\n\r\n\t//if clicked outside the menu, then close the menu\r\n\tif(\r\n\t\tdocument.querySelector('.menu-toggle') != null &&\r\n\t\tdocument.querySelector('.menu-toggle').getAttribute(\"aria-expanded\")==\"true\" &&\r\n\t\ttarget.closest('#site-navigation') == null && \r\n\t\ttarget.closest('#mobile-menu-control-wrapper') == null\r\n\t){\r\n\t\tdocument.querySelector('#mobile-menu-control-wrapper').classList.remove(\"toggled\");\r\n\t\tdocument.querySelector('.menu-toggle').setAttribute(\"aria-expanded\", 'false');\r\n\t\tdocument.querySelector('#site-navigation').classList.remove(\"toggled\");\r\n\t\tbodyScrolling('enable');\r\n\t}\r\n\r\n\t//Process the click on tab button\r\n\tif(target.matches(\".tablink\")){\r\n\t\tevent.preventDefault();\r\n\t\t//change the url in browser\r\n\t\tchangeUrl(target);\r\n\r\n\t\t//show the tab\r\n\t\tdisplayTab(target);\r\n\t}\t\r\n\r\n\t//close modal if clicked outside of modal\r\n\tif(target.matches(\".modal .close\") || (target.closest('.modal-content') == null && target.closest('.swal2-container') == null && target.tagName=='DIV')){\r\n\t\thideModals();\r\n\t}\r\n});\r\n"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","displayMessage","message","icon","autoclose","no_ok","timer","undefined","options","title","trim","confirmButtonColor","cancelButtonColor","document","fullscreenElement","Swal","fire","alert","showLoader","element","replace","wrapper","createElement","setAttribute","innerHTML","loader","sim","loadingGif","style","insertAdjacentElement","parentNode","replaceChild","el","nextElementSibling","insertBefore","isMobileDevice","window","orientation","navigator","userAgent","indexOf","changeUrl","target","secondTab","newParam","dataset","param_val","hash","url","URL","location","closest","classList","contains","searchParams","set","delete","history","pushState","tagName","switchTab","event","params","Proxy","URLSearchParams","search","mainTab","main_tab","lastTab","querySelectorAll","forEach","tabbutton","result","displayTab","tabButton","tab","remove","querySelector","id","child","childTab","console","error","add","hashField","scrollIntoView","block","focus","SimTableFunctions","positionTable","getRoute","lat","lon","origin","address","open","bodyScrolling","type","menu","overflow","body","top","scrollTo","overflowY","left","right","bottom","position","showModal","modal","getElementById","scrollY","hideModals","modals","length","parseInt","log","async","hasInternet","href","includes","fetch","method","mode","then","catch","e","waitForInternet","internet","addEventListener","w","textContent","toLowerCase","select","_niceselect","NiceSelect","bind","searchable","vw","Math","max","documentElement","clientWidth","innerWidth","getBoundingClientRect","removeProperty","positionSubSubMenus","preventDefault","getAttribute","matches"],"sourceRoot":""}