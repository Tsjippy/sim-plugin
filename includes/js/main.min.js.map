{"version":3,"file":"Main.min.js","mappings":"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","sources":["webpack://Base scripts/webpack/universalModuleDefinition","webpack://Base scripts/webpack/bootstrap","webpack://Base scripts/webpack/runtime/define property getters","webpack://Base scripts/webpack/runtime/hasOwnProperty shorthand","webpack://Base scripts/webpack/runtime/make namespace object","webpack://Base scripts/./imports.js","webpack://Base scripts/./main.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Main\"] = factory();\n\telse\n\t\troot[\"Main\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export let scripts;\r\nexport let callback;\r\n\r\nexport let afterScriptsLoaded\t= function (){\r\n    tinymce.remove();\r\n\r\n    // Activate tinyMce's again\r\n    document.querySelectorAll('.entry-content .wp-editor-area').forEach(el =>{\r\n        window.tinyMCE.execCommand('mceAddEditor', false, el.id);\r\n    });\r\n\r\n    // invoke dom content loaded events\r\n    window.document.dispatchEvent(new Event(\"DOMContentLoaded\", {\r\n        bubbles: true,\r\n        cancelable: true\r\n    }));\r\n\r\n    // Somehow the visual/text switch does not work, manually fix it\r\n    document.querySelectorAll('.wp-switch-editor').forEach(el=>el.addEventListener('click', ev=>{\r\n        let area    = el.closest('.wp-editor-wrap').querySelector('.wp-editor-area');\r\n        let panel   =  el.closest('.wp-editor-wrap').querySelector('.mce-panel');\r\n        area.style.visibility='unset';\r\n        if(ev.target.matches('.switch-tmce')){\r\n           panel.style.display='block';\r\n            area.style.display='none';\r\n        }else{\r\n            panel.style.display='none';\r\n            area.style.display='block';\r\n        }\r\n    }));\r\n\r\n    //add niceselects\r\n\tdocument.querySelectorAll('select:not(.nonice,.swal2-select)').forEach(function(select){\r\n        if(select._niceselect == undefined){\r\n\t\t    select._niceselect = NiceSelect.bind(select,{searchable: true});\r\n        }\r\n\t});\r\n\r\n    if(typeof callback == 'function'){\r\n        callback();\r\n    }\r\n}\r\n\r\nexport let addStyles    = function (response){\r\n    let temp = document.createElement('div');\r\n\r\n    if(response.js){\r\n        temp.innerHTML =  response.js;\r\n        scripts\t= [...temp.children];\r\n        addScripts();\r\n    }\r\n\r\n    if(response.css){\r\n        temp.innerHTML = response.css;\r\n        [...temp.children].forEach(el => {\r\n            document.head.appendChild(el);\r\n        });\r\n    }\r\n}\r\n\r\nexport let addScripts\t= function () {\r\n    let el\t= scripts.shift();\r\n\r\n    // only add if needed\r\n    if(document.getElementById(el.id) == null && el.tagName == 'SCRIPT'){\r\n        var s = document.createElement('script');\r\n\r\n        if(el.type == ''){\r\n            s.type\t= 'text/javascript'; \r\n        }else{\r\n            s.type\t= el.type;\r\n        }\r\n\r\n        if(el.src != ''){\r\n            s.src \t= el.src;\r\n        }else{\r\n            s.innerHTML\t= el.innerHTML;\r\n        }\r\n        \r\n        s.id\t= el.id;\r\n        \r\n        document.head.appendChild(s);\r\n\r\n        if(scripts.length > 0){\r\n            if(el.src != ''){\r\n                s.addEventListener('load', addScripts);\r\n            }else{\r\n                addScripts();\r\n            }\r\n        }else{\r\n            if(el.src != ''){\r\n                s.addEventListener('load', afterScriptsLoaded);\r\n            }else{\r\n                afterScriptsLoaded();\r\n            }\t\t\t\r\n        }\r\n    }else if(scripts.length > 0){\r\n        //run again when this script is loaded\r\n        addScripts();\r\n    }else{\r\n        afterScriptsLoaded();\r\n    }\r\n}\r\n\r\nexport function displayMessage(message, icon, autoclose=false, no_ok=false, timer=1500){\r\n\tif(message == undefined){\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tif(typeof(Swal) != 'undefined'){\r\n\t\tvar options = {\r\n\t\t\ticon: icon,\r\n\t\t\ttitle: message.trim(),\r\n\t\t\tconfirmButtonColor: \"#bd2919\",\r\n\t\t\tcancelButtonColor: 'Crimson'\r\n\t\t};\r\n\r\n\t\tif(no_ok){\r\n\t\t\toptions['showConfirmButton'] = false;\r\n\t\t}\r\n\t\t\r\n\t\tif(typeof(callback) == 'function'){\r\n\t\t\toptions['didClose'] = () => callback();\r\n\t\t}\r\n\t\t\r\n\t\tif(autoclose){\r\n\t\t\toptions['timer'] = timer;\r\n\t\t}\r\n\r\n        if(document.fullscreenElement != null){\r\n\t\t\toptions['target']\t= document.fullscreenElement;\r\n\t\t}\r\n\t\t\r\n\t\treturn Swal.fire(options);\r\n\t}else{\r\n\t\treturn alert(message.trim());\r\n\t}\r\n}\r\n\r\nexport function showLoader(element, replace=true, message=''){\r\n\tif(element == null){\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tlet wrapper\t= document.createElement(\"DIV\");\r\n\twrapper.setAttribute('class','loaderwrapper');\r\n\tif(message != ''){\r\n\t\twrapper.innerHTML\t= message;\r\n\t}\r\n\r\n\tlet loader\t= document.createElement(\"IMG\");\r\n\tloader.setAttribute('class','loadergif');\r\n\tloader.setAttribute(\"src\", sim.loadingGif);\r\n\tloader.style[\"height\"]= \"30px\";\r\n\r\n\twrapper.insertAdjacentElement('beforeEnd', loader);\r\n\tif(replace){\r\n\t\telement.parentNode.replaceChild(wrapper, element);\r\n\t}else{\r\n        let el  = element.nextElementSibling;\r\n        if(el == null){\r\n            element.parentNode.insertAdjacentElement('beforeEnd', wrapper);\r\n        }else{\r\n            element.parentNode.insertBefore(wrapper, el);\r\n        }\r\n\t}\r\n\r\n\treturn wrapper;\r\n}\r\n\r\n//Check if on mobile\r\nexport function isMobileDevice() {\r\n    let check = false;\r\n    (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\r\n    return check;\r\n}\r\n","console.log(\"Main.js loaded\");\r\n\r\nimport {displayMessage, showLoader, isMobileDevice} from './imports.js';\r\nexport  {displayMessage, showLoader, isMobileDevice};\r\n\r\nexport function changeUrl(target, secondTab=''){\r\n\tlet newParam\t= target.dataset.param_val;\r\n\tlet hash\t\t= target.dataset.hash;\r\n\tconst url \t\t= new URL(window.location);\r\n\r\n\t//Change the url params\r\n\tif(target.closest('.tabcontent') == null || target.parentNode.classList.contains('modal-content')){\r\n\t\t//Add query_arg if it is a main tab\r\n\t\turl.searchParams.set('main_tab', newParam);\r\n\t\turl.searchParams.delete('second_tab');\r\n\t}else{\r\n\t\turl.searchParams.set('second_tab', newParam);\r\n\t}\r\n\r\n\tif(secondTab != ''){\r\n\t\turl.searchParams.set('second_tab', secondTab);\r\n\t}\r\n\t\r\n\twindow.history.pushState({}, '', url);\r\n\r\n\tif(hash != null){\r\n\t\twindow.location.hash\t= hash;\r\n\t}else{\r\n\t\twindow.location.hash\t= '';\r\n\t}\r\n\r\n\t// switch tab when clicking on a change url link\r\n\tif(target.tagName == 'A'){\r\n\t\tswitchTab();\r\n\t}\r\n}\r\n\r\nfunction switchTab(event=null){\r\n\tconst params = new Proxy(new URLSearchParams(window.location.search), {\r\n\t\tget: (searchParams, prop) => searchParams.get(prop),\r\n\t});\r\n\t\r\n\tlet mainTab \t= params.main_tab;\r\n\tlet lastTab\t\t= '';\r\n\r\n\tif(mainTab != null){\r\n\t\t//find the tab and display it\r\n\t\tdocument.querySelectorAll(`[data-param_val=\"${mainTab}\"]`).forEach(tabbutton=>{\r\n\t\t\t//only process non-modal tabs\r\n\t\t\tif(tabbutton.closest('.modal') == null){\r\n\t\t\t\tlet result\t= displayTab(tabbutton);\r\n\t\t\t\tif(result){\r\n\t\t\t\t\tlastTab\t= result;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tlet secondTab = params.secondTab;\r\n\tif(secondTab != null){\r\n\t\t//find the tab and display it\r\n\t\tlastTab.querySelectorAll(`[data-param_val=\"${secondTab}\"]`).forEach(tabbutton=>{\r\n\t\t\tdisplayTab(tabbutton);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction displayTab(tabButton){\r\n\t//remove all existing highlights\r\n\tdocument.querySelectorAll('.highlight').forEach(el=>el.classList.remove('highlight'));\r\n\r\n\tlet tab;\r\n\t// Get content area\r\n\tif(tabButton.dataset.target == undefined){\r\n\t\ttab = document.querySelector('#'+tabButton.dataset.param_val);\r\n\t}else{\r\n\t\ttab = tabButton.closest('div').querySelector('#'+tabButton.dataset.target);\r\n\t}\r\n\t\r\n\tif(tab != null){\r\n\t\ttab.classList.remove('hidden');\r\n\r\n\t\tif(tabButton.tagName != 'A'){\r\n\t\t\t//Mark the other tabbuttons as inactive\r\n\t\t\ttabButton.parentNode.querySelectorAll(':scope > .active:not(#'+tabButton.id+')').forEach(child=>{\r\n\t\t\t\t//Make inactive\r\n\t\t\t\tchild.classList.remove(\"active\");\r\n\t\t\t\t\t\r\n\t\t\t\t//Hide the tab\r\n\t\t\t\tvar childTab\t= child.closest('div').querySelector('#'+child.dataset.target);\r\n\t\t\t\tif(childTab == null){\r\n\t\t\t\t\tconsole.error('Tab to hide not found:');\r\n\t\t\t\t\tconsole.error(child.closest('div'));\r\n\t\t\t\t\tconsole.error('#'+child.dataset.target);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tchildTab.classList.add('hidden');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t//Mark the tabbutton as active\r\n\t\t\ttabButton.classList.add(\"active\");\r\n\t\t}\r\n\r\n\t\t//scroll to field\r\n\t\tif (window.location.hash) {\r\n\t\t\tvar hash \t\t= window.location.hash.replace('#', '');\r\n\r\n\t\t\tvar hashField\t= tab.querySelector(`[name^=\"${hash}\"]`);\r\n\t\t\r\n\t\t\tif(hashField != null){\r\n\t\t\t\thashField.scrollIntoView({block: \"center\"});\r\n\r\n\t\t\t\tvar el\t\t\t= hashField.closest('.inputwrapper');\r\n\t\t\t\tif(el != null){\r\n\t\t\t\t\thashField.closest('.inputwrapper').classList.add('highlight');\r\n\t\t\t\t}\r\n\t\t\t\thashField.classList.add('highlight');\r\n\t\t\t\thashField.focus();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// position any tables on this tab, as they can only be positioned when visible\r\n\t\tif(typeof(SimTableFunctions) != 'undefined'){\r\n\t\t\tSimTableFunctions.positionTable();\r\n\t\t}\r\n\r\n\t\treturn tab;\r\n\t}else{\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nexport function getRoute(target,lat,lon){\r\n\t//Leave the origin empty on a mobile device to use the current location\r\n\tif(isMobileDevice()){\r\n\t\tvar origin = '';\r\n\t}else{\r\n\t\tvar origin = '&origin='+sim.address;\r\n\t}\r\n\tvar url = 'https://www.google.com/maps/dir/?api=1&destination='+lat+','+lon+origin;\r\n\tvar win = window.open(url, '_blank');\r\n\twin.focus();\r\n}\r\n\r\nfunction bodyScrolling(type){\r\n\t//don't do anything on homepage\r\n\t//if(document.querySelector('body').classList.contains('home')) return;\r\n\t\r\n\tif(type == 'disable'){\r\n\t\t//disable scrolling of the body\r\n\t\tdocument.querySelector(\"body\").style.overflow = 'hidden';\r\n \t\tdocument.body.style.top\t\t\t= `0px`;\r\n\r\n\t\t//scroll to top\r\n\t\twindow.scrollTo(0, 0);\r\n\r\n \t\tvar menu = document.querySelector(\"#masthead\");\r\n\t\tmenu.style.overflowY\t= 'scroll';\r\n\t\tmenu.style.top\t\t\t= '0px';\r\n\t\tmenu.style.left\t\t\t= '0';\r\n\t\tmenu.style.right\t\t= '0';\r\n\t\tmenu.style.bottom\t\t= '0';\r\n\t\tmenu.style.position\t\t= 'absolute'; \r\n\r\n\t}else{\r\n\t\t//enable scrolling of the body\r\n\t\tdocument.querySelector(\"body\").style.overflow = '';\r\n\t\tdocument.body.style.top \t\t= '';\r\n\r\n\t\tvar menu = document.querySelector(\"#masthead\");\r\n\t\tmenu.style.overflowY\t= '';\r\n\t\tmenu.style.top\t\t\t= '';\r\n\t\tmenu.style.left\t\t\t= '';\r\n\t\tmenu.style.right\t\t= '';\r\n\t\tmenu.style.bottom\t\t= '';\r\n\t\tmenu.style.position\t\t= '';\r\n\t}\r\n}\r\n\r\nexport function showModal(modal){\r\n\tif(typeof(modal) == 'string'){\r\n\t\tmodal = document.getElementById(modal+\"_modal\");\r\n\t}\r\n\t\r\n\tif(modal != null){\r\n\t\t// Prevent main page scrolling\r\n\t\tdocument.body.style.top\t\t\t= `-${window.scrollY}px`;\r\n\t\tdocument.body.style.position \t= 'fixed';\r\n\t\tlet prim\t\t\t\t\t\t= document.getElementById('primary');\r\n\t\tif(prim != null){\r\n\t\t\tprim.style.zIndex\t\t\t= 99999;\r\n\t\t}\r\n\r\n\t\tmodal.classList.remove('hidden');\r\n\t}\t\r\n}\r\n\r\nexport function hideModals(){\r\n\tlet modals\t= document.querySelectorAll('.modal:not(.hidden)');\r\n\tif(modals.length != 0){\r\n\t\tmodals.forEach(modal=>{\r\n\t\t\tmodal.classList.add('hidden');\r\n\t\t\tconst event = new Event('modalclosed');\r\n\t\t\tmodal.dispatchEvent(event);\r\n\t\t});\r\n\r\n\t\t// Turn main page scrolling on again\r\n\t\tconst scrollY\t\t\t\t\t= document.body.style.top;\r\n\t\tdocument.body.style.position \t= '';\r\n\t\tdocument.body.style.top \t\t= '';\r\n\t\twindow.scrollTo(0, parseInt(scrollY || '0') * -1);\r\n\t\tlet prim\t\t\t\t\t\t= document.getElementById('primary');\r\n\t\tif(prim != null){\r\n\t\t\tprim.style.zIndex\t\t\t= 1;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//check internet\r\nasync function hasInternet(){\r\n\tif(location.href.includes('localhost')){\r\n\t\twindow['online'] = true;\r\n\t\treturn window['online'];\r\n\t}\r\n\r\n\tawait fetch(location.href).then((result) => {\r\n\t\twindow['online'] = true;\r\n\t}).catch(e => {\r\n\t\twindow['online'] = false;\r\n\t});\r\n\r\n\treturn window['online'];\r\n}\r\n\r\nexport async function waitForInternet(){\r\n\tvar internet\t= await hasInternet();\r\n\tif(!internet){\r\n\t\tdisplayMessage('You have no internet connection, waiting till internet is back...', 'warning', true, true, 5000);\r\n\r\n\t\twhile(!internet){\r\n\t\t\tif(window['online']){\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tinternet\t= await hasInternet();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction positionSubSubMenus(){\r\n\tconst vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n\r\n\tdocument.querySelectorAll('#primary-menu .sub-menu .sub-menu').forEach(el=>{\r\n\t\tel.style.left\t\t= '100%';\r\n\t\tel.parentNode.closest('ul').style.left\t= '100%';\r\n\r\n\t\t// Get parent right coordinate\r\n\t\tlet startPos\t= el.parentNode.getBoundingClientRect()['right'];\r\n\t\t\r\n\t\t// el with\r\n\t\tlet width\t= el.getBoundingClientRect()['width'];\r\n\r\n\t\t// move to left if not fitting on screen\r\n\t\tif(startPos + width > vw){\r\n\t\t\tel.style.right\t= '100%';\r\n\t\t\tel.style.left\t= 'unset';\r\n\t\t}else{\r\n\t\t\tel.style.removeProperty('left');\r\n\t\t}\r\n\r\n\t\t// Reset left\r\n\t\tel.parentNode.closest('ul').style.removeProperty('left');\r\n\t});\r\n}\r\n\r\n//Load after page load\r\ndocument.addEventListener(\"DOMContentLoaded\",function() {\r\n\t// remove any empty widgets\r\n\tdocument.querySelectorAll('.widget').forEach(w=>{\r\n\t\tif(w.innerHTML == ''){\r\n\t\t\tw.remove();\r\n\t\t}\r\n\t});\r\n\r\n\t//loop over all the tab buttons\r\n\tdocument.querySelectorAll('.tablink').forEach(function(tabButton){\r\n\t\t//Add the dataset if it does not exist yet.\r\n\t\tif(tabButton.dataset.param_val == undefined){\r\n\t\t\ttabButton.dataset.param_val = tabButton.textContent.replace(' ','_').toLowerCase();\r\n\t\t}\r\n\t})\r\n\r\n\t//check for tab actions\r\n\tswitchTab();\r\n\r\n\t//add niceselects\r\n\tdocument.querySelectorAll('select:not(.nonice,.swal2-select)').forEach(function(select){\r\n\t\tif(select._niceselect  == undefined){\r\n\t\t\tselect._niceselect = NiceSelect.bind(select, {searchable: true});\r\n\t\t}\r\n\t});\r\n\r\n\t// hide mobile hidden\r\n\tif(isMobileDevice()){\r\n\t\tdocument.querySelectorAll('.hide-on-mobile').forEach(el=>el.classList.add('hidden'));\r\n\t}else{\r\n\t\tpositionSubSubMenus();\r\n\t}\t\r\n});\r\n\r\n\r\n//Hide or show the clicked tab\r\nwindow.addEventListener(\"mousedown\", function(event) {\t\r\n\tvar target = event.target;\r\n\t\r\n\t//we clicked the menu\r\n\tif(target.closest('.menu-toggle') != null){\r\n\t\tevent.preventDefault();\r\n\t\tif(target.closest('.menu-toggle').getAttribute(\"aria-expanded\") == \"true\"){\r\n\t\t\tbodyScrolling('enable');\r\n\t\t}else{\r\n\t\t\tbodyScrolling('disable');\r\n\t\t}\r\n\t}\r\n\r\n\t//if clicked outside the menu, then close the menu\r\n\tif(\r\n\t\tdocument.querySelector('.menu-toggle') != null &&\r\n\t\tdocument.querySelector('.menu-toggle').getAttribute(\"aria-expanded\")==\"true\" &&\r\n\t\ttarget.closest('#site-navigation') == null && \r\n\t\ttarget.closest('#mobile-menu-control-wrapper') == null\r\n\t){\r\n\t\tdocument.querySelector('#mobile-menu-control-wrapper').classList.remove(\"toggled\");\r\n\t\tdocument.querySelector('.menu-toggle').setAttribute(\"aria-expanded\", 'false');\r\n\t\tdocument.querySelector('#site-navigation').classList.remove(\"toggled\");\r\n\t\tbodyScrolling('enable');\r\n\t}\r\n\r\n\t//Process the click on tab button\r\n\tif(target.matches(\".tablink\")){\r\n\t\tevent.preventDefault();\r\n\t\t//change the url in browser\r\n\t\tchangeUrl(target);\r\n\r\n\t\t//show the tab\r\n\t\tdisplayTab(target);\r\n\t}\t\r\n\r\n\t//close modal if clicked outside of modal\r\n\tlet modal\t= document.querySelector('.modal:not(.hidden)');\r\n\tif(modal != undefined){\r\n\t\tlet scrollBarWidth\t= window.innerWidth - modal.clientWidth;\r\n\t\tif(\r\n\t\t\ttarget.matches(\".modal .close\") || \t\t\t\t\t// close button clicked\r\n\t\t\t(\r\n\t\t\t\t(\r\n\t\t\t\t\tscrollBarWidth > 0\t&&\t\t\t\t\t\t// there is a scrollbar\r\n\t\t\t\t\tevent.clientX < modal.clientWidth\t\t\t// but we did not click on it\r\n\t\t\t\t)\t||\r\n\t\t\t\tscrollBarWidth\t=== 0\t\t\t\t\t\t\t// there is no scrollbar\r\n\t\t\t)\t&&\r\n\t\t\t(\r\n\t\t\t\ttarget.closest('.modal-content') == null && \t// not clicked inside the modal\r\n\t\t\t\ttarget.closest('.swal2-container') == null &&\t// not clicked on swal message container\r\n\t\t\t\ttarget.tagName == 'DIV'\t\t\t\t\t\t\t// the target is a div\r\n\t\t\t)\r\n\t\t){\r\n\t\t\tconsole.log(event.clientX);\r\n\t\t\tconsole.log(window.outerWidth);\r\n\t\t\thideModals();\r\n\t\t}\r\n\t}\r\n});\r\n"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","displayMessage","message","icon","autoclose","no_ok","timer","undefined","options","title","trim","confirmButtonColor","cancelButtonColor","document","fullscreenElement","Swal","fire","alert","showLoader","element","replace","wrapper","createElement","setAttribute","innerHTML","loader","sim","loadingGif","style","insertAdjacentElement","parentNode","replaceChild","el","nextElementSibling","insertBefore","isMobileDevice","check","a","navigator","userAgent","vendor","window","opera","test","substr","changeUrl","target","secondTab","newParam","dataset","param_val","hash","url","URL","location","closest","classList","contains","searchParams","set","delete","history","pushState","tagName","switchTab","event","params","Proxy","URLSearchParams","search","mainTab","main_tab","lastTab","querySelectorAll","forEach","tabbutton","result","displayTab","tabButton","tab","remove","querySelector","id","child","childTab","console","error","add","hashField","scrollIntoView","block","focus","SimTableFunctions","positionTable","getRoute","lat","lon","origin","address","open","bodyScrolling","type","menu","overflow","body","top","scrollTo","overflowY","left","right","bottom","position","showModal","modal","getElementById","scrollY","prim","zIndex","hideModals","modals","length","Event","dispatchEvent","parseInt","async","hasInternet","href","includes","fetch","then","catch","e","waitForInternet","internet","log","addEventListener","w","textContent","toLowerCase","select","_niceselect","NiceSelect","bind","searchable","vw","Math","max","documentElement","clientWidth","innerWidth","getBoundingClientRect","removeProperty","positionSubSubMenus","preventDefault","getAttribute","matches","scrollBarWidth","clientX","outerWidth"],"sourceRoot":""}