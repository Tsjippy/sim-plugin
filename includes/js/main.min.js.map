{"version":3,"file":"main.min.js","mappings":"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","sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/./main.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"main\"] = factory();\n\telse\n\t\troot[\"main\"] = factory();\n})(self, function() {\nreturn ","console.log(\"Main.js loaded\");\n\nfunction change_url(target, second_tab=''){\n\tvar new_param\t= target.dataset.param_val;\n\n\tvar hash\t\t= target.dataset.hash;\n\n\tconst url = new URL(window.location);\n\n\t//Change the url params\n\tif(target.closest('.tabcontent') == null || target.parentNode.classList.contains('modal-content') == true){\n\t\t//Add query_arg if it is a main tab\n\t\turl.searchParams.set('main_tab', new_param);\n\t\turl.searchParams.delete('second_tab');\n\t}else{\n\t\turl.searchParams.set('second_tab', new_param);\n\t}\n\n\tif(second_tab != ''){\n\t\turl.searchParams.set('second_tab', second_tab);\n\t}\n\t\n\twindow.history.pushState({}, '', url);\n\n\tif(hash != null){\n\t\twindow.location.hash\t= hash;\n\t}else{\n\t\twindow.location.hash\t= '';\n\t}\n\n\t// switch tab when clicking on a change url link\n\tif(target.tagName == 'A'){\n\t\tswitch_tab();\n\t}\n}\n\nfunction switch_tab(event=null){\n\tconst url = new URL(window.location);\n\tconst params = new Proxy(new URLSearchParams(window.location.search), {\n\t\tget: (searchParams, prop) => searchParams.get(prop),\n\t});\n\t\n\tvar main_tab \t= params.main_tab;\n\tvar last_tab\t= '';\n\tif(main_tab != null){\n\t\t//find the tab and display it\n\t\tdocument.querySelectorAll('[data-param_val=\"'+main_tab+'\"]').forEach(tabbutton=>{\n\t\t\t//only process non-modal tabs\n\t\t\tif(tabbutton.closest('.modal') == null){\n\t\t\t\tvar result\t= display_tab(tabbutton);\n\t\t\t\tif(result != false){\n\t\t\t\t\tlast_tab\t= result;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tvar second_tab = params.second_tab;\n\tif(second_tab != null){\n\t\t//find the tab and display it\n\t\tlast_tab.querySelectorAll('[data-param_val=\"'+second_tab+'\"]').forEach(tabbutton=>{\n\t\t\tdisplay_tab(tabbutton);\n\t\t});\n\t}\n}\n\nfunction display_tab(tab_button){\n\t//remove all existing highlights\n\tdocument.querySelectorAll('.highlight').forEach(el=>el.classList.remove('highlight'));\n\n\t// Get content area\n\tif(tab_button.dataset.target == undefined){\n\t\tvar tab = document.querySelector('#'+tab_button.dataset.param_val);\n\t}else{\n\t\tvar tab = tab_button.closest('div').querySelector('#'+tab_button.dataset.target);\n\t}\n\t\n\tif(tab != null){\n\t\ttab.classList.remove('hidden');\n\n\t\tif(tab_button.tagName != 'A'){\n\t\t\t//Mark the other tabbuttons as inactive\n\t\t\ttab_button.parentNode.querySelectorAll('.active:not(#'+tab_button.id+')').forEach(child=>{\n\t\t\t\t//Make inactive\n\t\t\t\tchild.classList.remove(\"active\");\n\t\t\t\t\t\n\t\t\t\t//Hide the tab\n\t\t\t\tchild.closest('div').querySelector('#'+child.dataset.target).classList.add('hidden');\n\t\t\t});\n\t\t\t\n\t\t\t//Mark the tabbutton as active\n\t\t\ttab_button.classList.add(\"active\");\n\t\t}\n\n\t\t//scroll to field\n\t\tif (window.location.hash) {\n\t\t\tvar hash \t\t= window.location.hash.replace('#','');\n\n\t\t\tvar hash_field\t= tab.querySelector('[name^=\"'+hash+'\"]');\n\t\t\n\t\t\thash_field.scrollIntoView({block: \"center\"});\n\n\t\t\tvar el\t\t\t= hash_field.closest('.inputwrapper');\n\t\t\tif(el != null){\n\t\t\t\thash_field.closest('.inputwrapper').classList.add('highlight');\n\t\t\t}\n\t\t\thash_field.classList.add('highlight');\n\t\t\thash_field.focus();\n\t\t}\n\n\t\t// position any tables on this tab, as they can only be positioned when visible\n\t\tif(typeof(position_table) != 'undefined'){\n\t\t\tposition_table();\n\t\t}\n\n\t\treturn tab;\n\t}else{\n\t\treturn false;\n\t}\n}\n\nfunction getRoute(target,lat,lon){\n\t//Leave the origin empty on a mobile device to use the current location\n\tif(isMobileDevice()){\n\t\tvar origin = '';\n\t}else{\n\t\tvar origin = '&origin='+sim.address;\n\t}\n\tvar url = 'https://www.google.com/maps/dir/?api=1&destination='+lat+','+lon+origin;\n\tvar win = window.open(url, '_blank');\n\twin.focus();\n}\n\n//Check if on mobile\nfunction isMobileDevice() {\n\treturn (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf('IEMobile') !== -1);\n};\n\nfunction showLoader(element, replace=true, message=''){\n\tif(element == null){\n\t\treturn;\n\t}\n\t\n\tvar wrapper\t= document.createElement(\"DIV\");\n\twrapper.setAttribute('class','loaderwrapper');\n\tif(message != ''){\n\t\twrapper.innerHTML\t= message;\n\t}\n\n\tvar loader\t= document.createElement(\"IMG\");\n\tloader.setAttribute('class','loadergif');\n\tloader.setAttribute(\"src\", sim.loading_gif);\n\tloader.style[\"height\"]= \"30px\";\n\n\twrapper.insertAdjacentElement('beforeEnd', loader);\n\tif(replace){\n\t\telement.parentNode.replaceChild(wrapper, element);\n\t}else{\n\t\telement.parentNode.insertBefore(wrapper, element.nextSibling);\n\t}\n\n\treturn wrapper;\n}\n\nfunction display_message(message, icon, autoclose=false, no_ok=false, timer=1500){\n\tif(message == undefined){\n\t\treturn;\n\t}\n\t\n\tif(typeof(Swal) != 'undefined'){\n\t\tvar options = {\n\t\t\ticon: icon,\n\t\t\ttitle: message.trim(),\n\t\t\tconfirmButtonColor: \"#bd2919\",\n\t\t\tcancelButtonColor: 'Crimson'\n\t\t};\n\n\t\tif(no_ok){\n\t\t\toptions['showConfirmButton'] = false;\n\t\t}\n\t\t\n\t\tif(typeof(callback) == 'function'){\n\t\t\toptions['didClose'] = () => callback();\n\t\t}\n\t\t\n\t\tif(autoclose){\n\t\t\toptions['timer'] = timer;\n\t\t}\n\t\t\n\t\tSwal.fire(options);\n\t}else{\n\t\talert(message.trim());\n\t}\n}\n\n//Load after page load\ndocument.addEventListener(\"DOMContentLoaded\",function() {\n\t//loop over all the tab buttons\n\tdocument.querySelectorAll('.tablink').forEach(function(tab_button){\n\t\t//Add the dataset if it does not exist yet.\n\t\tif(tab_button.dataset.param_val == undefined){\n\t\t\ttab_button.dataset.param_val = tab_button.textContent.replace(' ','_').toLowerCase();\n\t\t}\n\t})\n\n\t//check for tab actions\n\tswitch_tab();\n\n\t//add niceselects\n\tdocument.querySelectorAll('select:not(.nonice,.swal2-select)').forEach(function(select){\n\t\tselect._niceselect = NiceSelect.bind(select,{searchable: true});\n\t});\n});\n\nfunction body_scrolling(type){\n\t//don't do anything on homepage\n\tif(document.querySelector('body').classList.contains('home')) return;\n\t\n\tif(type == 'disable'){\n\t\t//disable scrolling of the body\n\t\tdocument.querySelector(\"body\").style.overflow = 'hidden';\n\n\t\t//scroll to top\n\t\twindow.scrollTo(0, 0);\n\n\t\tvar menu = document.querySelector(\"#masthead\");\n\t\tmenu.style.overflowY\t= 'scroll';\n\t\tmenu.style.top\t\t\t= '0px';\n\t\tmenu.style.left\t\t\t= '0';\n\t\tmenu.style.right\t\t= '0';\n\t\tmenu.style.bottom\t\t= '0';\n\t\tmenu.style.position\t\t= 'absolute';\n\n\t}else{\n\t\t//disable scrolling of the body\n\t\tdocument.querySelector(\"body\").style.overflow = '';\n\n\t\tvar menu = document.querySelector(\"#masthead\");\n\t\tmenu.style.overflowY\t= '';\n\t\tmenu.style.top\t\t\t= '';\n\t\tmenu.style.left\t\t\t= '';\n\t\tmenu.style.right\t\t= '';\n\t\tmenu.style.bottom\t\t= '';\n\t\tmenu.style.position\t\t= '';\n\t}\n}\n\n//Hide or show the clicked tab\nwindow.addEventListener(\"click\", function(event) {\n\tvar target = event.target;\n\n\t//close modal on close click\n\tif(target.matches(\".close\")){\n\t\ttarget.closest('.modal').classList.add('hidden');\n\t}\n\t\n\t//we clicked the menu\n\tif(target.closest('.menu-toggle') != null){\n\t\tif(document.querySelector('.menu-toggle').getAttribute(\"aria-expanded\")==\"true\"){\n\t\t\tbody_scrolling('disable');\n\t\t}else{\n\t\t\tbody_scrolling('enable');\n\t\t}\n\t}\n\n\t//if clicked outside the menu, then close the menu\n\tif(\n\t\tdocument.querySelector('.menu-toggle') != null &&\n\t\tdocument.querySelector('.menu-toggle').getAttribute(\"aria-expanded\")==\"true\" &&\n\t\ttarget.closest('#site-navigation') == null && \n\t\ttarget.closest('#mobile-menu-control-wrapper') == null\n\t){\n\t\tdocument.querySelector('#mobile-menu-control-wrapper').classList.remove(\"toggled\");\n\t\tdocument.querySelector('.menu-toggle').setAttribute(\"aria-expanded\", 'false');\n\t\tdocument.querySelector('#site-navigation').classList.remove(\"toggled\");\n\t\tbody_scrolling('enable');\n\t}\n\n\t//Process the click on tab button\n\tif(target.matches(\".tablink\")){\n\t\t//change the url in browser\n\t\tchange_url(target);\n\n\t\t//show the tab\n\t\tdisplay_tab(target);\n\t}\t\t\n});\n\n//check internet\nasync function has_internet(){\n\tawait fetch('https://google.com', {\n\t\tmethod: 'GET', // *GET, POST, PUT, DELETE, etc.\n\t\tmode: 'no-cors',\n\t}).then((result) => {\n\t\twindow['online'] = true;\n\t}).catch(e => {\n\t\twindow['online'] = false;\n\t});\n\n\treturn window['online'];\n}\n\nasync function waitForInternet(){\n\tvar internet\t= await has_internet();\n\tif(!internet){\n\t\tdisplay_message('You have no internet connection, waiting till internet is back...', 'warning', true, true, 5000);\n\n\t\twhile(!internet){\n\t\t\tif(window['online']){\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tinternet\t= await has_internet();\n\t\t}\n\t}\n}"],"names":["root","factory","exports","module","define","amd","self","switch_tab","event","URL","window","location","params","Proxy","URLSearchParams","search","get","searchParams","prop","main_tab","last_tab","document","querySelectorAll","forEach","tabbutton","closest","result","display_tab","second_tab","tab_button","el","classList","remove","undefined","dataset","target","tab","querySelector","param_val","tagName","parentNode","id","child","add","hash","replace","hash_field","scrollIntoView","block","focus","position_table","body_scrolling","type","menu","contains","style","overflow","scrollTo","overflowY","top","left","right","bottom","position","console","log","addEventListener","textContent","toLowerCase","select","_niceselect","NiceSelect","bind","searchable","matches","getAttribute","setAttribute","new_param","url","set","delete","history","pushState","change_url"],"sourceRoot":""}