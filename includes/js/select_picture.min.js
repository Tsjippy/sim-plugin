(()=>{"use strict";console.log("select picture.js loaded");var e="";window.addEventListener("click",(t=>{if(t.target.classList.contains("select_image_button")){t.preventDefault();let l="";null!=(e=t.target).dataset.type&&(l=e.dataset.type),function(t,l=""){t.preventDefault();let n=wp.media.frames.frame=wp.media({title:"Select image",button:{text:"Save image"},multiple:!1,library:{type:"image"}});console.log(l),""!=l&&n.on("selection:toggle",(function(e){let t=n.state().get("selection").first();null!=t&&t.toJSON().subtype!=l&&(function(e,t,l=!1,n=!1,r=1500){if(null!=e){if("undefined"!=typeof Swal){var o={icon:"error",title:e.toString().trim(),confirmButtonColor:"#bd2919",cancelButtonColor:"Crimson"};return n&&(o.showConfirmButton=!1),"function"==typeof callback&&(o.didClose=()=>callback()),l&&(o.timer=r),null!=document.fullscreenElement&&(o.target=document.fullscreenElement),Swal.fire(o)}alert(e.trim())}}(`Please select an image with the ${l} extension!`),document.querySelectorAll(".swal2-container").forEach((e=>e.style.zIndex=999999)),t.destroy())})),n.on("select",(function(){let t=n.state().get("selection").first().toJSON(),l=e.closest(".picture_selector_wrapper");l.querySelector(".image_attachment_id").value=t.id;let r=l.querySelector(".image-preview-wrapper");r.querySelector("img").src=t.url,r.classList.remove("hidden"),l.querySelector(".select_image_button").innerHTML=l.querySelector(".select_image_button").innerHTML.replace("Add","Replace")})),n.open()}(t,l)}}))})();
//# sourceMappingURL=select_picture.min.js.map