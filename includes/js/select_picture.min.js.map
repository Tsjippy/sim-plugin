{"version":3,"file":"select_picture.min.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAc,KAAID,IAElBD,EAAW,KAAIC,IARjB,CASGK,MAAM,WACT,OC4BIC,EAAS,GACbC,OAAOC,iBAAiB,SAASC,IAC7BA,EAAMC,OAAOC,UAAUC,SAAS,yBAClCN,EAAUG,EAAMC,OAzClB,SAAqBD,GACpBA,EAAMI,iBAGoB,iBAAdC,YAKZA,WAAaC,GAAGC,MAAMC,OAAOH,WAAaC,GAAGC,MAAM,CAClDE,MAAO,eACPZ,OAAQ,CACPa,KAAM,cAEPC,UAAU,IAGXN,WAAWO,GAAI,UAAU,SAASC,GAEjCC,WAAaT,WAAWU,QAAQC,IAAI,aAAaC,QAAQC,SAEzDC,OAAUtB,EAAOuB,QAAQ,6BAGzBD,OAAOE,cAAc,wBAAwBC,MAAQR,WAAWS,GAGhE,IAAIC,EAASL,OAAOE,cAAc,0BAClCG,EAAOH,cAAc,OAAOI,IAAKX,WAAWY,IAC5CF,EAAOtB,UAAUyB,OAAO,UAGxBR,OAAOE,cAAc,wBAAyBO,UAAYC,GAAGD,UAAUE,QAAQ,MAAM,cAGtFzB,WAAW0B,QA9BV1B,WAAW0B,OAqCXC,CAAYhC,O,OAJVH","sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/./select_picture.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"main\"] = factory();\n\telse\n\t\troot[\"main\"] = factory();\n})(self, function() {\nreturn ","function selectImage(event) {\r\n\tevent.preventDefault();\r\n\r\n\t// if the file_frame has already been created, just reuse it\r\n\tif ( typeof file_frame == 'object' ) {\r\n\t\tfile_frame.open();\r\n\t\treturn;\r\n\t} \r\n\r\n\tfile_frame = wp.media.frames.file_frame = wp.media({\r\n\t\ttitle: 'Select image' ,\r\n\t\tbutton: {\r\n\t\t\ttext: 'Save image',\r\n\t\t},\r\n\t\tmultiple: false\r\n\t});\r\n\r\n\tfile_frame.on( 'select', function(help) {\r\n\t\t//Get the selected image\r\n\t\tattachment = file_frame.state().get('selection').first().toJSON();\r\n\r\n\t\tparent\t\t= button.closest('.picture_selector_wrapper');\r\n\t\t\r\n\t\t//Store the id\r\n\t\tparent.querySelector('.image_attachment_id').value = attachment.id;\r\n\t\t\r\n\t\t//Show the image\r\n\t\tvar imgdiv = parent.querySelector('.image-preview-wrapper');\r\n\t\timgdiv.querySelector('img').src= attachment.url;\r\n\t\timgdiv.classList.remove('hidden');\r\n\t\t\r\n\t\t//Change button text\r\n\t\tparent.querySelector('.select_image_button' ).innerHTML = el.innerHTML.replace(\"Add\",'Replace');\r\n\t});\r\n\r\n\tfile_frame.open();\r\n}\r\n\r\nvar button = '';\r\nwindow.addEventListener('click', event=>{\r\n\tif(event.target.classList.contains('select_image_button')){\r\n\t\tbutton\t\t= event.target;\r\n\t\tselectImage(event);\r\n\t}\r\n})"],"names":["root","factory","exports","module","define","amd","self","button","window","addEventListener","event","target","classList","contains","preventDefault","file_frame","wp","media","frames","title","text","multiple","on","help","attachment","state","get","first","toJSON","parent","closest","querySelector","value","id","imgdiv","src","url","remove","innerHTML","el","replace","open","selectImage"],"sourceRoot":""}