{"version":3,"file":"admin.min.js","mappings":"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","sources":["webpack://admin/../../../../js/main.js","webpack://admin/./admin.js","webpack://admin/../../../../js/imports.js"],"sourcesContent":["console.log(\"Main.js loaded\");\r\n\r\nimport {displayMessage, showLoader, isMobileDevice} from './imports.js';\r\nexport  {displayMessage, showLoader, isMobileDevice};\r\n\r\nexport function changeUrl(target, secondTab=''){\r\n\tlet newParam\t= target.dataset.param_val;\r\n\tlet hash\t\t= target.dataset.hash;\r\n\tconst url \t\t= new URL(window.location);\r\n\r\n\t//Change the url params\r\n\tif(target.closest('.tabcontent') == null || target.parentNode.classList.contains('modal-content')){\r\n\t\t//Add query_arg if it is a main tab\r\n\t\turl.searchParams.set('main_tab', newParam);\r\n\t\turl.searchParams.delete('second_tab');\r\n\t}else{\r\n\t\turl.searchParams.set('second_tab', newParam);\r\n\t}\r\n\r\n\tif(secondTab != ''){\r\n\t\turl.searchParams.set('second_tab', secondTab);\r\n\t}\r\n\t\r\n\twindow.history.pushState({}, '', url);\r\n\r\n\tif(hash != null){\r\n\t\twindow.location.hash\t= hash;\r\n\t}else{\r\n\t\twindow.location.hash\t= '';\r\n\t}\r\n\r\n\t// switch tab when clicking on a change url link\r\n\tif(target.tagName == 'A'){\r\n\t\tswitchTab();\r\n\t}\r\n}\r\n\r\nfunction switchTab(event=null){\r\n\tconst params = new Proxy(new URLSearchParams(window.location.search), {\r\n\t\tget: (searchParams, prop) => searchParams.get(prop),\r\n\t});\r\n\t\r\n\tlet mainTab \t= params.main_tab;\r\n\tlet lastTab\t\t= '';\r\n\r\n\tif(mainTab != null){\r\n\t\t//find the tab and display it\r\n\t\tdocument.querySelectorAll(`[data-param_val=\"${mainTab}\"]:not(.active)`).forEach(tabbutton=>{\r\n\t\t\t//only process non-modal tabs\r\n\t\t\tif(tabbutton.closest('.modal') == null){\r\n\t\t\t\tlet result\t= displayTab(tabbutton);\r\n\t\t\t\tif(result){\r\n\t\t\t\t\tlastTab\t= result;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tlet secondTab = params.secondTab;\r\n\tif(secondTab != null){\r\n\t\t//find the tab and display it\r\n\t\tlastTab.querySelectorAll(`[data-param_val=\"${secondTab}\"]:not(.active)`).forEach(tabbutton=>{\r\n\t\t\tdisplayTab(tabbutton);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function displayTab(tabButton){\r\n\r\n\t//remove all existing highlights\r\n\tdocument.querySelectorAll('.highlight').forEach(el=>el.classList.remove('highlight'));\r\n\r\n\tlet tab;\r\n\t// Get content area\r\n\tif(tabButton.dataset.target == undefined){\r\n\t\ttab = document.querySelector('#'+tabButton.dataset.param_val);\r\n\t}else{\r\n\t\ttab = tabButton.closest('div:not(.tablink-wrapper)').querySelector('#'+tabButton.dataset.target);\r\n\t}\r\n\t\r\n\tif(tab != null){\r\n\t\ttab.classList.remove('hidden');\r\n\r\n\t\tif(tabButton.tagName != 'A'){\r\n\t\t\t//Mark the other tabbuttons as inactive\r\n\t\t\ttabButton.parentNode.querySelectorAll(`:scope > .active:not(#${tabButton.id})`).forEach(child=>{\r\n\t\t\t\t//Make inactive\r\n\t\t\t\tchild.classList.remove(\"active\");\r\n\t\t\t\t\t\r\n\t\t\t\t//Hide the tab\r\n\t\t\t\tvar childTab\t= child.closest('div:not(.tablink-wrapper)').querySelector('#'+child.dataset.target);\r\n\t\t\t\tif(childTab == null){\r\n\t\t\t\t\tconsole.error('Tab to hide not found:');\r\n\t\t\t\t\tconsole.error(child.closest('div:not(.tablink-wrapper)'));\r\n\t\t\t\t\tconsole.error('#'+child.dataset.target);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tchildTab.classList.add('hidden');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t//Mark the tabbutton as active\r\n\t\t\ttabButton.classList.add(\"active\");\r\n\t\t}\r\n\r\n\t\t//scroll to field\r\n\t\tif (window.location.hash) {\r\n\t\t\tvar hash \t\t= window.location.hash.replace('#', '');\r\n\r\n\t\t\tvar hashField\t= tab.querySelector(`[name^=\"${hash}\"]`);\r\n\t\t\r\n\t\t\tif(hashField != null){\r\n\t\t\t\thashField.scrollIntoView({block: \"center\"});\r\n\r\n\t\t\t\tvar el\t\t\t= hashField.closest('.inputwrapper');\r\n\t\t\t\tif(el != null){\r\n\t\t\t\t\thashField.closest('.inputwrapper').classList.add('highlight');\r\n\t\t\t\t}\r\n\t\t\t\thashField.classList.add('highlight');\r\n\t\t\t\thashField.focus();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// position any tables on this tab, as they can only be positioned when visible\r\n\t\tif(typeof(SimTableFunctions) != 'undefined'){\r\n\t\t\tSimTableFunctions.positionTable();\r\n\t\t}\r\n\r\n\t\treturn tab;\r\n\t}else{\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nexport function getRoute(target,lat,lon){\r\n\t//Leave the origin empty on a mobile device to use the current location\r\n\tif(isMobileDevice()){\r\n\t\tvar origin = '';\r\n\t}else{\r\n\t\tvar origin = '&origin='+sim.address;\r\n\t}\r\n\tvar url = 'https://www.google.com/maps/dir/?api=1&destination='+lat+','+lon+origin;\r\n\tvar win = window.open(url, '_blank');\r\n\twin.focus();\r\n}\r\n\r\nfunction bodyScrolling(type){\r\n\t//don't do anything on homepage\r\n\t//if(document.querySelector('body').classList.contains('home')) return;\r\n\t\r\n\tif(type == 'disable'){\r\n\t\t//disable scrolling of the body\r\n\t\tdocument.querySelector(\"body\").style.overflow = 'hidden';\r\n \t\tdocument.body.style.top\t\t\t= `0px`;\r\n\r\n\t\t//scroll to top\r\n\t\twindow.scrollTo(0, 0);\r\n\r\n \t\tvar menu = document.querySelector(\"#masthead\");\r\n\t\tmenu.style.overflowY\t= 'scroll';\r\n\t\tmenu.style.top\t\t\t= '0px';\r\n\t\tmenu.style.left\t\t\t= '0';\r\n\t\tmenu.style.right\t\t= '0';\r\n\t\tmenu.style.bottom\t\t= '0';\r\n\t\tmenu.style.position\t\t= 'absolute'; \r\n\r\n\t}else{\r\n\t\t//enable scrolling of the body\r\n\t\tdocument.querySelector(\"body\").style.overflow = '';\r\n\t\tdocument.body.style.top \t\t= '';\r\n\r\n\t\tvar menu = document.querySelector(\"#masthead\");\r\n\t\tmenu.style.overflowY\t= '';\r\n\t\tmenu.style.top\t\t\t= '';\r\n\t\tmenu.style.left\t\t\t= '';\r\n\t\tmenu.style.right\t\t= '';\r\n\t\tmenu.style.bottom\t\t= '';\r\n\t\tmenu.style.position\t\t= '';\r\n\t}\r\n}\r\n\r\nexport function showModal(modal){\r\n\tif(typeof(modal) == 'string'){\r\n\t\tmodal = document.getElementById(modal+\"_modal\");\r\n\t}\r\n\t\r\n\tif(modal != null){\r\n\t\t// Prevent main page scrolling\r\n\t\tdocument.body.style.top\t\t\t= `-${window.scrollY}px`;\r\n\t\tdocument.body.style.position \t= 'fixed';\r\n\t\tlet prim\t\t\t\t\t\t= document.getElementById('primary');\r\n\t\tif(prim != null){\r\n\t\t\tprim.style.zIndex\t\t\t= 99999;\r\n\t\t}\r\n\r\n\t\tmodal.classList.remove('hidden');\r\n\t}\t\r\n}\r\n\r\nexport function hideModals(){\r\n\tlet modals\t= document.querySelectorAll('.modal:not(.hidden)');\r\n\tif(modals.length != 0){\r\n\t\tmodals.forEach(modal=>{\r\n\t\t\tmodal.classList.add('hidden');\r\n\t\t\tconst event = new Event('modalclosed');\r\n\t\t\tmodal.dispatchEvent(event);\r\n\t\t});\r\n\r\n\t\t// Turn main page scrolling on again\r\n\t\tconst scrollY\t\t\t\t\t= document.body.style.top;\r\n\t\tdocument.body.style.position \t= '';\r\n\t\tdocument.body.style.top \t\t= '';\r\n\t\twindow.scrollTo(0, parseInt(scrollY || '0') * -1);\r\n\t\tlet prim\t\t\t\t\t\t= document.getElementById('primary');\r\n\t\tif(prim != null){\r\n\t\t\tprim.style.zIndex\t\t\t= 1;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n//check internet\r\nasync function hasInternet(){\r\n\tif(location.href.includes('localhost')){\r\n\t\twindow['online'] = true;\r\n\t\treturn window['online'];\r\n\t}\r\n\r\n\tawait fetch(location.href).then((result) => {\r\n\t\twindow['online'] = true;\r\n\t}).catch(e => {\r\n\t\twindow['online'] = false;\r\n\t});\r\n\r\n\treturn window['online'];\r\n}\r\n\r\nexport async function waitForInternet(){\r\n\tvar internet\t= await hasInternet();\r\n\tif(!internet){\r\n\t\tdisplayMessage('You have no internet connection, waiting till internet is back...', 'warning', true, true, 5000);\r\n\r\n\t\twhile(!internet){\r\n\t\t\tif(window['online']){\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tinternet\t= await hasInternet();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction positionSubSubMenus(){\r\n\tconst vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n\r\n\tdocument.querySelectorAll('#primary-menu .sub-menu .sub-menu').forEach(el=>{\r\n\t\tel.style.left\t\t= '100%';\r\n\t\tel.parentNode.closest('ul').style.left\t= '100%';\r\n\r\n\t\t// Get parent right coordinate\r\n\t\tlet startPos\t= el.parentNode.getBoundingClientRect()['right'];\r\n\t\t\r\n\t\t// el with\r\n\t\tlet width\t= el.getBoundingClientRect()['width'];\r\n\r\n\t\t// move to left if not fitting on screen\r\n\t\tif(startPos + width > vw){\r\n\t\t\tel.style.right\t= '100%';\r\n\t\t\tel.style.left\t= 'unset';\r\n\t\t}else{\r\n\t\t\tel.style.removeProperty('left');\r\n\t\t}\r\n\r\n\t\t// Reset left\r\n\t\tel.parentNode.closest('ul').style.removeProperty('left');\r\n\t});\r\n}\r\n\r\n//Load after page load\r\ndocument.addEventListener(\"DOMContentLoaded\",function() {\r\n\t// remove any empty widgets\r\n\tdocument.querySelectorAll('.widget').forEach(w=>{\r\n\t\tif(w.innerHTML == ''){\r\n\t\t\tw.remove();\r\n\t\t}\r\n\t});\r\n\r\n\t//loop over all the tab buttons\r\n\tdocument.querySelectorAll('.tablink').forEach(function(tabButton){\r\n\t\t//Add the dataset if it does not exist yet.\r\n\t\tif(tabButton.dataset.param_val == undefined){\r\n\t\t\ttabButton.dataset.param_val = tabButton.textContent.replace(' ','_').toLowerCase();\r\n\t\t}\r\n\t})\r\n\r\n\t//check for tab actions\r\n\tswitchTab();\r\n\r\n\t//add niceselects\r\n\tdocument.querySelectorAll('select:not(.nonice,.swal2-select)').forEach(function(select){\r\n\t\tif(select._niceselect  == undefined){\r\n\t\t\tselect._niceselect = NiceSelect.bind(select, {searchable: true});\r\n\t\t}\r\n\t});\r\n\r\n\t// hide mobile hidden\r\n\tif(isMobileDevice()){\r\n\t\tdocument.querySelectorAll('.hide-on-mobile:not(.hidden)').forEach(el=>el.classList.add('hidden'));\r\n\t}else{\r\n\t\tpositionSubSubMenus();\r\n\t}\t\r\n});\r\n\r\n\r\n//Hide or show the clicked tab\r\nwindow.addEventListener(\"mousedown\", function(event) {\t\r\n\tvar target = event.target;\r\n\t\r\n\t//we clicked the menu\r\n\tif(target.closest('.menu-toggle') != null){\r\n\t\tevent.preventDefault();\r\n\t\tif(target.closest('.menu-toggle').getAttribute(\"aria-expanded\") == \"true\"){\r\n\t\t\tbodyScrolling('enable');\r\n\t\t}else{\r\n\t\t\tbodyScrolling('disable');\r\n\t\t}\r\n\t}\r\n\r\n\t//if clicked outside the menu, then close the menu\r\n\tif(\r\n\t\tdocument.querySelector('.menu-toggle') != null &&\r\n\t\tdocument.querySelector('.menu-toggle').getAttribute(\"aria-expanded\")==\"true\" &&\r\n\t\ttarget.closest('#site-navigation') == null && \r\n\t\ttarget.closest('#mobile-menu-control-wrapper') == null\r\n\t){\r\n\t\tdocument.querySelector('#mobile-menu-control-wrapper').classList.remove(\"toggled\");\r\n\t\tdocument.querySelector('.menu-toggle').setAttribute(\"aria-expanded\", 'false');\r\n\t\tdocument.querySelector('#site-navigation').classList.remove(\"toggled\");\r\n\t\tbodyScrolling('enable');\r\n\t}\r\n\r\n\t//Process the click on tab button\r\n\tif(target.matches(\".tablink\")){\r\n\t\tevent.preventDefault();\r\n\t\t//change the url in browser\r\n\t\tchangeUrl(target);\r\n\r\n\t\t//show the tab\r\n\t\tdisplayTab(target);\r\n\t}\t\r\n\r\n\t//close modal if clicked outside of modal\r\n\tlet modal\t= document.querySelector('.modal:not(.hidden)');\r\n\tif(modal != undefined){\r\n\t\tlet scrollBarWidth\t= window.innerWidth - modal.clientWidth;\r\n\t\tif(\r\n\t\t\ttarget.matches(\".modal .close\") || \t\t\t\t\t// close button clicked\r\n\t\t\t(\r\n\t\t\t\t(\r\n\t\t\t\t\tscrollBarWidth > 0\t&&\t\t\t\t\t\t// there is a scrollbar\r\n\t\t\t\t\tevent.clientX < modal.clientWidth\t\t\t// but we did not click on it\r\n\t\t\t\t)\t||\r\n\t\t\t\tscrollBarWidth\t=== 0\t\t\t\t\t\t\t// there is no scrollbar\r\n\t\t\t)\t&&\r\n\t\t\t(\r\n\t\t\t\ttarget.closest('.modal-content') == null && \t// not clicked inside the modal\r\n\t\t\t\ttarget.closest('.swal2-container') == null &&\t// not clicked on swal message container\r\n\t\t\t\ttarget.tagName == 'DIV'\t\t\t\t\t\t\t// the target is a div\r\n\t\t\t)\r\n\t\t){\r\n\t\t\t//console.log(event.clientX);\r\n\t\t\t//console.log(window.outerWidth);\r\n\t\t\thideModals();\r\n\t\t}\r\n\t}\r\n});\r\n","import {changeUrl, displayTab} from './../../../../js/main.js'\r\n\r\nconsole.log('admin.js loaded');\r\n\r\nfunction switchSlider(event){\r\n    if(event.target.checked){\r\n        document.querySelectorAll('.options, .tablink-wrapper').forEach(el=>el.style.display    = 'block');\r\n    }else{\r\n        document.querySelectorAll('.options, .tablink-wrapper').forEach(el=>el.style.display    = 'none');\r\n    }\r\n}\r\n\r\n//Load after page load\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n\tdocument.querySelector('[name=\"enable\"]').addEventListener('change', switchSlider);\r\n\r\n\t//add niceselects\r\n\tdocument.querySelectorAll('select:not(.nonice,.swal2-select)').forEach(function(select){\r\n        if(select._niceselect  == undefined){\r\n\t\t    select._niceselect = NiceSelect.bind(select,{searchable: true});\r\n        }\r\n\t});\r\n});\r\n\r\nwindow.addEventListener(\"click\", event => {\r\n\tlet target = event.target;\r\n    if(target.classList.contains('placeholderselect') || target.classList.contains('placeholders')){\r\n        event.preventDefault();\r\n\r\n        let value = '';\r\n        if(target.classList.contains('placeholders')){\r\n            value = target.textContent;\r\n        }else if(target.value != ''){\r\n            value = target.value;\r\n            target.selectedIndex = '0';\r\n        }\r\n        \r\n        if(value != ''){\r\n            let options = {\r\n                icon: 'success',\r\n                title: 'Copied '+value,\r\n                showConfirmButton: false,\r\n                timer: 1500\r\n            };\r\n\r\n            if(document.fullscreenElement != null){\r\n                options['target']\t= document.fullscreenElement;\r\n            }\r\n\r\n            Swal.fire(options);\r\n            navigator.clipboard.writeText(value);\r\n        }\r\n    }\r\n\r\n    if(target.matches(\".tablink\")){\r\n\t\tevent.preventDefault();\r\n\t\t//change the url in browser\r\n\t\tchangeUrl(target);\r\n\r\n\t\t//show the tab\r\n\t\tdisplayTab(target);\r\n\t}\r\n});","export let scripts;\r\n\r\nexport let afterScriptsLoaded\t= function (attachTo){\r\n    if(typeof(tinymce) != 'undefined'){\r\n        tinymce.remove();\r\n\r\n        // Activate tinyMce's again\r\n        document.querySelectorAll('.entry-content .wp-editor-area').forEach(el =>{\r\n            window.tinyMCE.execCommand('mceAddEditor', false, el.id);\r\n        });\r\n    }    \r\n\r\n    // invoke dom content loaded events\r\n    window.document.dispatchEvent(new Event(\"DOMContentLoaded\", {\r\n        bubbles: true,\r\n        cancelable: true\r\n    }));\r\n\r\n    // Somehow the visual/text switch does not work, manually fix it\r\n    document.querySelectorAll('.wp-switch-editor').forEach(el=>el.addEventListener('click', ev=>{\r\n        let area    = el.closest('.wp-editor-wrap').querySelector('.wp-editor-area');\r\n        let panel   =  el.closest('.wp-editor-wrap').querySelector('.mce-panel');\r\n        area.style.visibility='unset';\r\n        if(ev.target.matches('.switch-tmce')){\r\n           panel.style.display='block';\r\n            area.style.display='none';\r\n        }else{\r\n            panel.style.display='none';\r\n            area.style.display='block';\r\n        }\r\n    }));\r\n\r\n    //add niceselects\r\n\tdocument.querySelectorAll('select:not(.nonice,.swal2-select)').forEach(function(select){\r\n        if(select._niceselect == undefined){\r\n\t\t    select._niceselect = NiceSelect.bind(select,{searchable: true});\r\n        }\r\n\t});\r\n\r\n    const ev = new Event('scriptsloaded');\r\n\tattachTo.dispatchEvent(ev);\r\n}\r\n\r\nexport let addStyles    = function (response, attachTo){\r\n    let temp = document.createElement('div');\r\n\r\n    if(response.js){\r\n        temp.innerHTML =  response.js;\r\n        scripts\t= [...temp.children];\r\n        addScripts(attachTo);\r\n    }\r\n\r\n    if(response.css){\r\n        temp.innerHTML = response.css;\r\n        [...temp.children].forEach(el => {\r\n            document.head.appendChild(el);\r\n        });\r\n    }\r\n}\r\n\r\nexport let addScripts\t= function (attachTo) {\r\n    if(attachTo == undefined){\r\n        return;\r\n    }\r\n\r\n    if(scripts.length == 0){\r\n        afterScriptsLoaded(attachTo);\r\n    }\r\n    let el\t= scripts.shift();\r\n\r\n    if(el == undefined){\r\n        afterScriptsLoaded(attachTo);\r\n        return;\r\n    }\r\n\r\n    // only add if needed\r\n    if(el.tagName == 'SCRIPT' && document.getElementById(el.id) == null){\r\n        var s = document.createElement('script');\r\n\r\n        if(el.type == ''){\r\n            s.type\t= 'text/javascript'; \r\n        }else{\r\n            s.type\t= el.type;\r\n        }\r\n\r\n        if(el.src != ''){\r\n            s.src \t= el.src;\r\n        }else{\r\n            s.innerHTML\t= el.innerHTML;\r\n        }\r\n        \r\n        s.id\t= el.id;\r\n        \r\n        document.head.appendChild(s);\r\n\r\n        if(scripts.length > 0){\r\n            if(el.src != ''){\r\n                s.addEventListener('load', addScripts.bind( null, attachTo ) );\r\n            }else{\r\n                addScripts(attachTo);\r\n            }\r\n        }else{\r\n            if(el.src != ''){\r\n                s.addEventListener('load', afterScriptsLoaded.bind( null, attachTo));\r\n            }else{\r\n                afterScriptsLoaded(attachTo);\r\n            }\t\t\t\r\n        }\r\n    }else if(scripts.length > 0){\r\n        // get next script\r\n        addScripts(attachTo);\r\n    }else{\r\n        afterScriptsLoaded(attachTo);\r\n    }\r\n}\r\n\r\nexport function displayMessage(message, icon, autoclose=false, no_ok=false, timer=1500){\r\n\tif(message == undefined){\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tif(typeof(Swal) != 'undefined'){\r\n\t\tvar options = {\r\n\t\t\ticon: icon,\r\n\t\t\ttitle: message.trim(),\r\n\t\t\tconfirmButtonColor: \"#bd2919\",\r\n\t\t\tcancelButtonColor: 'Crimson'\r\n\t\t};\r\n\r\n\t\tif(no_ok){\r\n\t\t\toptions['showConfirmButton'] = false;\r\n\t\t}\r\n\t\t\r\n\t\tif(typeof(callback) == 'function'){\r\n\t\t\toptions['didClose'] = () => callback();\r\n\t\t}\r\n\t\t\r\n\t\tif(autoclose){\r\n\t\t\toptions['timer'] = timer;\r\n\t\t}\r\n\r\n        if(document.fullscreenElement != null){\r\n\t\t\toptions['target']\t= document.fullscreenElement;\r\n\t\t}\r\n\t\t\r\n\t\treturn Swal.fire(options);\r\n\t}else{\r\n\t\treturn alert(message.trim());\r\n\t}\r\n}\r\n\r\nexport function showLoader(element, replace=true, message=''){\r\n\tif(element == null){\r\n\t\treturn;\r\n\t}\r\n\t\r\n\tlet wrapper\t= document.createElement(\"DIV\");\r\n\twrapper.setAttribute('class','loaderwrapper');\r\n\tif(message != ''){\r\n\t\twrapper.innerHTML\t= message;\r\n\t}\r\n\r\n\tlet loader\t= document.createElement(\"IMG\");\r\n\tloader.setAttribute('class','loadergif');\r\n\tloader.setAttribute(\"src\", sim.loadingGif);\r\n\tloader.style[\"height\"]= \"30px\";\r\n\r\n\twrapper.insertAdjacentElement('beforeEnd', loader);\r\n\tif(replace){\r\n\t\telement.parentNode.replaceChild(wrapper, element);\r\n\t}else{\r\n        let el  = element.nextElementSibling;\r\n        if(el == null){\r\n            element.parentNode.insertAdjacentElement('beforeEnd', wrapper);\r\n        }else{\r\n            element.parentNode.insertBefore(wrapper, el);\r\n        }\r\n\t}\r\n\r\n\treturn wrapper;\r\n}\r\n\r\n//Check if on mobile\r\nexport function isMobileDevice() {\r\n    let check = false;\r\n    (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\r\n    return check;\r\n}\r\n"],"names":["changeUrl","target","secondTab","newParam","dataset","param_val","hash","url","URL","window","location","closest","parentNode","classList","contains","searchParams","set","delete","history","pushState","tagName","switchTab","event","params","Proxy","URLSearchParams","search","get","prop","mainTab","main_tab","lastTab","document","querySelectorAll","forEach","tabbutton","result","displayTab","tabButton","tab","el","remove","undefined","querySelector","id","child","childTab","console","error","add","replace","hashField","scrollIntoView","block","focus","SimTableFunctions","positionTable","bodyScrolling","type","menu","style","overflow","body","top","scrollTo","overflowY","left","right","bottom","position","switchSlider","checked","display","log","addEventListener","w","innerHTML","textContent","toLowerCase","select","_niceselect","NiceSelect","bind","searchable","check","a","navigator","userAgent","vendor","opera","test","substr","vw","Math","max","documentElement","clientWidth","innerWidth","getBoundingClientRect","removeProperty","positionSubSubMenus","preventDefault","getAttribute","setAttribute","matches","modal","scrollBarWidth","clientX","modals","length","Event","dispatchEvent","scrollY","parseInt","prim","getElementById","zIndex","hideModals","value","selectedIndex","options","icon","title","showConfirmButton","timer","fullscreenElement","Swal","fire","clipboard","writeText"],"sourceRoot":""}