{"version":3,"file":"index.js","mappings":"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;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA;WACA;WACA,kBAAkB,qBAAqB;WACvC,oHAAoH,iDAAiD;WACrK;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC7BA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA,8CAA8C;;WAE9C;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,iCAAiC,mCAAmC;WACpE;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;;;;;UEnDA;UACA;UACA;UACA,2FAA2F,+CAA+C;UAC1I","sources":["webpack://sim-page-gallery/./src/edit.js","webpack://sim-page-gallery/./src/index.js","webpack://sim-page-gallery/./src/editor.scss","webpack://sim-page-gallery/./src/style.scss","webpack://sim-page-gallery/external window [\"wp\",\"apiFetch\"]","webpack://sim-page-gallery/external window [\"wp\",\"blockEditor\"]","webpack://sim-page-gallery/external window [\"wp\",\"blocks\"]","webpack://sim-page-gallery/external window [\"wp\",\"components\"]","webpack://sim-page-gallery/external window [\"wp\",\"coreData\"]","webpack://sim-page-gallery/external window [\"wp\",\"data\"]","webpack://sim-page-gallery/external window [\"wp\",\"element\"]","webpack://sim-page-gallery/external window [\"wp\",\"i18n\"]","webpack://sim-page-gallery/webpack/bootstrap","webpack://sim-page-gallery/webpack/runtime/chunk loaded","webpack://sim-page-gallery/webpack/runtime/compat get default export","webpack://sim-page-gallery/webpack/runtime/define property getters","webpack://sim-page-gallery/webpack/runtime/hasOwnProperty shorthand","webpack://sim-page-gallery/webpack/runtime/make namespace object","webpack://sim-page-gallery/webpack/runtime/jsonp chunk loading","webpack://sim-page-gallery/webpack/before-startup","webpack://sim-page-gallery/webpack/startup","webpack://sim-page-gallery/webpack/after-startup"],"sourcesContent":["import { __ } from '@wordpress/i18n';\r\nimport {useBlockProps, InspectorControls} from \"@wordpress/block-editor\";\r\nimport './editor.scss';\r\nimport apiFetch from \"@wordpress/api-fetch\";\r\nimport {useState, useEffect} from \"@wordpress/element\";\r\nimport {Panel, PanelBody, Spinner, CheckboxControl} from \"@wordpress/components\";\r\nimport { store as coreDataStore } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\nconst Edit = ({ setAttributes, attributes, context }) => {\r\n\tlet selPostTypes\t\t\t\t\t\t\t\t\t= attributes.postTypes;\r\n\tlet selCategories\t\t\t\t\t\t\t\t\t= JSON.parse(attributes.categories);\r\n\tconst curPostType\t\t\t\t\t\t\t\t\t= context['postType'];\r\n\r\n\tconst [usedPostTypes, setUsedPostTypes]\t\t\t\t= useState( [] );\r\n\r\n\tconst [availableCats, setAvailableCats]\t\t\t\t= useState( {} );\r\n\r\n\tconst [html, setHtml] \t\t\t\t\t\t\t\t= useState(< Spinner /> );\r\n\r\n\tconst [postTypeCheckboxes, setPostTypeCheckboxes]\t= useState( < Spinner /> );\r\n\r\n\tconst [catCheckboxes, setCatCheckboxes]\t\t\t\t= useState( < Spinner /> );\r\n\r\n\tconst [trigger, setTrigger] \t\t\t\t\t\t= useState(false); // dummy to fore rerender\r\n\r\n\tconst taxonomies = useSelect(\r\n\t\t( select) => {\r\n\t\t\treturn select( coreDataStore ).getTaxonomies({per_page: -1});\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\tconst postTypes = useSelect(\r\n\t\t( select) => {\r\n\t\t\treturn select( coreDataStore ).getPostTypes({per_page: -1});\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\t// Get all categories\r\n\tuseEffect( \r\n\t\t() => {\r\n\t\t\tif( postTypes == null || taxonomies == null){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet usedPostTypes\t= postTypes.filter( type => !['revision','nav_menu_item','custom_css','customize_changeset','oembed_cache','user_request','wp_block','wp_template', 'wp_template_part', 'wp_navigation'].includes(type.slug));\r\n\t\t\tsetUsedPostTypes(usedPostTypes);\r\n\t\t\tlet copy\t= {...availableCats}\r\n\r\n\t\t\tusedPostTypes.map( type =>{\r\n\t\t\t\tlet tax\t= taxonomies.filter(cat => cat.types.includes(type.slug));\r\n\r\n\t\t\t\tif(copy[type.slug] == undefined){\r\n\t\t\t\t\tcopy[type.slug] = {};\r\n\t\t\t\t}\r\n\r\n \t\t\t\ttax.map(async t => {\r\n\t\t\t\t\tcopy[type.slug][t.slug] =  await apiFetch({path: `/${t.rest_namespace}/${t.rest_base}`});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tsetAvailableCats(copy);\r\n\t\t} ,\r\n\t\t[ postTypes, taxonomies ]\r\n\t);\r\n\r\n\tconst postTypeSelected = function (slug, checked){\r\n\t\tlet newPostTypes\t= [...selPostTypes];\r\n\r\n\t\tif( !checked){\r\n\t\t\tnewPostTypes   = newPostTypes.filter(el => el != slug);\r\n\t\t}else if(!newPostTypes.includes(slug)){\r\n\t\t\tnewPostTypes.push(slug)\r\n\t\t}\r\n\r\n\t\tsetAttributes({postTypes: newPostTypes});\r\n\t}\r\n\r\n\tconst postCatSelected = function (type, tax, slug, checked){\r\n\t\tlet newSelCategories\t= {...selCategories};\r\n\r\n\t\tif(newSelCategories[type] == undefined){\r\n\t\t\tnewSelCategories[type]\t= {};\r\n\t\t}\r\n\r\n\t\tif(newSelCategories[type][tax] == undefined){\r\n\t\t\tnewSelCategories[type][tax]\t= [];\r\n\t\t}\r\n\r\n\t\tif( !checked){\r\n\t\t\tnewSelCategories   = newSelCategories[type][tax].filter(el => el != slug);\r\n\t\t}else if(!newSelCategories[type][tax].includes(slug)){\r\n\t\t\tnewSelCategories[type][tax].push(slug)\r\n\t\t}\r\n\t\tsetAttributes({categories: JSON.stringify(newSelCategories)});\r\n\t}\r\n\r\n\t// build the checkboxes for the post type selections\r\n\tuseEffect( async () => {\r\n\r\n\t\tif(postTypes == null){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetPostTypeCheckboxes(\r\n\t\t\tusedPostTypes.map( c => (\r\n\t\t\t\t<CheckboxControl\r\n\t\t\t\t\tlabel\t\t= { c.name }\r\n\t\t\t\t\tonChange\t= { (checked) => {postTypeSelected(c.slug, checked)} }\r\n\t\t\t\t\tchecked\t\t= { selPostTypes.includes(c.slug) }\r\n\t\t\t\t/>\r\n\t\t\t))\r\n\t\t);\r\n\t} , [ postTypes, attributes.postTypes]);\r\n\r\n\t// build the checkboxes for the category selection\r\n\tuseEffect( \r\n\t\t() => {\r\n\t\t\tlet selected\t= true;\r\n\t\t\t\r\n\t\t\tif(Object.keys(availableCats).length == 0){\r\n\t\t\t\tsetCatCheckboxes(< Spinner />);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet rendered\t= [];\r\n\r\n\t\t\tif(selPostTypes.length == 0 && availableCats[curPostType] != undefined ){\r\n\t\t\t\tsetAttributes({postTypes: [curPostType]});\r\n\t\t\t}\r\n\r\n\t\t\tselPostTypes.forEach(postType =>{\r\n\t\t\t\trendered.push(<h2>{postType.charAt(0).toUpperCase() + postType.slice(1)}</h2>);\r\n\r\n\t\t\t\tif(availableCats[postType] == undefined || Object.entries(availableCats[postType]).length == 0){\r\n\t\t\t\t\tsetCatCheckboxes(< Spinner />);\r\n\r\n\t\t\t\t\t// Check every second\r\n\t\t\t\t\tsetTimeout(\r\n\t\t\t\t\t\tsetTrigger,\r\n\t\t\t\t\t\t1000,\r\n\t\t\t\t\t\t!trigger\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tObject.keys(availableCats[postType]).forEach(tax=>{\r\n\t\t\t\t\trendered.push(tax.charAt(0).toUpperCase() + tax.slice(1));\r\n\t\t\t\t\tObject.values(availableCats[postType][tax]).map(c=>{\r\n\t\t\t\t\t\tselected\t= true;\r\n\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\tselected\t= selCategories[postType][tax].includes(c.slug);\r\n\t\t\t\t\t\t}catch (e) {\r\n\t\t\t\t\t\t\tselected\t= false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\trendered.push(\r\n\t\t\t\t\t\t\t<CheckboxControl\r\n\t\t\t\t\t\t\t\tlabel\t\t= { c.name }\r\n\t\t\t\t\t\t\t\tonChange\t= { (checked) => { postCatSelected(postType, tax, c.slug, checked) } }\r\n\t\t\t\t\t\t\t\tchecked\t\t= { selected }\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t});\r\n\r\n\t\t\tsetCatCheckboxes(rendered);\r\n\t\t} ,\r\n\t\t[ availableCats, attributes.categories, attributes.postTypes, trigger ]\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<InspectorControls>\r\n\t\t\t\t\t<Panel>\r\n\t\t\t\t\t\t<PanelBody>\r\n\t\t\t\t\t\t\tSelect the post types you want to include in the gallery:\r\n\t\t\t\t\t\t\t{ postTypeCheckboxes }\r\n\t\t\t\t\t\t\tSelect the categories you want from any post type.\r\n\t\t\t\t\t\t\tLeave empty for all\r\n\t\t\t\t\t\t\t{ catCheckboxes }\r\n\t\t\t\t\t\t</PanelBody>\r\n\t\t\t\t\t</Panel>\r\n\t\t\t</InspectorControls>\r\n\t\t\t<div {...useBlockProps()}>\r\n\t\t\t\tTest\r\n\t\t\t\t{wp.element.RawHTML( { children: html })}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Edit;\r\n","import { registerBlockType } from '@wordpress/blocks';\r\nimport './style.scss';\r\nimport Edit from './edit';\r\nimport metadata from './block.json';\r\n\r\n\r\nregisterBlockType( metadata.name, {\r\n\ticon: 'page',\r\n\t/**\r\n\t * @see ./edit.js\r\n\t */\r\n\tedit: Edit,\r\n\r\n\tsave: () => null\r\n} );\r\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"index\": 0,\n\t\"./style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksim_page_gallery\"] = self[\"webpackChunksim_page_gallery\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"./style-index\"], function() { return __webpack_require__(\"./src/index.js\"); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["__","useBlockProps","InspectorControls","apiFetch","useState","useEffect","Panel","PanelBody","Spinner","CheckboxControl","store","coreDataStore","useSelect","Edit","setAttributes","attributes","context","selPostTypes","postTypes","selCategories","JSON","parse","categories","curPostType","usedPostTypes","setUsedPostTypes","availableCats","setAvailableCats","html","setHtml","postTypeCheckboxes","setPostTypeCheckboxes","catCheckboxes","setCatCheckboxes","trigger","setTrigger","taxonomies","select","getTaxonomies","per_page","getPostTypes","filter","type","includes","slug","copy","map","tax","cat","types","undefined","t","path","rest_namespace","rest_base","postTypeSelected","checked","newPostTypes","el","push","postCatSelected","newSelCategories","stringify","c","name","selected","Object","keys","length","rendered","forEach","postType","charAt","toUpperCase","slice","entries","setTimeout","values","e","wp","element","RawHTML","children","registerBlockType","metadata","icon","edit","save"],"sourceRoot":""}