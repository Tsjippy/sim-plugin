(()=>{document.addEventListener("DOMContentLoaded",(()=>{console.log("Auto refresh media gallery.js loaded"),document.querySelectorAll(".media-gallery-article").forEach((t=>{e(t,!0)}))}));let e=async function(t,a=!1){let l=parseInt(t.dataset.speed);if("number"!=typeof l)return;let r=t;if(!a){var d=new FormData;d.append("types",t.dataset.types),d.append("amount",t.querySelectorAll(".media-gallery").length),d.append("categories",t.dataset.categories),d.append("speed",l),d.append("title",t.querySelector(".media-gallery-title").textContent),d.append("color",t.style.background),d.append("desc",t.dataset.desc);var n=await FormSubmit.fetchRestApi("media_gallery/show_media_gallery",d,!1);if(n){let e=document.createElement("div");e.innerHTML=n,r=e.querySelector(".media-gallery-article");let a=r.querySelectorAll("img"),l=a.length;a.forEach((e=>{e.removeAttribute("loading"),e.addEventListener("load",(()=>{l--,0===l&&t.replaceWith(r)})),e.src=e.src}))}}setTimeout(e,1e3*l,r)}})();
//# sourceMappingURL=auto_refresh.min.js.map