(()=>{"use strict";var e,t={903:(e,t,n)=>{const l=window.wp.blocks,r=window.wp.element,a=window.wp.i18n,o=window.wp.blockEditor,s=window.wp.components,i=window.wp.htmlEntities,c=window.wp.apiFetch;var u=n.n(c);const p=JSON.parse('{"u2":"sim/embed-page"}');(0,l.registerBlockType)(p.u2,{icon:"embed-generic",edit:e=>{let{attributes:t,setAttributes:n}=e;const{page:l,hide:c}=t;let p;p=null==JSON.parse(l).post_content?"":JSON.parse(l).post_content;const[d,m]=(0,r.useState)(""),[h,g]=(0,r.useState)(""),[w,b]=(0,r.useState)(p),[f,v]=(0,r.useState)(!1);(0,r.useEffect)((async()=>{v(!1);const e=await u()({path:sim.restApiPrefix+"/embedpage/find",method:"POST",data:{search:d}});v(e)}),[d]);const E=function(e){e?(n({page:JSON.stringify(this)}),b(this.post_content)):n({page:null})},_=function(e){let{pageList:n}=e;return f?null!=n&&n.length?null==f?void 0:f.map((e=>(0,r.createElement)(s.CheckboxControl,{label:(0,i.decodeEntities)(e.post_title),onChange:E.bind(e),checked:t.page==e}))):d?(0,r.createElement)("div",null," ",(0,a.__)("No search results","sim")):"":(0,r.createElement)(r.Fragment,null,(0,r.createElement)(s.Spinner,null),(0,r.createElement)("br",null))};(0,r.useEffect)((()=>{g(null!=w&&""!=w?wp.element.RawHTML({children:w}):w&&null!=w&&""!=w?wp.element.RawHTML({children:w[0].content.raw}):(0,a.__)("Please select a page...","sim"))}),[w]);const O=e=>""!=w&&e?"":(0,r.createElement)(r.Fragment,null,(0,r.createElement)(s.SearchControl,{onChange:m,value:d,autoFocus:!0}),(0,r.createElement)(_,{pageList:f}));return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(o.InspectorControls,null,(0,r.createElement)(s.PanelBody,{title:(0,a.__)("Page Embed Settings","sim")},(0,r.createElement)(s.CheckboxControl,{label:(0,a.__)("Only show contents on hover"),onChange:e=>n({hide:e}),checked:c}),(0,r.createElement)((function(){return null==l?"":(0,r.createElement)(r.Fragment,null,"Currently embeded page:",(0,r.createElement)(s.CheckboxControl,{label:(0,i.decodeEntities)(JSON.parse(l).post_title),onChange:E.bind(l),checked:!0}))}),null),(0,r.createElement)("i",null,(0,a.__)("Use searchbox below to search for a page","sim")),O(!1))),(0,r.createElement)("div",(0,o.useBlockProps)(),O(!0),h))},save:()=>null})}},n={};function l(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,l),a.exports}l.m=t,e=[],l.O=(t,n,r,a)=>{if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],a=e[u][2];for(var s=!0,i=0;i<n.length;i++)(!1&a||o>=a)&&Object.keys(l.O).every((e=>l.O[e](n[i])))?n.splice(i--,1):(s=!1,a<o&&(o=a));if(s){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};l.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,o=n[0],s=n[1],i=n[2],c=0;if(o.some((t=>0!==e[t]))){for(r in s)l.o(s,r)&&(l.m[r]=s[r]);if(i)var u=i(l)}for(t&&t(n);c<o.length;c++)a=o[c],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(u)},n=self.webpackChunksim_embed_page=self.webpackChunksim_embed_page||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=l.O(void 0,[431],(()=>l(903)));r=l.O(r)})();