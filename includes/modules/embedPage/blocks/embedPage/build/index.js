(()=>{"use strict";var e,t={903:(e,t,n)=>{const r=window.wp.blocks,l=window.wp.element,a=window.wp.i18n,o=window.wp.blockEditor,s=window.wp.components,i=window.wp.htmlEntities,c=window.wp.apiFetch;var u=n.n(c);const p=JSON.parse('{"u2":"sim/embed-page"}');(0,r.registerBlockType)(p.u2,{icon:"embed-generic",edit:e=>{let{attributes:t,setAttributes:n}=e;const{page:r}=t;let c;c=null==JSON.parse(r).post_content?"":JSON.parse(r).post_content;const[p,m]=(0,l.useState)(""),[d,g]=(0,l.useState)(""),[h,w]=(0,l.useState)(c),[b,f]=(0,l.useState)(!1);(0,l.useEffect)((async()=>{f(!1);const e=await u()({path:sim.restApiPrefix+"/embedpage/find",method:"POST",data:{search:p}});f(e)}),[p]);const v=function(e){e?(n({page:JSON.stringify(this)}),w(this.post_content)):n({page:null})},E=function(e){let{pageList:n}=e;return b?null!=n&&n.length?null==b?void 0:b.map((e=>(0,l.createElement)(s.CheckboxControl,{label:(0,i.decodeEntities)(e.post_title),onChange:v.bind(e),checked:t.page==e}))):p?(0,l.createElement)("div",null," ",(0,a.__)("No search results","sim")):"":(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.Spinner,null),(0,l.createElement)("br",null))};(0,l.useEffect)((()=>{g(null!=h&&""!=h?wp.element.RawHTML({children:h}):h&&null!=h&&""!=h?wp.element.RawHTML({children:h[0].content.raw}):(0,a.__)("Please select a page...","sim"))}),[h]);const _=e=>""!=h&&e?"":(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.SearchControl,{onChange:m,value:p,autoFocus:!0}),(0,l.createElement)(E,{pageList:b}));return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(o.InspectorControls,null,(0,l.createElement)(s.PanelBody,{title:(0,a.__)("Page Embed Settings","sim")},(0,l.createElement)((function(){return null==r?"":(0,l.createElement)(l.Fragment,null,"Currently embeded page:",(0,l.createElement)(s.CheckboxControl,{label:(0,i.decodeEntities)(JSON.parse(r).post_title),onChange:v.bind(r),checked:!0}))}),null),(0,l.createElement)("i",null,(0,a.__)("Use searchbox below to search for a page","sim")),_(!1))),(0,l.createElement)("div",(0,o.useBlockProps)(),_(!0),d))},save:()=>null})}},n={};function r(e){var l=n[e];if(void 0!==l)return l.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,e=[],r.O=(t,n,l,a)=>{if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],l=e[u][1],a=e[u][2];for(var s=!0,i=0;i<n.length;i++)(!1&a||o>=a)&&Object.keys(r.O).every((e=>r.O[e](n[i])))?n.splice(i--,1):(s=!1,a<o&&(o=a));if(s){e.splice(u--,1);var c=l();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,l,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var l,a,o=n[0],s=n[1],i=n[2],c=0;if(o.some((t=>0!==e[t]))){for(l in s)r.o(s,l)&&(r.m[l]=s[l]);if(i)var u=i(r)}for(t&&t(n);c<o.length;c++)a=o[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(u)},n=self.webpackChunksim_embed_page=self.webpackChunksim_embed_page||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=r.O(void 0,[431],(()=>r(903)));l=r.O(l)})();