(()=>{"use strict";var e,t={848:(e,t,n)=>{const r=window.wp.blocks,l=window.wp.element,a=window.wp.i18n,o=window.wp.blockEditor,s=window.wp.components,i=(window.wp.data,window.wp.coreData,window.wp.htmlEntities),c=window.wp.apiFetch;var p=n.n(c);const u=JSON.parse('{"u2":"sim/embed-page"}');(0,r.registerBlockType)(u.u2,{icon:"embed-generic",edit:e=>{let{attributes:t,setAttributes:n}=e;const{page:r}=t;let c;c=null==JSON.parse(r).post_content?"":JSON.parse(r).post_content;const[u,d]=(0,l.useState)(""),[m,w]=(0,l.useState)(""),[g,h]=(0,l.useState)(c),[b,f]=(0,l.useState)(!1);(0,l.useEffect)((async()=>{f(!1);const e=await p()({path:sim.restApiPrefix+"/embedpage/find",method:"POST",data:{search:u}});f(e)}),[u]);const v=function(e){e?(console.log(JSON.stringify(this)),n({page:JSON.stringify(this)}),h(this.post_content)):n({page:null})},E=function(e){let{pageList:n}=e;return b?null!=n&&n.length?null==b?void 0:b.map((e=>(0,l.createElement)(s.CheckboxControl,{label:(0,i.decodeEntities)(e.post_title),onChange:v.bind(e),checked:t.page==e}))):u?(0,l.createElement)("div",null," ",(0,a.__)("No search results","sim")):"":(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.Spinner,null),(0,l.createElement)("br",null))};(0,l.useEffect)((()=>{w(null!=g&&""!=g?wp.element.RawHTML({children:g}):g&&null!=g&&""!=g?wp.element.RawHTML({children:g[0].content.raw}):(0,a.__)("Please select a page...","sim"))}),[g]);const _=e=>""!=g&&e?"":(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.SearchControl,{onChange:d,value:u,autoFocus:!0}),(0,l.createElement)(E,{pageList:b}));return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(o.InspectorControls,null,(0,l.createElement)(s.PanelBody,{title:(0,a.__)("Page Embed Settings","sim")},(0,l.createElement)((function(){return null==r?"":(0,l.createElement)(l.Fragment,null,"Currently embeded page:",(0,l.createElement)(s.CheckboxControl,{label:(0,i.decodeEntities)(JSON.parse(r).post_title),onChange:v.bind(r),checked:!0}))}),null),(0,l.createElement)("i",null,(0,a.__)("Use searchbox below to search for a page","sim")),_(!1))),(0,l.createElement)("div",(0,o.useBlockProps)(),_(!0),m))},save:()=>null})}},n={};function r(e){var l=n[e];if(void 0!==l)return l.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,e=[],r.O=(t,n,l,a)=>{if(!n){var o=1/0;for(p=0;p<e.length;p++){n=e[p][0],l=e[p][1],a=e[p][2];for(var s=!0,i=0;i<n.length;i++)(!1&a||o>=a)&&Object.keys(r.O).every((e=>r.O[e](n[i])))?n.splice(i--,1):(s=!1,a<o&&(o=a));if(s){e.splice(p--,1);var c=l();void 0!==c&&(t=c)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[n,l,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var l,a,o=n[0],s=n[1],i=n[2],c=0;if(o.some((t=>0!==e[t]))){for(l in s)r.o(s,l)&&(r.m[l]=s[l]);if(i)var p=i(r)}for(t&&t(n);c<o.length;c++)a=o[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(p)},n=self.webpackChunksim_embed_page=self.webpackChunksim_embed_page||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=r.O(void 0,[431],(()=>r(848)));l=r.O(l)})();