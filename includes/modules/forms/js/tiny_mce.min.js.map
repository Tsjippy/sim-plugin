{"version":3,"file":"tiny_mce.min.js","mappings":"MAAA,IAAIA,EAqBAC,EAA4B,CAC5BC,MAAO,IACPC,OAAQ,IACRC,MAAO,cACPC,MAAO,CACHC,KAAM,YACNC,QAAS,UACTC,KAtBR,sTAUUC,8CAcNC,QAAS,CAAC,CACNC,KAAM,mBACNC,QAAS,WACL,IAAIC,EAAYC,SAASC,cAAc,cAAcC,MACjDC,EAAeH,SAASC,cAAc,0BAA0BC,MACrD,IAAZH,GACCK,QAAQC,aAAaC,cAAc,yBAAyBP,MAC5DQ,KAAKC,eAAe,gHACC,IAAhBL,IACLC,QAAQC,aAAaC,cAAc,yBAAyBH,MAE5DM,MAAM,8GAGVvB,EAAOwB,OACX,GACF,CACEb,KAAM,QACNC,QAAS,WAKjBM,QAAQO,OAEJ,wCACA,CACIC,KAAK,SAASC,EAAQC,GAClBD,EAAOE,WAAW,4BACd,WACI7B,EAAS2B,EAAOG,cAAcC,KAAK9B,EACvC,IAGJ0B,EAAOK,UAAU,wBACb,CACIC,QAAS,oBACT7B,MAAM,oBACN8B,IAAI,2BACJC,MAAMP,EAAI,gCAItB,EAEAQ,cAAc,WACV,OAAO,IACX,IAIRlB,QAAQmB,cAAcC,IAClB,wBACApB,QAAQqB,QAAQC,uBAGpBC,QAAQC,IAAI,oC","sources":["webpack://forms/./tiny_mce.js"],"sourcesContent":["var dialog;\r\n\r\n/*\r\n    ADD FORM\r\n*/\r\nvar addFormShortcodeHtml = \r\n`<div  class=\"wp-editor-help\">\r\n    <label>\r\n        Give the formname in one word:<br>\r\n        <input type=\"text\" id=\"form_name\" name=\"form_name\" style=\"width:300px;\">\r\n    </label>\r\n    <br>\r\n    <br>\r\n    <label>\r\n        Or add a table to display<br>\r\n        the data of an existing form:<br>\r\n        ${formSelect}\r\n    </label>\r\n    <br>\r\n</div>`;\r\n\r\nvar insertFormShortcodeDialog = {\r\n    width: 350,\r\n    height: 160,\r\n    title: 'Insert form',\r\n    items: {\r\n        type: 'container',\r\n        classes: 'wp-help',\r\n        html: addFormShortcodeHtml\r\n    },\r\n    buttons: [{\r\n        text: 'Insert shortcode',\r\n        onclick: function(){\r\n            var formName\t\t= document.querySelector(\"#form_name\").value;\r\n            var formSelector\t= document.querySelector(\"[name='form_selector']\").value;\r\n            if(formName != ''){\r\n                tinymce.activeEditor.insertContent(`[formbuilder formname=${formName}]`);\r\n                Main.displayMessage(\"Form succesfully inserted.\\n\\n Please publish the page, then visit the new page to start building your form\");\r\n            }else if(formSelector != ''){\r\n                tinymce.activeEditor.insertContent(`[formresults formname=${formSelector}]`);\r\n                \r\n                alert(\"Table succesfully inserted.\\n\\n Please publish the page, then visit the new page to view the form results\");\r\n            }\r\n            \r\n            dialog.close();\r\n        }\r\n    },{\r\n        text: 'Close',\r\n        onclick: 'close'\r\n    }]\r\n} ;\r\n\r\n//select user\r\ntinymce.create(\r\n    //form shortcode\r\n    'tinymce.plugins.insert_form_shortcode',\r\n    {\r\n        init:function(editor, url){\r\n            editor.addCommand('mceInsert_form_shortcode',\r\n                function(){\r\n                    dialog = editor.windowManager.open(insertFormShortcodeDialog);\r\n                }\r\n            );\r\n            \r\n            editor.addButton('insert_form_shortcode',\r\n                {\r\n                    tooltip: 'Create a new form',\r\n                    title:'Insert a new form',\r\n                    cmd:'mceInsert_form_shortcode',\r\n                    image:url+'/../pictures/form-insert.png'\r\n                }\r\n            );\r\n        \r\n        },\r\n        \r\n        createControl:function(){\r\n            return null\r\n        },\r\n    }\r\n);\r\n//Register the plugin\r\ntinymce.PluginManager.add(\r\n    'insert_form_shortcode',\r\n    tinymce.plugins.insert_form_shortcode\r\n)\r\n\r\nconsole.log('Form shortcode tiny_mce.js loaded');"],"names":["dialog","insertFormShortcodeDialog","width","height","title","items","type","classes","html","formSelect","buttons","text","onclick","formName","document","querySelector","value","formSelector","tinymce","activeEditor","insertContent","Main","displayMessage","alert","close","create","init","editor","url","addCommand","windowManager","open","addButton","tooltip","cmd","image","createControl","PluginManager","add","plugins","insert_form_shortcode","console","log"],"sourceRoot":""}