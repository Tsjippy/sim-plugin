{"version":3,"file":"tiny_mce.min.js","mappings":"MAAA,IAAIA,EAqBAC,EAA4B,CAC5BC,MAAO,IACPC,OAAQ,IACRC,MAAO,cACPC,MAAO,CACHC,KAAM,YACNC,QAAS,UACTC,KAtBR,sTAUUC,8CAcNC,QAAS,CAAC,CACNC,KAAM,mBACNC,QAAS,WACL,IAAIC,EAAYC,SAASC,cAAc,cAAcC,MACjDC,EAAeH,SAASC,cAAc,0BAA0BC,MACrD,IAAZH,GACCK,QAAQC,aAAaC,cAAc,yBAAyBP,MAC5DQ,KAAKC,eAAe,gHACC,IAAhBL,IACLC,QAAQC,aAAaC,cAAc,yBAAyBH,KAE5DM,MAAM,iHAGVvB,EAAOwB,UAEb,CACEb,KAAM,QACNC,QAAS,WAKjBM,QAAQO,OAEJ,wCACA,CACIC,KAAK,SAASC,EAAQC,GAClBD,EAAOE,WAAW,4BACd,WACI7B,EAAS2B,EAAOG,cAAcC,KAAK9B,MAI3C0B,EAAOK,UAAU,wBACb,CACIC,QAAS,oBACT7B,MAAM,oBACN8B,IAAI,2BACJC,MAAMP,EAAI,kCAMtBQ,cAAc,WACV,OAAO,QAKnBlB,QAAQmB,cAAcC,IAClB,wBACApB,QAAQqB,QAAQC,uBAGpBC,QAAQC,IAAI,sC","sources":["webpack://forms/./tiny_mce.js"],"sourcesContent":["var dialog;\n\n/*\n    ADD FORM\n*/\nvar addFormShortcodeHtml = \n`<div  class=\"wp-editor-help\">\n    <label>\n        Give the formname in one word:<br>\n        <input type=\"text\" id=\"form_name\" name=\"form_name\" style=\"width:300px;\">\n    </label>\n    <br>\n    <br>\n    <label>\n        Or add a table to display<br>\n        the data of an existing form:<br>\n        ${formSelect}\n    </label>\n    <br>\n</div>`;\n\nvar insertFormShortcodeDialog = {\n    width: 350,\n    height: 160,\n    title: 'Insert form',\n    items: {\n        type: 'container',\n        classes: 'wp-help',\n        html: addFormShortcodeHtml\n    },\n    buttons: [{\n        text: 'Insert shortcode',\n        onclick: function(){\n            var formName\t\t= document.querySelector(\"#form_name\").value;\n            var formSelector\t= document.querySelector(\"[name='form_selector']\").value;\n            if(formName != ''){\n                tinymce.activeEditor.insertContent(`[formbuilder formname=${formName}]`);\n                Main.displayMessage(\"Form succesfully inserted.\\n\\n Please publish the page, then visit the new page to start building your form\");\n            }else if(formSelector != ''){\n                tinymce.activeEditor.insertContent(`[formresults formname=${formSelector}`);\n                \n                alert(\"Table succesfully inserted.\\n\\n Please publish the page, then visit the new page to start building your form\");\n            }\n            \n            dialog.close();\n        }\n    },{\n        text: 'Close',\n        onclick: 'close'\n    }]\n} ;\n\n//select user\ntinymce.create(\n    //form shortcode\n    'tinymce.plugins.insert_form_shortcode',\n    {\n        init:function(editor, url){\n            editor.addCommand('mceInsert_form_shortcode',\n                function(){\n                    dialog = editor.windowManager.open(insertFormShortcodeDialog);\n                }\n            );\n            \n            editor.addButton('insert_form_shortcode',\n                {\n                    tooltip: 'Create a new form',\n                    title:'Insert a new form',\n                    cmd:'mceInsert_form_shortcode',\n                    image:url+'/../pictures/form-insert.png'\n                }\n            );\n        \n        },\n        \n        createControl:function(){\n            return null\n        },\n    }\n);\n//Register the plugin\ntinymce.PluginManager.add(\n    'insert_form_shortcode',\n    tinymce.plugins.insert_form_shortcode\n)\n\nconsole.log('Form shortcode tiny_mce.js loaded');"],"names":["dialog","insertFormShortcodeDialog","width","height","title","items","type","classes","html","formSelect","buttons","text","onclick","formName","document","querySelector","value","formSelector","tinymce","activeEditor","insertContent","Main","displayMessage","alert","close","create","init","editor","url","addCommand","windowManager","open","addButton","tooltip","cmd","image","createControl","PluginManager","add","plugins","insert_form_shortcode","console","log"],"sourceRoot":""}