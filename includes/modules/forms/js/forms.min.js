(()=>{function e(e){Array.from(e.options).forEach((function(e){e.defaultSelected=!1}))}function t(e){e.querySelectorAll(".clone_div").forEach(((e,t)=>{""!=e.id&&(e.id=e.id.replace(re,"$1"+t+"$2")),null!=e.dataset.divid&&(e.dataset.divid=t),e.querySelectorAll("h3").forEach((e=>{e.textContent=e.textContent.replace(/([0-9])/g,t+1)})),e.querySelectorAll("label, legend").forEach((e=>{e.innerHTML=e.innerHTML.replace(/ ([0-9])/g," "+(t+1))})),e.querySelectorAll("input,select,textarea").forEach((e=>{e.classList.contains("nice-select-search")||(""!=e.id&&null!=e.id&&(e.id=e.id.replace(re,"$1"+t+"$2")),""!=e.name&&null!=e.name&&(e.name=e.name.replace(re,"$1"+t+"$2")),"button"==e.type&&(e.value=e.value.replace(/[0-9]/g,t)))}))}))}document.addEventListener("DOMContentLoaded",(function(){console.log("Forms.js is loaded")})),window.addEventListener("online",(function(){document.querySelectorAll(".form_submit").forEach((e=>{e.disabled=!1,e.querySelectorAll(".offline").forEach((e=>e.remove()))}))})),window.addEventListener("offline",(function(){document.querySelectorAll(".form_submit").forEach((e=>{e.disabled=!0,null==e.querySelector(".online")&&(e.innerHTML='<div class="online">'+e.innerHTML+"</div>"),e.innerHTML+='<div class="offline">You are offline</div>'}))})),document.addEventListener("click",(function(n){var r=n.target;if(r.matches(".add")&&(function(t){newnode=function(t,n=!0){return t.querySelectorAll("select").forEach((t=>{0==t.options[t.selectedIndex].defaultSelected&&e(t),t.selectedOptions.length>0&&(t.selectedOptions[0].defaultSelected=!0),t._niceselect.destroy()})),"undefined"!=typeof tinymce&&(tinymce_settings=[],t.querySelectorAll(".wp-editor-area").forEach((e=>{var t=tinymce.get(e.id);null!=t&&(tinymce_settings[e.id]=t.settings,t.save(),t.remove())}))),newnode=t.cloneNode(!0),t.querySelectorAll("select").forEach((e=>{e._niceselect=NiceSelect.bind(e,{searchable:!0}),""==e.value&&e._niceselect.clear()})),t.querySelectorAll(".wp-editor-area").forEach((e=>{tinymce.init(tinymce_settings[e.id])})),1==n?newnode.querySelectorAll("input,select,textarea").forEach((t=>{"checkbox"==t.type||"radio"==t.type?t.checked=!1:"hidden"!=t.type&&(t.value=""),"select-one"==t.type&&(e(t),t._niceselect=NiceSelect.bind(t,{searchable:!0}),t._niceselect.clear())})):newnode.querySelectorAll("select").forEach((e=>{e._niceselect=NiceSelect.bind(e,{searchable:!0})})),newnode}(t);var n=parseInt(t.dataset.divid)+1;if(null!=t.getAttribute("data-type")){var r=t.getAttribute("data-type").replace("[","\\[").replace("]","\\]");re=new RegExp("("+r+"?\\]?\\[).*[0-9](.*)","g")}else re=new RegExp("(.*)[0-9](.*)","g");newnode.querySelectorAll(".upload-files").forEach((function(e){e.dataset.index=n})),newnode.querySelectorAll(".documentpreview").forEach((function(e){e.innerHTML=""}));var l=0;if(newnode.querySelectorAll("select").forEach((e=>{previous_val=t.getElementsByTagName("select")[l].selectedIndex,e.options[previous_val].style.display="none",e._niceselect.update(),e.nextSibling.querySelector(".current").textContent="Select an option",l++})),null==t.querySelector(".remove")){var o=newnode.querySelector(".add"),c='<button type="button" class="'+o.className.replace("add","remove")+'" id="'+o.id.replace("add","remove")+'" style="flex: 1;">'+o.textContent.replace("Add","Remove this").replace("an","").replace("+","-")+"</button>";t.querySelector(".buttonwrapper").insertAdjacentHTML("beforeend",c),newnode.querySelector(".buttonwrapper").insertAdjacentHTML("beforeend",c)}t.parentNode.insertBefore(newnode,t.nextSibling),newnode.querySelectorAll(".wp-editor-area").forEach((e=>{tinymce.init({selector:"#"+e.id})})),newnode}(r.closest(".clone_div")),t(r.closest(".clone_divs_wrapper")),r.remove()),r.matches(".remove")){var l=r.closest(".clone_divs_wrapper");!function(e){var t=e.closest(".clone_div"),n=t.closest(".clone_divs_wrapper"),r=n.querySelectorAll(".clone_div");if(r[r.length-1]==t){var l=t.querySelector(".add");t.previousElementSibling.querySelector("div").appendChild(l)}if(null!=t.getAttribute("data-type")){var o=t.getAttribute("data-type").replace("[","\\[").replace("]","\\]");re=new RegExp("("+o+"?\\]?\\[).*[0-9](.*)","g")}else re=new RegExp("(.*)[0-9](.*)","g");t.remove(),1==(r=n.querySelectorAll(".clone_div")).length&&n.querySelector(".remove").remove(),nodenr=parseInt(r[0].dataset.divid),r.forEach((function(e){"understudies"==e.dataset.type&&e.querySelectorAll(".upload-files").forEach((function(e){e.dataset.index=nodenr})),""!=e.id&&(e.id=e.id.replace(re,"$1"+nodenr+"$2")),e.dataset.divid=nodenr,e.querySelectorAll("h3").forEach((e=>{e.textContent=e.textContent.replace(/[0-9]/g,nodenr)})),e.querySelectorAll("label").forEach((e=>{0==r[0].dataset.divid?labelnr=nodenr+1:labelnr=nodenr,e.innerHTML=e.innerHTML.replace(/ ([0-9])/g,(function(e){return" "+labelnr}))})),e.querySelectorAll("input,select,textarea").forEach((e=>{""!=e.id&&(e.id=e.id.replace(re,"$1"+nodenr+"$2")),e.name=e.name.replace(re,"$1"+nodenr+"$2")})),nodenr+=1}))}(r),t(l)}}))})();
//# sourceMappingURL=forms.min.js.map