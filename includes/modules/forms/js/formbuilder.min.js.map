{"version":3,"file":"formbuilder.min.js","mappings":"MA8CA,SAASA,EAAoBC,EAAOC,GACnC,IACCC,MAAMC,cAAc,+BAA+BC,UAAYH,EAAYI,gBAE3EH,MAAMI,iBAAiB,qBAAqBC,SAAQ,SAASC,GAC5DA,EAAOC,YAAcC,WAAWC,KAAKH,EAAO,CAACI,YAAY,OAE1D,MAAMC,GACNC,QAAQC,MAAMF,IAmHhB,SAASG,IACR,IAECd,MAAMI,iBAAiB,qFAAqFC,SAAQ,SAASU,GAO5H,GANc,YAAXA,EAAGC,KACLD,EAAGE,SAAU,EAEbF,EAAGG,MAAQ,GAGE,YAAXH,EAAGC,MAA+B,IAATD,EAAGI,GAAS,CACvC,IAAIC,EAASC,QAAQC,IAAIP,EAAGI,IACf,MAAVC,GACFA,EAAOG,WAAW,IAIN,cAAXR,EAAGC,OACLQ,sBAAsBT,GAEDU,MAAlBV,EAAGR,cACLQ,EAAGR,YAAYmB,QACfX,EAAGR,YAAYoB,cAKlBC,EAAuB5B,MAAMC,cAAc,SAE5C,MAAMU,GACLC,QAAQC,MAAMF,IAKhB,IAAIkB,EA3MJC,OAAkC,0BAAI,SAAShC,EAAOC,GACrD,IACC,GAAID,EAAOiC,QAAU,KAAOjC,EAAOiC,OAAS,IAAK,CAEhDjB,IAGA,IAAIkB,EAAYC,SAASC,cAAc,YACvCF,EAAS9B,UAAYH,EAAYoC,KACjC,IAAIC,EAASJ,EAASK,QAAQC,WAG9BC,cAAgBN,SAAShC,cAAc,iBAAiBF,EAAYyC,SAAS,oCAAoCC,SAAS1C,EAAY2C,OAAO,GAAG,MAC5H,MAAjBH,cACaN,SAAShC,cAAc,iBAAiBF,EAAYyC,SAAS,mBACnEG,sBAAsB,YAAYP,GAE3CG,cAAcK,WAAWC,aAAaT,EAAMG,cAAcO,aAG3DC,EAAsBd,SAAShC,cAAc,iBAAiBF,EAAYyC,WAG1EQ,EAAUC,QAAQb,IAInB,MAAMzB,GACNC,QAAQC,MAAMF,KAKhBmB,OAA4B,oBAAI,SAAShC,EAAOC,GAC/C,IACKD,EAAOiC,QAAU,KAAOjC,EAAOiC,OAAS,KAE3CE,SAAS7B,iBAAiB,iBAAiBL,EAAYmD,OAAO,6BAA6BnD,EAAY2C,MAAM,MAAMrC,SAAQU,GAAIA,EAAGoC,UAAYpD,EAAYoC,OAE3J,MAAMxB,GACNC,QAAQC,MAAMF,KAgBhBmB,OAAwB,gBAAIjC,EAe5BiC,OAAyB,iBAAI,SAAShC,EAAOC,GAC5C,IACC,GAAID,EAAOiC,QAAU,KAAOjC,EAAOiC,OAAS,IAAK,CAChDjB,IACAjB,EAAoBC,EAAOC,GAjB9B,SAAqCD,EAAOC,GAC3C,IACCC,MAAMC,cAAc,4BAA4BC,UAAYH,EAAYqD,mBAExEpD,MAAMI,iBAAiB,mCAAmCC,SAAQ,SAASC,GAC1EA,EAAOC,YAAcC,WAAWC,KAAKH,EAAO,CAACI,YAAY,OAE1D,MAAMC,GACNC,QAAQC,MAAMF,IAWb0C,CAA4BvD,EAAOC,GAGnC,IAAIuD,EAAWvD,EAAYuD,SACvBC,EAAOvD,MAAMC,cAAc,QAC/BuD,EAAsBF,EAAe,KAAEC,GAEvCvD,MAAMI,iBAAiB,gBAAgBC,SAAQ,SAASU,GACvD,GAAc,MAAXA,EAAG0C,KAAa,CAElB,IAAIA,EAAO1C,EAAG0C,KAAKC,QAAQ,aAAa,IAAIA,QAAQ,IAAI,IAGnCjC,MAAlB6B,EAASG,IAAwC,IAAlBH,EAASG,KAC5B,YAAX1C,EAAGC,KACc,GAAhBsC,EAASG,KACX1C,EAAGE,SAAU,GASdF,EAAGG,MAAQoC,EAASG,GAGP,cAAX1C,EAAGC,MACFD,EAAG4C,gBAAgBC,OAAS,IAC9B7C,EAAG4C,gBAAgB,GAAGE,iBAAkB,EAEnB,aAAlB9C,EAAGR,aACLQ,EAAGR,YAAYoB,UAKfZ,EAAG+C,UAAUC,SAAS,mBACxB1C,QAAQC,IAAIP,EAAGI,IAAII,WAAW+B,EAASG,SAM3CzD,MAAMC,cAAc,uBAAuBiB,MAAQnB,EAAYiE,WAC/DhE,MAAMC,cAAc,gCAAgCgE,YAAcjE,MAAMC,cAAc,gCAAgCgE,YAAYP,QAAQ,MAAM,UAChJ1D,MAAM8D,UAAUI,OAAO,UAGvB,IAAIC,EAAYlC,SAAShC,cAAc,kCAAkCF,EAAYiE,WAAW,mBAAmBjE,EAAYmD,OAAO,iBAClIlB,EAAYC,SAASC,cAAc,YACvCF,EAAS9B,UAAYF,MAAMoE,aAC3B,IAAIhC,EAASJ,EAASK,QAAQC,WAE9B6B,EAAOvB,WAAWyB,aAAajC,EAAM+B,QAErCvD,QAAQ0D,IAAIxE,GAEb,MAAMa,GACNC,QAAQC,MAAMF,KAKhBmB,OAAkB,UAAI,SAAUhC,EAAOC,GACtC,IACC,GAAID,EAAOiC,QAAU,KAAOjC,EAAOiC,OAAS,IAAK,CAEhD,IAAIwC,EAAMtC,SAAShC,cAAc,iBAAiBF,EAAYmD,OAAO,eAAenD,EAAYyE,aAAa,MACzGjB,EAAOgB,EAAIE,QAAQ,QAEvBF,EAAIL,SAEJnB,EAAsBQ,IAEvB,MAAM5C,GACNC,QAAQC,MAAMF,KAKhBmB,OAAsB,cAAI,SAAShC,EAAOC,GACzC,IACC2E,iBAAkB,EAClB,MAAM/D,GACNC,QAAQC,MAAMF,KAyChB,MAAMqC,EAAY,IAAI2B,gBAAe,SAASC,GAC7C,IAAIC,EAAUD,EAAQ,GAAGE,OACzB,GAAyBrD,MAAtBoD,EAAQjC,WAAwB,CAClC,IAAImC,EAAQH,EAAQ,GAAGI,YAAYD,MAC/BE,EAAkBC,KAAKC,MAAMJ,EAAMF,EAAQjC,WAAWwC,YAAY,KAGlErE,EAAK8D,EAAQ5E,cAAc,oBAC5BgF,EAAiB,GACnBlE,EAAGkD,YAAcgB,EAAgB,IACnB,MAANlE,IACRA,EAAGkD,YAAc,IAGlBoB,aAAaxD,GACbA,EAAOyD,WAAWC,EAAmB,IAAIV,EAAQI,OAInD,SAASM,EAAkBxE,EAAGkE,GAC7B,GAAGA,GAAmBlE,EAAGyE,QAAQP,iBAAmBC,KAAKO,IAAIR,EAAkBlE,EAAGyE,QAAQP,iBAAiB,EAAE,CAC5GlE,EAAGyE,QAAQP,gBAAkBA,EAG7B,IAAIS,EAA4BzD,SAAShC,cAAc,sCAAsCiB,MACzFyE,EAAW,IAAIC,SACnBD,EAASE,OAAO,SAAS,wBACzBF,EAASE,OAAO,SAAS9E,EAAG0D,QAAQ,yBAAyBe,QAAQtC,QACrEyC,EAASE,OAAO,YAAY9E,EAAG0D,QAAQ,yBAAyBe,QAAQrE,IACxEwE,EAASE,OAAO,YAAYZ,GAC5BU,EAASE,OAAO,4BAA4BH,GAC5CI,SAASH,IAKX,SAASI,EAAoBC,GAC5B,GAAsB,GAAnBtB,gBAAyB,CAC3BA,iBAAkB,EAElB,IAAIuB,EAAYxD,SAASuD,EAAME,KAAKV,QAAQW,UAE5CpD,EAAsBiD,EAAME,KAAKzB,QAAQ,SAEzC,IAAI2B,EAAaJ,EAAMK,SAASL,EAAMM,SAElCZ,EAA4BzD,SAAShC,cAAc,sCAAsCiB,MAEzFyE,EAAW,IAAIC,SACnBD,EAASE,OAAO,SAAS,yBACzBF,EAASE,OAAO,SAASG,EAAME,KAAKV,QAAQtC,QAC5CyC,EAASE,OAAO,YAAaI,GAC7BN,EAASE,OAAO,YAAaI,EAAUG,GACvCT,EAASE,OAAO,4BAA4BH,GAC5CI,SAASH,QAETY,KAAKC,KAAK,CACTC,KAAM,QACNC,MAAO,4CACPC,mBAAoB,YAMvB,SAASnD,EAAsBxC,EAAMuC,GAGpC,OAFA3B,EAAuB2B,GAEhBvC,GACN,IAAK,SACL,IAAK,WACL,IAAK,QACJuC,EAAKtD,cAAc,sBAAsB6D,UAAUJ,QAAQ,SAAU,QACrEH,EAAKtD,cAAc,mCAAmCgE,YAAcjD,EAEpEuC,EAAKnD,iBAAiB,cAAcC,SAAQ,SAASU,GACpDA,EAAG+C,UAAUJ,QAAQ,OAAO,aAG7B,MACD,IAAK,OACJH,EAAKtD,cAAc,qBAAqB6D,UAAUJ,QAAQ,SAAU,QACpEH,EAAKtD,cAAc,2BAA2BgE,YAAc,UAC5D,MACD,IAAK,QACL,IAAK,SACL,IAAK,WACL,IAAK,WAEJV,EAAKtD,cAAc,sBAAsB6D,UAAUJ,QAAQ,SAAU,QAGrEH,EAAKtD,cAAc,2BAA2B6D,UAAUJ,QAAQ,SAAU,QAG1EH,EAAKtD,cAAc,qBAAqB6D,UAAUJ,QAAQ,SAAU,QAEzD,UAAR1C,GACFuC,EAAKtD,cAAc,qBAAqB6D,UAAUJ,QAAQ,OAAO,UAGlE,MACD,IAAK,IACJH,EAAKnD,iBAAiB,gGAAgGC,SAAQuG,GAAKA,EAAI9C,UAAU+C,IAAI,YACrJtD,EAAKtD,cAAc,qBAAqB6D,UAAUJ,QAAQ,SAAU,QACpEH,EAAKtD,cAAc,2BAA2BgE,YAAc,YAC5D,MACD,IAAK,MACJV,EAAKnD,iBAAiB,uIAAuIC,SAAQuG,GAAKA,EAAI9C,UAAU+C,IAAI,YAC5LtD,EAAKtD,cAAc,yBAAyB6D,UAAUJ,QAAQ,SAAU,SAO3E,SAAS9B,EAAuB2B,GAE/BA,EAAKnD,iBAAiB,SAASC,SAAQ,SAASU,GAC/CA,EAAG+C,UAAUJ,QAAQ,OAAQ,aAQ9BH,EAAKtD,cAAc,qBAAqB6D,UAAUJ,QAAQ,SAAU,QAEpEH,EAAKnD,iBAAiB,cAAcC,SAAQ,SAASU,GACpDA,EAAG+C,UAAUJ,QAAQ,SAAS,WAsGhC,SAASoD,EAAehC,GACvB,IAAIiC,EAAWjC,EAAOlC,WAClBoE,EAAiBlC,EAAOL,QAAQ,yBAChCvB,EAAU8D,EAAexB,QAAQtC,OACjCsB,EAAgBwC,EAAexB,QAAQrE,GAE3C8F,WAAWnC,GACXiC,EAAO9G,cAAc,cAAciH,MAAMC,aAAe,OACxD,IAAIzB,EAA4BzD,SAAShC,cAAc,sCAAsCiB,MAEzFyE,EAAW,IAAIC,SACnBD,EAASE,OAAO,SAAS,oBACzBF,EAASE,OAAO,SAAS3C,GAEzByC,EAASE,OAAO,eAAerB,GAC/BmB,EAASE,OAAO,4BAA4BH,GAC5CI,SAASH,GAgFV,SAASyB,EAAW7C,GAEnB,IAAI8C,EAASC,WAAW/C,GAEpBgD,EAAa9E,SAAS8B,EAAIiB,QAAQgC,YAAc,EAEpDH,EAAM7B,QAAQgC,WAAaD,EAE3BhD,EAAI3B,WAAWC,aAAawE,EAAO9C,EAAIzB,aAEvC2E,EAAmBlD,EAAIE,QAAQ,mBAsJhC,SAAS1B,EAAsBQ,GAC9BA,EAAKnD,iBAAiB,yBAAyBC,SAAQ,CAACU,EAAI2B,KAC3D3B,EAAGyE,QAAQW,SAAWzD,EAAM,KAI9B,SAAS+E,EAAmBC,GAC3B,IAAIC,EAAWD,EAActH,iBAAiB,yCAC1CwH,EAAI,EAGRD,EAAStH,SAAQwH,IAChBA,EAAQrC,QAAQgC,WAAaI,EAE7BC,EAAQzH,iBAAiB,sBAAsBC,SAAQ,SAASU,GAEnDU,MAATV,EAAGI,KACLJ,EAAGI,GAAKJ,EAAGI,GAAGuC,QAAQ,+BAA+B,KAAKkE,IAG7CnG,MAAXV,EAAG0C,OACL1C,EAAG0C,KAAO1C,EAAG0C,KAAKC,QAAQ,+BAA+B,KAAKkE,OAIhEA,OAIF,SAASE,IACR,IAAIC,EAAgB/H,MAAMI,iBAAiB,8CAC3C,IAAK,IAAIwH,EAAI,EAAGA,EAAIG,EAAcnE,OAAQgE,IACzCG,EAAcH,GAAGpC,QAAQwC,gBAAkBJ,EAE3CG,EAAcH,GAAGxH,iBAAiB,sBAAsBC,SAAQ,SAASU,GAE5DU,MAATV,EAAGI,KACLJ,EAAGI,GAAKJ,EAAGI,GAAGuC,QAAQ,+BAA+BkE,EAAE,MACvD7G,EAAGI,GAAGuC,QAAQ,wBAAwBkE,EAAE,MACxC7G,EAAGI,GAAKJ,EAAGI,GAAGuC,QAAQ,qCAAqC,KAAKkE,EAAE,OAErDnG,MAAXV,EAAG0C,OACL1C,EAAG0C,KAAO1C,EAAG0C,KAAKC,QAAQ,+BAA+BkE,EAAE,MAC3D7G,EAAG0C,KAAO1C,EAAG0C,KAAKC,QAAQ,wBAAwBkE,EAAE,MACpD7G,EAAG0C,KAAO1C,EAAG0C,KAAKC,QAAQ,qCAAqC,KAAKkE,EAAE,UAM1E,SAASK,IACRjI,MAAMkI,SAAS,EAAE,GACjBlI,MAAMC,cAAc,+CAA+CkI,QAGnEC,SAAY,KAyNb,SAASC,IACR,IAAIjF,EAAqBnB,SAAS7B,iBAAiB,2CAC/CwH,EAAI,EAERxE,EAAmB/C,SAAQiI,IAC1BA,EAAU9C,QAAQ9C,MAAQkF,EAE1BU,EAAUlI,iBAAiB,sBAAsBC,SAAQ,SAASU,GAEnDU,MAAXV,EAAG0C,OACL1C,EAAG0C,KAAO1C,EAAG0C,KAAKC,QAAQ,YAAYkE,IAG3BnG,MAATV,EAAGI,KACLJ,EAAGI,GAAKJ,EAAGI,GAAGuC,QAAQ,YAAYkE,IAGrBnG,MAAXV,EAAGwH,MACLxH,EAAGyH,aAAa,OAAQzH,EAAGwH,KAAKpH,GAAGuC,QAAQ,YAAYkE,OAIzDA,OA5OFlD,iBAAkB,EAElBzC,SAASwG,iBAAiB,oBAAmB,WAC5C7H,QAAQ0D,IAAI,yBAGZ,IAAIoE,EAAU,CACbC,OAAQ,eACRC,UAAW,IACXC,MAAO9C,GAGR9D,SAAS7B,iBAAiB,kBAAkBC,SAAQU,IAAK+H,SAASC,OAAOhI,EAAI2H,MAG7EzG,SAAS7B,iBAAiB,YAAYC,SAAQU,IAAKiC,EAAUC,QAAQlC,SAItEe,OAAO2G,iBAAiB,SAASzC,IAChC,IAAIlB,EAASkB,EAAMlB,OA0GnB,GAxGAkE,YAAiBlE,EAAOL,QAAQ,qBAChCwE,qBAAuBnE,EAAOL,QAAQ,yBAEpB,MAAfuE,cACFhJ,MAAQgJ,YAAY/I,cAAc,4BAMhB,YAAf6E,EAAOrB,MA5bZ,SAA+BqB,GACF,QAAzBA,EAAOU,QAAQ0D,QACjBF,YAAY5I,iBAAiB,oBAAoBC,SAAQ,SAASU,GACjEA,EAAG+C,UAAUI,OAAO,UACpBY,EAAOb,YAAc,0BACrBa,EAAOU,QAAQ0D,OAAS,UAGzBF,YAAY5I,iBAAiB,YAAYC,SAAQ,SAASU,GACzDA,EAAG+C,UAAU+C,IAAI,WAIlBmC,YAAY/I,cAAc,wBAAwB6D,UAAU+C,IAAI,YAGhEmC,YAAY5I,iBAAiB,oBAAoBC,SAAQ,SAASU,GACjEA,EAAG+C,UAAU+C,IAAI,UACjB/B,EAAOb,YAAc,0BACrBa,EAAOU,QAAQ0D,OAAS,UAGzBF,YAAY5I,iBAAiB,YAAYC,SAAQ,SAASU,GACzDA,EAAG+C,UAAUI,OAAO,WAIrB8E,YAAY/I,cAAc,wBAAwB6D,UAAUI,OAAO,WAkanEiF,CAAsBrE,IAInBA,EAAOhB,UAAUC,SAAS,qBAAsC,cAAfe,EAAOrB,OAla7D,SAA0BqB,GACzB,IAAIsE,EAA6BnH,SAAShC,cAAc,uCAAuCiB,MAC3FsB,EAAesC,EAAOU,QAAQhD,SACnBf,MAAZe,IACFA,EAAWsC,EAAOL,QAAQ,yBAAyBe,QAAQhD,UAG5D1B,IAE2B,MAAxBmI,uBACFjJ,MAAMC,cAAc,wBAAwBiB,MAAQ+H,qBAAqBzD,QAAQW,UAGlFnG,MAAMC,cAAc,gCAAgCgE,YAAcjE,MAAMC,cAAc,gCAAgCgE,YAAYP,QAAQ,SAAS,OAEnJ1D,MAAMC,cAAc,+BAA+BC,UAAY,aAAamJ,IAAIC,YAAY,sDAE5F,IAAI3D,EAAW,IAAIC,SACnBD,EAASE,OAAO,SAAS,gCACzBF,EAASE,OAAO,eAAe,MAC/BF,EAASE,OAAO,6BAA6BuD,GAC7CzD,EAASE,OAAO,WAAWrD,GAC3BsD,SAASH,GAET3F,MAAM8D,UAAUI,OAAO,UA2YtBqF,CAAiBzE,GAGA,uBAAfA,EAAOrB,OACT2E,SAAYH,GAITnD,EAAOhB,UAAUC,SAAS,sBAhZ/B,SAAmCe,GAClC,IAAI0E,EAAgBP,qBAAqBzD,QAAQrE,GAC7CiI,EAA6BnH,SAAShC,cAAc,uCAAuCiB,MAC3FgC,EAAc4B,EAAOL,QAAQ,yBAAyBe,QAAQtC,OAClElD,MAAMC,cAAc,uBAAuBiB,MAAQ+H,qBAAqBzD,QAAQrE,GAEhFnB,MAAMoE,aAAeU,EAAO3B,UAE5B,IAAI4D,EAAWjC,EAAOlC,WACtBqE,WAAWnC,GACXiC,EAAO9G,cAAc,cAAciH,MAAMuC,OAAS,oBAElD,IAAI9D,EAAW,IAAIC,SACnBD,EAASE,OAAO,SAAS,yBACzBF,EAASE,OAAO,YAAY2D,GAC5B7D,EAASE,OAAO,6BAA6BuD,GAC7CzD,EAASE,OAAO,SAAS3C,GACzB4C,SAASH,GAgYR+D,CAA0B5E,GAGvBA,EAAOhB,UAAUC,SAAS,wBAhY/B,SAA8Be,GACZ,oBAAR,KACRgC,EAAehC,GAEfyB,KAAKC,KAAK,CACTE,MAAO,gBACPiD,KAAM,gCACNlD,KAAM,UACNmD,kBAAkB,EAClBjD,mBAAoB,UACpBkD,kBAAmB,OACnBC,kBAAmB,oBACjBC,MAAMjK,IACJA,EAAOkK,aACVlD,EAAehC,MAmXjBmF,CAAqBnF,GAIgB,MAAlCA,EAAOL,QAAQ,kBAClBjB,EAAsBsB,EAAOU,QAAQtE,MAAO4D,EAAOL,QAAQ,SAEhC,SAAxBK,EAAOU,QAAQtE,QACjB4D,EAAOL,QAAQ,QAAQxE,cAAc,4BAA4BgB,SAAU,IAM1C,MAA/B6D,EAAOL,QAAQ,cAxWpB,SAAuCK,GAEtCA,EAAOL,QAAQ,aAAaxE,cAAc,+BAA+B6D,UAAUI,OAAO,UAG1FY,EAAOL,QAAQ,aAAarE,iBAAiB,qCAAqCC,SAAQ,SAASU,GAClGA,EAAG+C,UAAU+C,IAAI,aAIS,KAAxB/B,EAAOU,QAAQtE,OAAwC,KAAxB4D,EAAOU,QAAQtE,MAChD4D,EAAOL,QAAQ,aAAarE,iBAAiB,qCAAqCC,SAAQ,SAASU,GAClGA,EAAG+C,UAAUI,OAAO,aAGWzC,MAAxBqD,EAAOU,QAAQtE,OAAsB4D,EAAOU,QAAQtE,MAAMgJ,SAAS,UAC3EpF,EAAOL,QAAQ,aAAaxE,cAAc,wBAAwB6D,UAAUI,OAAO,UAGnFY,EAAOL,QAAQ,aAAaxE,cAAc,+BAA+B6D,UAAU+C,IAAI,WACvDpF,MAAxBqD,EAAOU,QAAQtE,QACvB4D,EAAOU,QAAQtE,MAAMgJ,SAAS,YAC9BpF,EAAOU,QAAQtE,MAAMgJ,SAAS,YAC9BpF,EAAOU,QAAQtE,MAAMgJ,SAAS,aAE9BpF,EAAOL,QAAQ,aAAaxE,cAAc,+BAA+B6D,UAAU+C,IAAI,UAgVvFsD,CAA8BrF,IAI3BA,EAAOhB,UAAUC,SAAS,aAAee,EAAOhB,UAAUC,SAAS,aAhVxE,SAA4Be,GAC3B,IAAIP,EAASO,EAAOL,QAAQ,aACxB2F,EAAe7F,EAAItE,cAAc,WAGrC,GAAmB,MAAhBmK,GAAyBtF,EAAOhB,UAAUC,SAAS,UAiCrDqD,EAAW7C,GAGXO,EAAOhB,UAAU+C,IAAI,UAGrBtC,EAAItE,cAAc,eAAeiB,MAAQ4D,EAAOb,gBAvCe,CAC/D,GAA+B,OAA5BmG,EAAanG,YACf,IAAIoG,EAAW,MACXC,EAAW,UAEXD,EAAW,KACXC,EAAW,MAGhB/D,KAAKC,KAAK,CACTE,MAAO,0BACP6D,gBAAgB,EAChBX,kBAAkB,EAClBE,kBAAmB,UAAUO,EAAQ,OAAOC,EAC5CE,eAAgB,mBACdT,MAAMjK,IAEJA,EAAOkK,aAEVI,EAAatG,UAAUI,OAAO,UAG9BY,EAAOhB,UAAU+C,IAAI,UAGrBtC,EAAItE,cAAc,eAAeiB,MAAQ4D,EAAOb,aAEvCnE,EAAO2K,UAChBrD,EAAW7C,OAgTbmG,CAAmB5F,GAIhBA,EAAOhB,UAAUC,SAAS,kBAxR/B,SAAuBe,GACtB,IAAIP,EAAMO,EAAOL,QAAQ,kBAEtBK,EAAOhB,UAAUC,SAAS,YAC5BsD,MAAQC,WAAW/C,GAAK,GAExB8C,MAAQC,WAAW/C,GAGpB,IAAIgD,EAAa9E,SAAS8B,EAAIiB,QAAQwC,iBAAmB,EAEzDX,MAAM7B,QAAQwC,gBAAkBT,EAE5BzC,EAAOhB,UAAUC,SAAS,aAC7BsD,MAAMjH,iBAAiB,WAAWC,SAAQ,SAASU,GAClDA,EAAG+C,UAAUI,OAAO,aAInBY,EAAOhB,UAAUC,SAAS,aAE5BsD,MAAMjH,iBAAiB,sBAAsBC,SAAQ,SAASU,GAC7D,GAAiB,UAAdA,EAAG4J,SAAuB5J,EAAG+C,UAAUC,SAAS,YAAY,CAE9DvC,sBAAsBT,GAGtB,IACI6J,EADkBrG,EAAItE,cAAc,aACT4K,cAEhB,GAAZD,IAECA,EAAW,EACb7J,EAAG2H,QAASkC,EAAS,GAAI/G,iBAAkB,EAE3C9C,EAAG2H,QAASkC,EAAS,GAAI/G,iBAAkB,GAK7C9C,EAAGR,YAAYoB,aACI,SAAXZ,EAAGC,OAAmBD,EAAG+C,UAAUC,SAAS,sBAAqC,QAAZhD,EAAGG,OAA+B,QAAZH,EAAGG,QACrF,GAAdH,EAAGE,QACLF,EAAGE,SAAU,EAEbF,EAAGE,SAAU,MAQjB,IAAI6J,EAAe,GAQnB,GAPAvG,EAAInE,iBAAiB,+BAA+BC,SAAQ0K,IAC3DD,EAAaC,EAAM7J,OAAS6J,EAAM7J,SAInCqD,EAAI3B,WAAWC,aAAawE,MAAO9C,EAAIzB,cAEnCgC,EAAOhB,UAAUC,SAAS,YAAY,CAEzC,IAAIiH,EAAa3D,MAAMjH,iBAAiB,aAAawD,OACrDyD,MAAMjH,iBAAiB,aAAaC,SAAQ,SAASwH,GAEjDA,EAAQrC,QAAQgC,YAAcwD,EAAW,EAC3CnD,EAAQ3D,SAERuD,EAAmBI,EAAQpD,QAAQ,sBAMtCqD,IAGAvD,EAAInE,iBAAiB,uBAAuBC,SAAQ0K,IACnBtJ,MAA7BqJ,EAAaC,EAAM7J,SACrB6J,EAAM9J,SAAU,MAMlB6D,EAAOoC,MAAM+D,QAAU,OAmMtBC,CAAcpG,GAIXA,EAAOhB,UAAUC,SAAS,qBApM/B,SAA+Be,GAC9B,IAAIqG,EAAerG,EAAOL,QAAQ,kBAG/B0G,EAAa/K,iBAAiB,aAAawD,OAAS,EACtD2C,KAAKC,KAAK,CACTE,MAAO,8BACP6D,gBAAgB,EAChBX,kBAAkB,EAClBE,kBAAmB,qBACnBU,eAAgB,sBAChB7D,mBAAoB,YAClBoD,MAAMjK,IAER,GAAIA,EAAOkK,YAAa,CAEvB,IAGIoB,EAHYtG,EAAOL,QAAQ,aAGDe,QAAQgC,WAGlC6D,EAAYF,EAAalL,cAAc,sBAAsBmL,EAAe,GAAG,MAEpE,MAAZC,IAEFA,EAASjL,iBAAiB,WAAWC,SAAQU,GAAIA,EAAG+C,UAAUI,OAAO,YAGrEmH,EAASpL,cAAc,eAAeiB,MAAQ,IAG/C4D,EAAOL,QAAQ,aAAaP,SAE5BuD,EAAmB0D,QACTrL,EAAO2K,WACjBU,EAAajH,SACb4D,QAIFvB,KAAKC,KAAK,CACTE,MAAO,gBACPiD,KAAM,kCACNlD,KAAM,UACNmD,kBAAkB,EAClBjD,mBAAoB,UACpBkD,kBAAmB,OACnBC,kBAAmB,oBACjBC,MAAMjK,IACJA,EAAOkK,cACVmB,EAAajH,SACb4D,QAiJFwD,CAAsBxG,GAInBA,EAAOhB,UAAUC,SAAS,oBAC1Be,EAAO7D,QACT6D,EAAOL,QAAQ,sBAAsBxE,cAAc,eAAe6D,UAAUI,OAAO,UAEnFY,EAAOL,QAAQ,sBAAsBxE,cAAc,eAAe6D,UAAU+C,IAAI,WAI/E/B,EAAOhB,UAAUC,SAAS,kBAC5BhD,GAAK+D,EAAOL,QAAQ,cAAcxE,cAAc,wBAC7B,gBAAhB6E,EAAO5D,MACTH,GAAG+C,UAAUI,OAAO,UAEpBnD,GAAG+C,UAAU+C,IAAI,WAIhB/B,EAAOhB,UAAUC,SAAS,eAC5BwH,KAAOzG,EAAOL,QAAQ,cAAcxE,cAAc,mBAClDuL,KAAO1G,EAAOL,QAAQ,cAAcxE,cAAc,yBAC/B,SAAhB6E,EAAO5D,OACTqK,KAAKzH,UAAUI,OAAO,UACtBsH,KAAK1H,UAAU+C,IAAI,YAEnB2E,KAAK1H,UAAUI,OAAO,UACtBqH,KAAKzH,UAAU+C,IAAI,YAIlB/B,EAAOhB,UAAUC,SAAS,aAC5BwH,KAAOzG,EAAOL,QAAQ,cAAcxE,cAAc,iBAClDuL,KAAO1G,EAAOL,QAAQ,cAAcxE,cAAc,uBAC/B,SAAhB6E,EAAO5D,OACTqK,KAAKzH,UAAUI,OAAO,UACtBsH,KAAK1H,UAAU+C,IAAI,YAEnB2E,KAAK1H,UAAUI,OAAO,UACtBqH,KAAKzH,UAAU+C,IAAI,YAIlB/B,EAAOhB,UAAUC,SAAS,sBAAwBe,EAAOhB,UAAUC,SAAS,gBAAgB,CAC9F,IAAI7C,EAAQ,GACT4D,EAAOhB,UAAUC,SAAS,gBAC5B7C,EAAQ4D,EAAOb,YACS,IAAhBa,EAAO5D,QACfA,EAAQ4D,EAAO5D,MACf4D,EAAO+F,cAAgB,KAGZ,IAAT3J,IACFqF,KAAKC,KAAK,CACTC,KAAM,UACNC,MAAO,UAAUxF,EACjBuK,mBAAmB,EACnBC,MAAO,OAERC,UAAUC,UAAUC,UAAU3K,IAuBhC,GAlBkB,yBAAf4D,EAAOrB,OACT1C,GAAK+D,EAAOL,QAAQ,yBAAyBxE,cAAc,qBACxC,QAAhB6E,EAAO5D,MACTH,GAAG+C,UAAUI,OAAO,UAEpBnD,GAAG+C,UAAU+C,IAAI,WAID,0BAAf/B,EAAOrB,MACTqB,EAAOL,QAAQ,qBAAqBxE,cAAc,+BAA+B6D,UAAUgI,OAAO,UAGjF,wBAAfhH,EAAOrB,MAAkCqB,EAAO7D,UAClD6D,EAAOL,QAAQ,OAAOxE,cAAc,mCAAmCgB,SAAQ,GAI7E6D,EAAOiH,QAAQ,cAAc,CAE/B,IAAIC,EAAW1E,WAAWxC,EAAOL,QAAQ,wBAEzCxC,SAASgK,eAAe,sBAAsBtJ,sBAAsB,YAAaqJ,GAGjFlH,EAAOhB,UAAU+C,IAAI,UAGrB/B,EAAOL,QAAQ,uBAAuBxE,cAAc,eAAeiB,MAAQ4D,EAAO5D,MAElFmH,IAGEvD,EAAOiH,QAAQ,uBACjBjH,EAAOL,QAAQ,uBAAuBP,SACtCmE,QAKFvG,OAAO2G,iBAAiB,UAAUyD,IACjC,GAAGA,EAAGpH,OAAOiH,QAAQ,aAAa,CAEjC,IAAII,EAAeD,EAAGpH,OAAOyD,KAAKtI,cAAc,WAAWiM,EAAGpH,OAAO5D,MAAM,QAAQsE,QAAQ4G,KAC3F,GAAmB,MAAhBD,EAAqB,CACvBpF,OAASmF,EAAGpH,OAAOL,QAAQ,uBAAuBxE,cAAc,kBAEhE8G,OAAOjD,UAAUI,OAAO,UAExBtD,QAAQ0D,IAAIyC,QAEZ,IAAIsF,EAAWtF,OAAO9G,cAAc,wBACpCW,QAAQ0D,IAAI+H,GACZ,IAAI,IAAIzE,EAAE,EAAGA,EAAEyE,EAAS3D,QAAQ9E,OAAQgE,IACvCyE,EAAS3D,QAAQd,GAAG1D,SAIrBiI,EAAaG,MAAM,KAAKjM,SAAQkM,IAC/B,IAAIC,EAAQvK,SAASC,cAAc,UACnCsK,EAAItL,MAAUqL,EACdF,EAASI,YAAYD,Y","sources":["webpack://forms/./formbuilder.js"],"sourcesContent":["//*\t\tAFTER AJAX CALLS *//\nwindow['after_form_element_submit'] = function(result,responsdata){\n\ttry{\n\t\tif (result.status >= 200 && result.status < 400) {\n\t\t\t//First clear any previous input\n\t\t\tclearforminputs();\n\t\t\t\n\t\t\t//Add the new element to the form, first convert the received html to nodes\n\t\t\tvar template\t\t= document.createElement('template');\n\t\t\ttemplate.innerHTML\t= responsdata.html;\n\t\t\tvar node\t\t\t= template.content.firstChild;\n\t\t\t\n\t\t\t//insert the node\n\t\t\treferenceNode = document.querySelector('form#sim_form_'+responsdata.formname+' .form_elements [data-priority=\"'+(parseInt(responsdata.index)-1)+'\"]');\n\t\t\tif(referenceNode == null){\n\t\t\t\tvar form_div = document.querySelector('form#sim_form_'+responsdata.formname+' .form_elements');\n\t\t\t\tform_div.insertAdjacentElement('beforeend',node);\n\t\t\t}else{\n\t\t\t\treferenceNode.parentNode.insertBefore(node, referenceNode.nextSibling);\n\t\t\t}\n\t\t\t\n\t\t\tfix_element_numbering(document.querySelector('form#sim_form_'+responsdata.formname));\n\t\t\t\n\t\t\t//add resize listener\n\t\t\tresize_ob.observe(node);\n\t\t\t\n\t\t\t//hide_modals();\n\t\t}\n\t}catch(err) {\n\t\tconsole.error(err);\n\t}\n}\n\n//Runs after an element update\nwindow['update_form_element'] = function(result,responsdata){\n\ttry{\n\t\tif (result.status >= 200 && result.status < 400) {\n\t\t\t//Replace html with new html\n\t\t\tdocument.querySelectorAll('form#sim_form_'+responsdata.formid+' .form_elements [data-id=\"'+responsdata.index+'\"]').forEach(el=>el.outerHTML = responsdata.html);\n\t\t}\n\t}catch(err) {\n\t\tconsole.error(err);\n\t}\n}\n\n//fill the element conditions tab\nfunction add_conditions_html(result,responsdata){\n\ttry{\n\t\tmodal.querySelector('.element_conditions_wrapper').innerHTML = responsdata.conditions_html;\n\n\t\tmodal.querySelectorAll('.condition_select').forEach(function(select){\n\t\t\tselect._niceselect = NiceSelect.bind(select,{searchable: true});\n\t\t});\n\t}catch(err) {\n\t\tconsole.error(err);\n\t}\n}\nwindow['conditions_html'] = add_conditions_html;\n\nfunction add_warning_conditions_form(result,responsdata){\n\ttry{\n\t\tmodal.querySelector('#warning_conditions_form').innerHTML = responsdata.warning_conditions;\n\n\t\tmodal.querySelectorAll('#warning_conditions_form select').forEach(function(select){\n\t\t\tselect._niceselect = NiceSelect.bind(select,{searchable: true});\n\t\t});\n\t}catch(err) {\n\t\tconsole.error(err);\n\t}\n}\n\n//fill the form after we have clicked the edit button\nwindow['prefillforminput'] = function(result,responsdata){\n\ttry{\n\t\tif (result.status >= 200 && result.status < 400) {\n\t\t\tclearforminputs();\n\t\t\tadd_conditions_html(result,responsdata);\n\n\t\t\tadd_warning_conditions_form(result,responsdata);\n\n\t\t\t//parse data\n\t\t\tvar original = responsdata.original;\n\t\t\tvar form = modal.querySelector('form');\n\t\t\tshow_condional_fields(original['type'],form);\n\t\t\t//loop over all elements in the modal\n\t\t\tmodal.querySelectorAll('.formbuilder').forEach(function(el){\n\t\t\t\tif(el.name != null){\n\t\t\t\t\t//get the elements name\n\t\t\t\t\tvar name = el.name.replace('formfield[','').replace(']','');\n\t\t\t\t\t\n\t\t\t\t\t//Check if there is a value for this element\n\t\t\t\t\tif(original[name] != undefined && original[name] != ''){\t\t\t\t\t\t\n\t\t\t\t\t\tif(el.type == 'checkbox'){\n\t\t\t\t\t\t\tif(original[name]==true){\n\t\t\t\t\t\t\t\tel.checked = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t/* if(el.name == \"formfield[multiple]\"){\n\t\t\t\t\t\t\t\tmultiple_changed(el);\n\t\t\t\t\t\t\t\tform.querySelector('select.formbuilder.array').classList.replace('hidden', 'hide');\n\t\t\t\t\t\t\t} */\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t//set the value\n\t\t\t\t\t\t\tel.value = original[name];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(el.type == \"select-one\"){\n\t\t\t\t\t\t\tif(el.selectedOptions.length > 0){\n\t\t\t\t\t\t\t\tel.selectedOptions[0].defaultSelected = true;\n\n\t\t\t\t\t\t\t\tif(el._niceselect != 'undefined'){\n\t\t\t\t\t\t\t\t\tel._niceselect.update();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(el.classList.contains('wp-editor-area')){\n\t\t\t\t\t\t\ttinyMCE.get(el.id).setContent(original[name]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tmodal.querySelector('[name=\"element_id\"]').value = responsdata.element_id;\n\t\t\tmodal.querySelector('[name=\"submit_form_element\"]').textContent = modal.querySelector('[name=\"submit_form_element\"]').textContent.replace('Add','Update');\t\t\n\t\t\tmodal.classList.remove('hidden');\n\t\t\t\n\t\t\t//show edit button again\n\t\t\tvar loader \t\t\t= document.querySelector('.form_element_wrapper[data-id=\"'+responsdata.element_id+'\"][data-formid=\"'+responsdata.formid+'\"] .loadergif');\n\t\t\tvar template\t\t= document.createElement('template');\n\t\t\ttemplate.innerHTML\t= modal.originalhtml;\n\t\t\tvar node\t\t\t= template.content.firstChild;\n\t\t\t\n\t\t\tloader.parentNode.replaceChild(node, loader);\n\t\t}else{\n\t\t\tconsole.log(result);\n\t\t}\n\t}catch(err) {\n\t\tconsole.error(err);\n\t}\n}\n\n//After removing the row in db, reflect changes on screen as well\nwindow['removerow'] = function (result,responsdata){\n\ttry{\n\t\tif (result.status >= 200 && result.status < 400) {\n\n\t\t\tvar row\t= document.querySelector('[data-formid=\"'+responsdata.formid+'\"][data-id=\"'+responsdata.elementindex+'\"]');\n\t\t\tvar form\t= row.closest('form');\n\t\t\t//remove the formelement row\n\t\t\trow.remove();\n\t\t\t\n\t\t\tfix_element_numbering(form);\n\t\t}\n\t}catch(err) {\n\t\tconsole.error(err);\n\t}\n}\n\n//fix the row indexes after adding or removing a row\nwindow['after_reorder'] = function(result,responsdata){\n\ttry{\n\t\treordering_busy = false;\n\t}catch(err) {\n\t\tconsole.error(err);\n\t}\n}\n\n/* FUNCTIONS */\nfunction clearforminputs(){\n\ttry {\n\t\t//Loop to clear the modalform\n\t\tmodal.querySelectorAll('input:not([type=hidden]), select, textarea, [name=insertafter], [name=element_id]').forEach(function(el){\n\t\t\tif(el.type == 'checkbox'){\n\t\t\t\tel.checked = false;\n\t\t\t}else{\n\t\t\t\tel.value = '';\n\t\t\t}\n\n\t\t\tif(el.type == 'textarea' && el.id != ''){\n\t\t\t\tvar editor = tinyMCE.get(el.id);\n\t\t\t\tif(editor != null){\n\t\t\t\t\teditor.setContent('');\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif(el.type == \"select-one\"){\n\t\t\t\tremove_default_select(el);\n\t\t\t\t\n\t\t\t\tif(el._niceselect != undefined){\n\t\t\t\t\tel._niceselect.clear();\n\t\t\t\t\tel._niceselect.update();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\thide_conditionalfields(modal.querySelector('form'));\n\t}\n\tcatch(err) {\n\t\tconsole.error(err);\n\t}\n}\n\n//listen to element size changes\nvar doit;\nconst resize_ob = new ResizeObserver(function(entries) {\n\tvar element = entries[0].target;\n\tif(element.parentNode != undefined){\n\t\tvar width\t= entries[0].contentRect.width\n\t\tvar widthpercentage = Math.round(width/element.parentNode.offsetWidth*100);\n\t\t\n\t\t//Show percentage on screen\n\t\tvar el\t= element.querySelector('.widthpercentage');\n\t\tif(widthpercentage <99){\n\t\t\tel.textContent = widthpercentage+'%';\n\t\t}else if(el != null){\n\t\t\tel.textContent = '';\n\t\t}\n\t\t\n\t\tclearTimeout(doit);\n\t\tdoit = setTimeout(send_element_size, 500,element,widthpercentage);\n\t}\n});\n\nfunction send_element_size(el,widthpercentage){\n\tif(widthpercentage != el.dataset.widthpercentage && Math.abs(widthpercentage - el.dataset.widthpercentage)>5){\n\t\tel.dataset.widthpercentage = widthpercentage;\n\t\t\n\t\t//send new width over AJAX\n\t\tvar remove_form_element_nonce = document.querySelector('[name=\"remove_form_element_nonce\"]').value;\n\t\tvar formdata = new FormData();\n\t\tformdata.append('action','edit_formfield_width');\n\t\tformdata.append('formid',el.closest('.form_element_wrapper').dataset.formid);\n\t\tformdata.append('elementid',el.closest('.form_element_wrapper').dataset.id);\n\t\tformdata.append('new_width',widthpercentage);\n\t\tformdata.append('remove_form_element_nonce',remove_form_element_nonce);\n\t\tsendAJAX(formdata);\n\t}\n}\n\n//Fires after element reorder\nfunction reorderformelements(event){\n\tif(reordering_busy == false){\n\t\treordering_busy = true;\n\n\t\tvar old_index\t= parseInt(event.item.dataset.priority);\n\n\t\tfix_element_numbering(event.item.closest('form'));\n\t\t\n\t\tvar difference = event.newIndex-event.oldIndex\n\t\t\n\t\tvar remove_form_element_nonce = document.querySelector('[name=\"remove_form_element_nonce\"]').value;\n\t\t\n\t\tvar formdata = new FormData();\n\t\tformdata.append('action','reorder_form_elements');\n\t\tformdata.append('formid',event.item.dataset.formid);\n\t\tformdata.append('old_index', old_index);\n\t\tformdata.append('new_index',(old_index+difference));\n\t\tformdata.append('remove_form_element_nonce',remove_form_element_nonce);\n\t\tsendAJAX(formdata);\n\t}else{\n\t\tSwal.fire({\n\t\t\ticon: 'error',\n\t\t\ttitle: 'ordering already in progress, please wait',\n\t\t\tconfirmButtonColor: \"#bd2919\",\n\t\t});\n\t}\n}\n\n//show conditional fields based on on the element type\nfunction show_condional_fields(type, form){\n\thide_conditionalfields(form);\n\t\n\tswitch(type) {\n\t\tcase 'button':\n\t\tcase 'formstep':\n\t\tcase 'label':\n\t\t\tform.querySelector('[name=\"labeltext\"]').classList.replace('hidden', 'hide');\n\t\t\tform.querySelector('[name=\"labeltext\"] .elementtype').textContent = type;\n\t\t\t\n\t\t\tform.querySelectorAll('.labelhide').forEach(function(el){\n\t\t\t\tel.classList.replace('hide','hidden');\n\t\t\t});\n\t\t\t\n\t\t\tbreak;\n\t\tcase 'info':\n\t\t\tform.querySelector('[name=\"infotext\"]').classList.replace('hidden', 'hide');\n\t\t\tform.querySelector('[name=\"infotext\"] .type').textContent = 'infobox';\n\t\t\tbreak;\n\t\tcase 'radio':\n\t\tcase 'select':\n\t\tcase 'checkbox':\n\t\tcase 'datalist':\n\t\t\t//show manual options field\n\t\t\tform.querySelector('[name=\"valuelist\"]').classList.replace('hidden', 'hide');\n\t\t\t\n\t\t\t//show option array select\n\t\t\tform.querySelector('[name=\"select_options\"]').classList.replace('hidden', 'hide');\n\n\t\t\t//show selected option select\n\t\t\tform.querySelector('[name=\"defaults\"]').classList.replace('hidden', 'hide');\n\t\t\t\n\t\t\tif(type != 'select'){\n\t\t\t\tform.querySelector('[name=\"multiple\"]').classList.replace('hide','hidden');\n\t\t\t}\n\t\t\t\n\t\t\tbreak;\n\t\tcase 'p':\n\t\t\tform.querySelectorAll('[name=\"labeltext\"],[name=\"wrap\"],[name=\"multiple\"],[name=\"defaults\"],[name=\"elementoptions\"]').forEach(div=>div.classList.add('hidden'))\n\t\t\tform.querySelector('[name=\"infotext\"]').classList.replace('hidden', 'hide');\n\t\t\tform.querySelector('[name=\"infotext\"] .type').textContent = 'Paragraph';\n\t\t\tbreak;\n\t\tcase 'php':\n\t\t\tform.querySelectorAll('[name=\"elementname\"],[name=\"infotext\"],[name=\"labeltext\"],[name=\"wrap\"],[name=\"multiple\"],[name=\"defaults\"],[name=\"elementoptions\"]').forEach(div=>div.classList.add('hidden'))\n\t\t\tform.querySelector('[name=\"functionname\"]').classList.replace('hidden', 'hide');\n\t\t\tbreak;\n\t\tdefault:\n\t\t\t//console.log(type);\n\t} \n}\n\nfunction hide_conditionalfields(form){\n\t//hide all fields that should be hidden\n\tform.querySelectorAll('.hide').forEach(function(el){\n\t\tel.classList.replace('hide', 'hidden');\n\t});\n\t\n\t//show the default value selector\n\t//form.querySelectorAll('.nice-select.formbuilder.flat').forEach(el=>{el.classList.replace('hidden', 'hide')});\n\t//form.querySelector('select.formbuilder.flat').classList.replace('hidden', 'hide');\n\t\n\t//show the multiple\n\tform.querySelector('[name=\"multiple\"]').classList.replace('hidden', 'hide');\n\n\tform.querySelectorAll('.labelhide').forEach(function(el){\n\t\tel.classList.replace('hidden','hide');\n\t});\n}\n\nfunction show_or_hide_controls(target){\n\tif(target.dataset.action == 'show'){\n\t\tformwrapper.querySelectorAll('.formfieldbutton').forEach(function(el){\n\t\t\tel.classList.remove('hidden');\n\t\t\ttarget.textContent\t= 'Hide form edit controls';\n\t\t\ttarget.dataset.action\t= 'hide';\n\t\t});\n\t\t\n\t\tformwrapper.querySelectorAll('.resizer').forEach(function(el){\n\t\t\tel.classList.add('show');\n\t\t});\n\t\t\n\t\t//hide submit button\n\t\tformwrapper.querySelector('[name=\"submit_form\"]').classList.add('hidden');\n\t\t\n\t}else{\n\t\tformwrapper.querySelectorAll('.formfieldbutton').forEach(function(el){\n\t\t\tel.classList.add('hidden');\n\t\t\ttarget.textContent = 'Show form edit controls';\n\t\t\ttarget.dataset.action\t= 'show';\n\t\t});\n\t\t\n\t\tformwrapper.querySelectorAll('.resizer').forEach(function(el){\n\t\t\tel.classList.remove('show');\n\t\t});\n\t\t\n\t\t//show submit button\n\t\tformwrapper.querySelector('[name=\"submit_form\"]').classList.remove('hidden');\n\t\t}\n}\n\nfunction show_empty_modal(target){\n\tvar request_form_element_nonce\t= document.querySelector('[name=\"request_form_element_nonce\"]').value;\n\tvar formname\t\t\t\t\t= target.dataset.formname;\n\tif(formname == undefined){\n\t\tformname = target.closest('.form_element_wrapper').dataset.formname;\n\t}\n\t\n\tclearforminputs();\n\t\n\tif(form_element_wrapper != null){\n\t\tmodal.querySelector('[name=\"insertafter\"]').value = form_element_wrapper.dataset.priority;\n\t}\n\t\n\tmodal.querySelector('[name=\"submit_form_element\"]').textContent = modal.querySelector('[name=\"submit_form_element\"]').textContent.replace('Update','Add');\n\t\n\tmodal.querySelector('.element_conditions_wrapper').innerHTML = '<img src=\"'+sim.loading_gif+'\" style=\"display:block; margin:0px auto 0px auto;\">';\n\t\n\tvar formdata = new FormData();\n\tformdata.append('action','request_form_conditions_html');\n\tformdata.append('elementindex','-1');\n\tformdata.append('request_form_element_nonce',request_form_element_nonce);\n\tformdata.append('formname',formname);\n\tsendAJAX(formdata);\n\n\tmodal.classList.remove('hidden');\n}\n\nfunction request_edit_element_data(target){\n\tvar elementid\t\t\t\t\t= form_element_wrapper.dataset.id;\n\tvar request_form_element_nonce\t= document.querySelector('[name=\"request_form_element_nonce\"]').value;\n\tvar formid\t\t\t\t\t\t= target.closest('.form_element_wrapper').dataset.formid;\n\tmodal.querySelector('[name=\"element_id\"]').value = form_element_wrapper.dataset.id;\n\t\n\tmodal.originalhtml = target.outerHTML;\n\t\n\tvar parent\t\t\t= target.parentNode;\n\tshowLoader(target);\n\tparent.querySelector('.loadergif').style.margin = '5px 19px 0px 19px';\n\t\n\tvar formdata = new FormData();\n\tformdata.append('action','request_form_elements');\n\tformdata.append('elementid',elementid);\n\tformdata.append('request_form_element_nonce',request_form_element_nonce);\n\tformdata.append('formid',formid);\n\tsendAJAX(formdata);\n}\n\nfunction maybe_remove_element(target){\n\tif(typeof(Swal)=='undefined'){\n\t\tremove_element(target);\n\t}else{\n\t\tSwal.fire({\n\t\t\ttitle: 'Are you sure?',\n\t\t\ttext: \"This will remove this element\",\n\t\t\ticon: 'warning',\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: '#3085d6',\n\t\t\tcancelButtonColor: '#d33',\n\t\t\tconfirmButtonText: 'Yes, delete it!'\n\t\t}).then((result) => {\n\t\t\tif (result.isConfirmed) {\n\t\t\t\tremove_element(target);\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction remove_element(target){\n\tvar parent\t\t\t= target.parentNode;\n\tvar elementwrapper\t= target.closest('.form_element_wrapper');\n\tvar formid\t\t= elementwrapper.dataset.formid;\n\tvar elementindex \t= elementwrapper.dataset.id;\n\n\tshowLoader(target);\n\tparent.querySelector('.loadergif').style.paddingRight = '10px';\n\tvar remove_form_element_nonce = document.querySelector('[name=\"remove_form_element_nonce\"]').value;\n\t\n\tvar formdata = new FormData();\n\tformdata.append('action','remove_formfield');\n\tformdata.append('formid',formid);\n\n\tformdata.append('elementindex',elementindex);\n\tformdata.append('remove_form_element_nonce',remove_form_element_nonce);\n\tsendAJAX(formdata);\n}\n\nfunction show_or_hide_condition_fields(target){\n\t//showdefault conditional field\n\ttarget.closest('.rule_row').querySelector('[name*=\"conditional_value\"]').classList.remove('hidden');\n\t\n\t//hide extra fields\n\ttarget.closest('.rule_row').querySelectorAll('.equation_2, .conditional_field_2').forEach(function(el){\n\t\tel.classList.add('hidden');\n\t});\n\t\n\t//show both extra fields\n\tif(target.dataset.value == '-' || target.dataset.value == '+'){\n\t\ttarget.closest('.rule_row').querySelectorAll('.equation_2, .conditional_field_2').forEach(function(el){\n\t\t\tel.classList.remove('hidden');\n\t\t});\n\t//show extra conditional field\n\t}else if(target.dataset.value != undefined && target.dataset.value.includes('value')){\n\t\ttarget.closest('.rule_row').querySelector('.conditional_field_2').classList.remove('hidden');\n\n\t\t//hide normal conditional value field\n\t\ttarget.closest('.rule_row').querySelector('[name*=\"conditional_value\"]').classList.add('hidden');\n\t}else if(target.dataset.value != undefined && (\n\t\ttarget.dataset.value.includes('changed') || \n\t\ttarget.dataset.value.includes('clicked') ||\n\t\ttarget.dataset.value.includes('checked')\n\t\t)){\n\t\ttarget.closest('.rule_row').querySelector('[name*=\"conditional_value\"]').classList.add('hidden');\n\t}\n}\n\nfunction add_condition_rule(target){\n\tvar row\t\t\t\t= target.closest('.rule_row');\n\tvar activebutton\t= row.querySelector('.active');\n\t\t\n\t//there was alreay an next rule and we clicked on the button which was no active\n\tif(activebutton != null && !target.classList.contains('active')){\t\t\n\t\tif(activebutton.textContent == 'AND'){\n\t\t\tvar current\t\t= 'AND';\n\t\t\tvar opposite\t= 'OR';\n\t\t}else{\n\t\t\tvar current\t\t= 'OR';\n\t\t\tvar opposite\t= 'AND';\n\t\t}\n\t\t\n\t\tSwal.fire({\n\t\t\ttitle: 'What do you want to do?',\n\t\t\tshowDenyButton: true,\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonText: 'Change '+current+' to '+opposite,\n\t\t\tdenyButtonText: 'Add a new rule',\n\t\t}).then((result) => {\n\t\t\t//swap and/or\n\t\t\tif (result.isConfirmed) {\n\t\t\t\t//make other button inactive\n\t\t\t\tactivebutton.classList.remove('active');\n\t\t\t\t\n\t\t\t\t//make the button active\n\t\t\t\ttarget.classList.add('active');\n\t\t\t\t\n\t\t\t\t//store action \n\t\t\t\trow.querySelector('.combinator').value = target.textContent;\n\t\t\t//add new rule after this one\n\t\t\t}else if (result.isDenied) {\n\t\t\t\taddrulerow(row);\n\t\t\t}\n\t\t});\n\t//add new rule at the end\n\t}else{\n\t\taddrulerow(row);\n\t\t\n\t\t//make the button active\n\t\ttarget.classList.add('active');\n\t\t\n\t\t//store action \n\t\trow.querySelector('.combinator').value = target.textContent;\n\t}\n}\n\nfunction addrulerow(row){\n\t//Insert a new rule row\n\tvar clone\t\t= clone_node(row);\n\t\n\tvar cloneindex\t= parseInt(row.dataset.rule_index) + 1;\n\n\tclone.dataset.rule_index = cloneindex;\n\n\trow.parentNode.insertBefore(clone, row.nextSibling);\n\t\n\tfix_rule_numbering(row.closest('.condition_row'));\n}\n\nfunction add_condition(target){\n\tvar row = target.closest('.condition_row');\n\t\n\tif(target.classList.contains('opposite')){\n\t\tclone = clone_node(row, false);\n\t}else{\n\t\tclone = clone_node(row);\n\t}\n\t\n\tvar cloneindex\t= parseInt(row.dataset.condition_index) + 1;\n\n\tclone.dataset.condition_index = cloneindex;\n\t\n\tif(!target.classList.contains('opposite')){\n\t\tclone.querySelectorAll('.active').forEach(function(el){\n\t\t\tel.classList.remove('active');\n\t\t});\n\t}\n\t\n\tif(target.classList.contains('opposite')){\n\t\t//Set values to opposite\n\t\tclone.querySelectorAll('.element_condition').forEach(function(el){\n\t\t\tif(el.tagName == 'SELECT' && el.classList.contains('equation')){\n\t\t\t\t//remove all default selected\n\t\t\t\tremove_default_select(el);\n\t\t\t\t\n\t\t\t\t//get the original value which was lost during cloning\n\t\t\t\tvar original_select = row.querySelector('.equation');\n\t\t\t\tvar selindex = original_select.selectedIndex;\n\t\t\t\t\n\t\t\t\tif(selindex != false){\n\t\t\t\t\t//if odd the select the next one\n\t\t\t\t\tif(selindex % 2){\n\t\t\t\t\t\tel.options[(selindex+1)].defaultSelected = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tel.options[(selindex-1)].defaultSelected = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//reflect changes in niceselect\n\t\t\t\tel._niceselect.update();\n\t\t\t}else if(el.type == 'radio' && el.classList.contains('element_condition') && (el.value == 'show' || el.value == 'hide')){\n\t\t\t\tif(el.checked == false){\n\t\t\t\t\tel.checked = true;\n\t\t\t\t}else{\n\t\t\t\t\tel.checked = false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\t\n\t\n\t//store radio values\n\tvar radio_values = {};\n\trow.querySelectorAll('input[type=\"radio\"]:checked').forEach(input=>{\n\t\tradio_values[input.value]\t= input.value;\n\t});\n\t\t\n\t//insert in page\n\trow.parentNode.insertBefore(clone, row.nextSibling);\n\t\n\tif(!target.classList.contains('opposite')){\n\t\t//remove unnecessy rulerows works only after html insert\n\t\tvar rule_count = clone.querySelectorAll('.rule_row').length;\n\t\tclone.querySelectorAll('.rule_row').forEach(function(rulerow){\n\t\t\t//only keep the last rule (as that one has the + button)\n\t\t\tif(rulerow.dataset.rule_index != rule_count-1){\n\t\t\t\trulerow.remove();\n\t\t\t}else{\n\t\t\t\tfix_rule_numbering(rulerow.closest('.condition_row'));\n\t\t\t}\n\t\t});\n\t}\n\t\n\t//fix numbering\n\tfix_condition_numbering();\n\t\n\t//fix radio's as they get unselected due to same names on insert\n\trow.querySelectorAll('input[type=\"radio\"]').forEach(input=>{\n\t\tif(radio_values[input.value] != undefined){\n\t\t\tinput.checked = true;\n\t\t}\n\t});\n\t\n\t\n\t//hide button\n\ttarget.style.display = 'none';\n}\n\nfunction remove_condition_rule(target){\n\tvar conditionrow = target.closest('.condition_row');\n\t\n\t//count rule rows in this condition row\n\tif(conditionrow.querySelectorAll('.rule_row').length > 1){\n\t\tSwal.fire({\n\t\t\ttitle: 'What do you want to remove?',\n\t\t\tshowDenyButton: true,\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonText: `One condition rule`,\n\t\t\tdenyButtonText: `The whole condition`,\n\t\t\tconfirmButtonColor: \"#bd2919\",\n\t\t}).then((result) => {\n\t\t\t//remove a rule rowe\n\t\t\tif (result.isConfirmed) {\n\t\t\t\t//get the current row\n\t\t\t\tvar rule_row\t\t= target.closest('.rule_row');\n\t\t\t\t\n\t\t\t\t//get the current row index\n\t\t\t\tvar rule_row_index\t= rule_row.dataset.rule_index;\n\t\t\t\t\n\t\t\t\t//Get previous row\n\t\t\t\tvar prev_row\t\t= conditionrow.querySelector('[data-rule_index=\"'+(rule_row_index-1)+'\"]')\n\t\t\t\t\n\t\t\t\tif(prev_row != null){\n\t\t\t\t\t//remove the active class from row above\n\t\t\t\t\tprev_row.querySelectorAll('.active').forEach(el=>el.classList.remove('active'));\n\t\t\t\t\t\n\t\t\t\t\t//clear the hidden input\n\t\t\t\t\tprev_row.querySelector('.combinator').value\t= '';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ttarget.closest('.rule_row').remove();\n\t\t\t\t\n\t\t\t\tfix_rule_numbering(conditionrow);\n\t\t\t} else if (result.isDenied) {\n\t\t\t\tconditionrow.remove();\n\t\t\t\tfix_condition_numbering();\n\t\t\t}\n\t\t});\n\t}else{\n\t\tSwal.fire({\n\t\t\ttitle: 'Are you sure?',\n\t\t\ttext: \"This will remove this condition\",\n\t\t\ticon: 'warning',\n\t\t\tshowCancelButton: true,\n\t\t\tconfirmButtonColor: \"#bd2919\",\n\t\t\tcancelButtonColor: '#d33',\n\t\t\tconfirmButtonText: 'Yes, delete it!'\n\t\t}).then((result) => {\n\t\t\tif (result.isConfirmed) {\n\t\t\t\tconditionrow.remove();\n\t\t\t\tfix_condition_numbering();\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction fix_element_numbering(form){\n\tform.querySelectorAll('.form_element_wrapper').forEach((el, index)=>{\n\t\tel.dataset.priority = index+1;\n\t})\n}\n\nfunction fix_rule_numbering(condition_row){\n\tvar rulerows\t= condition_row.querySelectorAll('.element_conditions_wrapper .rule_row');\n\tvar i = 0;\n\t\n\t//loop over all rules in the condition\n\trulerows.forEach(rulerow =>{\n\t\trulerow.dataset.rule_index = i;\n\t\t\n\t\trulerow.querySelectorAll('.element_condition').forEach(function(el){\n\t\t\t//fix numbering\n\t\t\tif(el.id != undefined){\n\t\t\t\tel.id = el.id.replace(/([0-9]+\\]\\[rules\\]\\[)[0-9]+/g,\"$1\"+i);\n\t\t\t}\n\t\t\t\t\n\t\t\tif(el.name != undefined){\n\t\t\t\tel.name = el.name.replace(/([0-9]+\\]\\[rules\\]\\[)[0-9]+/g,\"$1\"+i);\n\t\t\t}\n\t\t});\n\t\t\n\t\ti++;\n\t});\n}\n\nfunction fix_condition_numbering(){\n\tvar conditionrows\t= modal.querySelectorAll('.element_conditions_wrapper .condition_row');\n\tfor (let i = 0; i < conditionrows.length; i++) {\n\t\tconditionrows[i].dataset.condition_index = i;\n\t\t\n\t\tconditionrows[i].querySelectorAll('.element_condition').forEach(function(el){\n\t\t\t//fix numbering\n\t\t\tif(el.id != undefined){\n\t\t\t\tel.id = el.id.replace(/[0-9]+(\\]\\[rules\\]\\[[0-9]+)/g,i+\"$1\")\n\t\t\t\tel.id.replace(/[0-9]+(\\]\\[action\\])/g,i+\"$1\");\n\t\t\t\tel.id = el.id.replace(/(element_conditions\\[)[0-9]+\\]\\[+/g,\"$1\"+i+'][');\n\t\t\t}\n\t\t\tif(el.name != undefined){\n\t\t\t\tel.name = el.name.replace(/[0-9]+(\\]\\[rules\\]\\[[0-9]+)/g,i+\"$1\");\n\t\t\t\tel.name = el.name.replace(/[0-9]+(\\]\\[action\\])/g,i+\"$1\");\n\t\t\t\tel.name = el.name.replace(/(element_conditions\\[)[0-9]+\\]\\[+/g,\"$1\"+i+'][');\n\t\t\t}\n\t\t});\n\t}\n}\n\nfunction focus_first(){\n\tmodal.scrollTo(0,0);\n\tmodal.querySelector('[name=\"add_form_element_form\"] .nice-select').focus();\n\t\n\t//clear the callback variable \n\tcallback\t\t= null;\n}\n\nreordering_busy = false;\n\ndocument.addEventListener(\"DOMContentLoaded\",function() {\n\tconsole.log(\"Formbuilder.js loaded\");\n\n\t//Make the form_elements div sortable\n\tvar options = {\n\t\thandle: '.movecontrol',\n\t\tanimation: 150,\n\t\tonEnd: reorderformelements\n\t};\n\t\n\tdocument.querySelectorAll('.form_elements').forEach(el=>{Sortable.create(el, options);});\n\t\n\t//Listen to resize events on form_element_wrappers\n\tdocument.querySelectorAll('.resizer').forEach(el=>{resize_ob.observe(el);});\n});\n\n//Catch click events\nwindow.addEventListener(\"click\", event => {\n\tvar target = event.target;\n\t\n\tformwrapper\t\t\t\t= target.closest('.sim_form.wrapper');\n\tform_element_wrapper\t= target.closest('.form_element_wrapper');\n\t\n\tif(formwrapper != null){\n\t\tmodal = formwrapper.querySelector('.add_form_element_modal');\n\t}\n\t\n\t/* ELEMENT ACTIONS */\n\t\n\t//Show form edit controls\n\tif (target.name == 'editform'){\n\t\tshow_or_hide_controls(target);\n\t}\n\t\n\t//open the modal to add an element\n\tif (target.classList.contains('add_form_element') || target.name == 'createform'){\n\t\tshow_empty_modal(target);\n\t}\n\t\n\tif(target.name == 'submit_form_element'){\n\t\tcallback\t\t= focus_first;\n\t}\n\t\n\t//request form values via AJAX\n\tif (target.classList.contains('edit_form_element')){\n\t\trequest_edit_element_data(target);\n\t}\n\t\n\tif (target.classList.contains('remove_form_element')){\n\t\tmaybe_remove_element(target);\n\t}\n\t\n\t//actions on element type select\n\tif (target.closest('.elementtype') != null){\n\t\tshow_condional_fields(target.dataset.value, target.closest('form'));\n\t\t//if label type is selected, wrap by default\n\t\tif(target.dataset.value == 'label'){\n\t\t\ttarget.closest('form').querySelector('[name=\"formfield[wrap]\"]').checked\t= true;\n\t\t}\n\t}\n\t\n\t/* ELEMENT CONDITION ACTIONS */\n\t//actions on condition equation select\n\tif (target.closest('.equation') != null){\n\t\tshow_or_hide_condition_fields(target);\n\t}\n\t\n\t//add new conditions_rule\n\tif (target.classList.contains('and_rule') || target.classList.contains('or_rule')){\n\t\tadd_condition_rule(target);\n\t}\n\t\n\t//add new condition row\n\tif (target.classList.contains('add_condition')){\n\t\tadd_condition(target);\n\t}\n\t\n\t//remove  condition row\n\tif (target.classList.contains('remove_condition')){\n\t\tremove_condition_rule(target);\n\t}\n\t\n\t//show copy fields\n\tif (target.classList.contains('showcopyfields')){\n\t\tif(target.checked){\n\t\t\ttarget.closest('.copyfieldswrapper').querySelector('.copyfields').classList.remove('hidden');\n\t\t}else{\n\t\t\ttarget.closest('.copyfieldswrapper').querySelector('.copyfields').classList.add('hidden');\n\t\t}\n\t}\n\t\n\tif(target.classList.contains('emailtrigger')){\n\t\tel = target.closest('.clone_div').querySelector('.emailfieldcondition');\n\t\tif(target.value == 'fieldchanged'){\n\t\t\tel.classList.remove('hidden');\n\t\t}else{\n\t\t\tel.classList.add('hidden');\n\t\t}\n\t}\n\t\n\tif(target.classList.contains('fromemail')){\n\t\tdiv1 = target.closest('.clone_div').querySelector('.emailfromfixed');\n\t\tdiv2 = target.closest('.clone_div').querySelector('.emailfromconditional');\n\t\tif(target.value == 'fixed'){\n\t\t\tdiv1.classList.remove('hidden');\n\t\t\tdiv2.classList.add('hidden');\n\t\t}else{\n\t\t\tdiv2.classList.remove('hidden');\n\t\t\tdiv1.classList.add('hidden');\n\t\t}\n\t}\n\t\n\tif(target.classList.contains('emailto')){\n\t\tdiv1 = target.closest('.clone_div').querySelector('.emailtofixed');\n\t\tdiv2 = target.closest('.clone_div').querySelector('.emailtoconditional');\n\t\tif(target.value == 'fixed'){\n\t\t\tdiv1.classList.remove('hidden');\n\t\t\tdiv2.classList.add('hidden');\n\t\t}else{\n\t\t\tdiv2.classList.remove('hidden');\n\t\t\tdiv1.classList.add('hidden');\n\t\t}\n\t}\n\t\n\tif(target.classList.contains('placeholderselect') || target.classList.contains('placeholders')){\n\t\tvar value = '';\n\t\tif(target.classList.contains('placeholders')){\n\t\t\tvalue = target.textContent;\n\t\t}else if(target.value != ''){\n\t\t\tvalue = target.value;\n\t\t\ttarget.selectedIndex = '0';\n\t\t}\n\t\t\n\t\tif(value != ''){\n\t\t\tSwal.fire({\n\t\t\t\ticon: 'success',\n\t\t\t\ttitle: 'Copied '+value,\n\t\t\t\tshowConfirmButton: false,\n\t\t\t\ttimer: 1500\n\t\t\t})\n\t\t\tnavigator.clipboard.writeText(value);\n\t\t}\n\t}\n\t\n\t//show auto archive fields\n\tif(target.name == 'settings[autoarchive]'){\n\t\tel = target.closest('.formsettings_wrapper').querySelector('.autoarchivelogic');\n\t\tif(target.value == 'true'){\n\t\t\tel.classList.remove('hidden');\n\t\t}else{\n\t\t\tel.classList.add('hidden');\n\t\t}\n\t}\n\n\tif(target.name == 'settings[save_in_meta]'){\n\t\ttarget.closest('.sim_form.builder').querySelector('.submit_others_form_wrapper').classList.toggle('hidden');\n\t}\n\n\tif(target.name == 'formfield[mandatory]' && target.checked){\n\t\ttarget.closest('div').querySelector('[name=\"formfield[recommended]\"]').checked=true;\n\t}\n\n\t//copy warning_conditions row\n\tif(target.matches('.warn_cond')){\n\t\t//copy the row\n\t\tvar new_node = clone_node(target.closest('.warning_conditions'));\n\n\t\tdocument.getElementById('conditions_wrapper').insertAdjacentElement('beforeEnd', new_node);\n\n\t\t//add the active class\n\t\ttarget.classList.add('active');\n\n\t\t//store the value\n\t\ttarget.closest('.warning_conditions').querySelector('.combinator').value = target.value;\n\n\t\tfix_warning_condition_numbering();\n\t}\n\n\tif(target.matches('.remove_warn_cond')){\n\t\ttarget.closest('.warning_conditions').remove();\n\t\tfix_warning_condition_numbering();\n\t}\n\t\n});\n\nwindow.addEventListener('change', ev=>{\n\tif(ev.target.matches('.meta_key')){\n\t\t//if this option has a keys data value\n\t\tvar meta_indexes\t= ev.target.list.querySelector(\"[value='\"+ev.target.value+\"' i]\").dataset.keys;\n\t\tif(meta_indexes != null){\n\t\t\tparent\t= ev.target.closest('.warning_conditions').querySelector('.index_wrapper');\n\t\t\t//show the data key selector\n\t\t\tparent.classList.remove('hidden');\n\t\t\t\n\t\t\tconsole.log(parent);\n\t\t\t//remove all options and add new ones\n\t\t\tvar datalist\t= parent.querySelector('.meta_key_index_list');\n\t\t\tconsole.log(datalist);\n\t\t\tfor(var i=1; i<datalist.options.length; i++) {\n\t\t\t\tdatalist.options[i].remove();\n\t\t\t}\n\n\t\t\t//add the new options\n\t\t\tmeta_indexes.split(',').forEach(key=>{\n\t\t\t\tvar opt\t\t\t= document.createElement('option');\n\t\t\t\topt.value \t\t= key;\n\t\t\t\tdatalist.appendChild(opt);\n\t\t\t});\n\t\t}\n\t}\n});\n\nfunction fix_warning_condition_numbering(){\n\tvar warning_conditions\t= document.querySelectorAll('#conditions_wrapper .warning_conditions');\n\tvar i = 0;\n\t//loop over all rules in the condition\n\twarning_conditions.forEach(condition =>{\n\t\tcondition.dataset.index = i;\n\t\t\n\t\tcondition.querySelectorAll('.warning_condition').forEach(function(el){\n\t\t\t//fix numbering\n\t\t\tif(el.name != undefined){\n\t\t\t\tel.name\t= el.name.replace(/([0-9])+/g,i);\n\t\t\t}\n\n\t\t\tif(el.id != undefined){\n\t\t\t\tel.id\t= el.id.replace(/([0-9])+/g,i);\n\t\t\t}\n\n\t\t\tif(el.list != undefined){\n\t\t\t\tel.setAttribute('list', el.list.id.replace(/([0-9])+/g,i));\n\t\t\t}\n\t\t});\n\t\t\n\t\ti++;\n\t});\n}"],"names":["add_conditions_html","result","responsdata","modal","querySelector","innerHTML","conditions_html","querySelectorAll","forEach","select","_niceselect","NiceSelect","bind","searchable","err","console","error","clearforminputs","el","type","checked","value","id","editor","tinyMCE","get","setContent","remove_default_select","undefined","clear","update","hide_conditionalfields","doit","window","status","template","document","createElement","html","node","content","firstChild","referenceNode","formname","parseInt","index","insertAdjacentElement","parentNode","insertBefore","nextSibling","fix_element_numbering","resize_ob","observe","formid","outerHTML","warning_conditions","add_warning_conditions_form","original","form","show_condional_fields","name","replace","selectedOptions","length","defaultSelected","classList","contains","element_id","textContent","remove","loader","originalhtml","replaceChild","log","row","elementindex","closest","reordering_busy","ResizeObserver","entries","element","target","width","contentRect","widthpercentage","Math","round","offsetWidth","clearTimeout","setTimeout","send_element_size","dataset","abs","remove_form_element_nonce","formdata","FormData","append","sendAJAX","reorderformelements","event","old_index","item","priority","difference","newIndex","oldIndex","Swal","fire","icon","title","confirmButtonColor","div","add","remove_element","parent","elementwrapper","showLoader","style","paddingRight","addrulerow","clone","clone_node","cloneindex","rule_index","fix_rule_numbering","condition_row","rulerows","i","rulerow","fix_condition_numbering","conditionrows","condition_index","focus_first","scrollTo","focus","callback","fix_warning_condition_numbering","condition","list","setAttribute","addEventListener","options","handle","animation","onEnd","Sortable","create","formwrapper","form_element_wrapper","action","show_or_hide_controls","request_form_element_nonce","sim","loading_gif","show_empty_modal","elementid","margin","request_edit_element_data","text","showCancelButton","cancelButtonColor","confirmButtonText","then","isConfirmed","maybe_remove_element","includes","show_or_hide_condition_fields","activebutton","current","opposite","showDenyButton","denyButtonText","isDenied","add_condition_rule","tagName","selindex","selectedIndex","radio_values","input","rule_count","display","add_condition","conditionrow","rule_row_index","prev_row","remove_condition_rule","div1","div2","showConfirmButton","timer","navigator","clipboard","writeText","toggle","matches","new_node","getElementById","ev","meta_indexes","keys","datalist","split","key","opt","appendChild"],"sourceRoot":""}