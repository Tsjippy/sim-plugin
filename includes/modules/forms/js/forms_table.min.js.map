{"version":3,"file":"forms_table.min.js","mappings":"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","sources":["webpack://forms/./forms_table.js"],"sourcesContent":["\r\nconsole.log(\"Formstable.js loaded\");\r\n\r\nasync function hideColumn(cell){\r\n\t// Hide the column\r\n\tvar table\t\t= cell.closest('table');\r\n\tvar tableRows\t= table.rows;\r\n\tfor (const element of tableRows) {\r\n\t\telement.cells[cell.cellIndex].classList.add('hidden')\r\n\t}\r\n\r\n\t//show the reset button\r\n\r\n\tcell.closest('.table-wrapper').querySelector('.reset-col-vis').classList.remove('hidden');\r\n\r\n\t// store as preference\r\n\tvar formData\t= new FormData();\r\n\tformData.append('formid', table.dataset.formid);\r\n\tformData.append('column_name', cell.id);\r\n\t\r\n\tawait FormSubmit.fetchRestApi('forms/save_table_prefs', formData);\r\n}\r\n\r\nasync function showHiddenColumns(target){\r\n\t//hiden the reset button\r\n\ttarget.closest('.table-wrapper').querySelector('.reset-col-vis').classList.add('hidden');\r\n\r\n\t// Show the columns again\r\n\tlet table\t\t= target.closest('.table-wrapper').querySelector('table');\r\n\ttable.querySelectorAll('th.hidden, td.hidden').forEach(el=>el.classList.remove('hidden'));\r\n\r\n\t// store as preference\r\n\tlet formData\t= new FormData();\r\n\tformData.append('formid', table.dataset.formid);\r\n\r\n\tlet response\t= await FormSubmit.fetchRestApi('forms/delete_table_prefs', formData);\r\n\r\n\tif(response){\r\n\t\tMain.displayMessage(response);\r\n\t\tlocation.reload();\r\n\t}\r\n}\r\n\r\nasync function saveColumnSettings(target){\r\n\tlet response = await FormSubmit.submitForm(target, 'forms/save_column_settings');\r\n\r\n\tif(response){\r\n\t\tMain.displayMessage(response);\r\n\t\tlocation.reload();\r\n\t}\r\n}\r\n\r\nasync function saveTableSettings(target){\r\n\tlet response = await FormSubmit.submitForm(target, 'forms/save_table_settings');\r\n\r\n\tif(response){\r\n\t\tMain.displayMessage(response);\r\n\t}\r\n}\r\n\r\nasync function askConfirmation(text){\r\n\tlet options\t= {\r\n\t\ttitle: 'Are you sure?',\r\n\t\ttext: `Are you sure you want to ${text} this?`,\r\n\t\ticon: 'warning',\r\n\t\tshowCancelButton: true,\r\n\t\tconfirmButtonColor: \"#bd2919\",\r\n\t\tcancelButtonColor: '#d33',\r\n\t\tconfirmButtonText: `Yes, ${text} it!`,\r\n\t};\r\n\r\n\tif(document.fullscreenElement != null){\r\n\t\toptions['target']\t= document.fullscreenElement;\r\n\t}\r\n\r\n\tlet result\t= await Swal.fire(options);\r\n\r\n\r\n\tdocument.fullscreenElement\r\n\r\n\treturn result.isConfirmed;\r\n}\r\n\r\nasync function removeSubmission(target){\r\n\tif(await askConfirmation('delete')){\t\t\r\n\t\tlet submissionId\t= target.closest('tr').dataset.id;\r\n\t\tlet table\t\t\t= target.closest('table');\r\n\r\n\t\tlet formData = new FormData();\r\n\t\tformData.append('submissionid', submissionId);\r\n\t\t\r\n\t\t//display loading gif\r\n\t\tMain.showLoader(target);\r\n\r\n\t\tlet response\t= await FormSubmit.fetchRestApi('forms/remove_submission', formData);\r\n\r\n\t\tif(response){\r\n\t\t\ttable.querySelectorAll(`.table-row[data-id=\"${submissionId}\"]`).forEach(\r\n\t\t\t\trow=>row.remove()\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nasync function archiveSubmission(target){\t\r\n\tlet table\t\t\t= target.closest('table');\r\n\tlet tableRow\t\t= target.closest('tr');\r\n\tlet submissionId\t= tableRow.dataset.id;\r\n\tlet showSwal\t\t= true;\r\n\tlet action\t\t\t= target.value;\r\n\tlet response;\r\n\r\n\tlet formData \t\t= new FormData();\r\n\tformData.append('formid', table.dataset.formid);\r\n\tformData.append('submissionid', submissionId);\r\n\tformData.append('action', action);\r\n\t\r\n\t// Ask whether to archive one piece or the whole\r\n\tif(tableRow.dataset.subid != undefined){\r\n\t\tshowSwal = false;\r\n\r\n\t\tlet options\t= {\r\n\t\t\ttitle: `What do you want to ${action}?`,\r\n\t\t\ttext: `Do you want to ${action} just this one or the whole request?`,\r\n\t\t\ticon: 'question',\r\n\t\t\tshowDenyButton: true,\r\n\t\t\tshowCancelButton: true,\r\n\t\t\tconfirmButtonText: 'Just this one',\r\n\t\t\tdenyButtonText: 'The whole request',\r\n\t\t\tconfirmButtonColor: \"#bd2919\"\r\n\t\t};\r\n\t\r\n\t\tif(document.fullscreenElement != null){\r\n\t\t\toptions['target']\t= document.fullscreenElement;\r\n\t\t}\r\n\t\t\r\n\t\tresponse = await Swal.fire(options);\r\n\r\n\t\tif (response.isConfirmed) {\r\n\t\t\tformData.append('subid', tableRow.dataset.subid);\r\n\t\t}\r\n\t\t\r\n\t\t// skip if denied\r\n\t\tif(response.isDismissed){\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(showSwal){\r\n\t\tif(!await askConfirmation(action)){\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\t//display loading gif\r\n\tMain.showLoader(target);\r\n\t\r\n\tresponse\t= await FormSubmit.fetchRestApi('forms/archive_submission', formData);\r\n\r\n\tif(response){\r\n\t\tlet params = new Proxy(new URLSearchParams(window.location.search), {\r\n\t\t\tget: (searchParams, prop) => searchParams.get(prop),\r\n\t\t});\r\n\r\n\t\t// Create a custom event so others can listen to it.\r\n\t\t// Used by bookings uploads\r\n\t\tconst event = new Event('submissionArchived');\r\n\t\t\r\n\t\t// Delete all\r\n\t\tif(formData.get('subid') == null){\r\n\t\t\ttable.querySelectorAll(`[data-id=\"${submissionId}\"]`).forEach(row=>{\r\n\t\t\t\trow.dispatchEvent(event);\r\n\r\n\t\t\t\t// just change the button name\r\n\t\t\t\tif(params.archived == 'true'){\r\n\t\t\t\t\tlet element;\r\n\t\t\t\t\tif(action == 'archive'){\r\n\t\t\t\t\t\telement = row.querySelector(`.loaderwrapper, .archive`);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\telement = row.querySelector(`.loaderwrapper, .unarchive`);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tchangeArchiveButton(element, action);\r\n\t\t\t\t}else{\r\n\t\t\t\t\trow.remove();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t// Only delete subid\r\n\t\t}else{\r\n\t\t\ttable.querySelectorAll(`.table-row[data-id=\"${submissionId}\"][data-subid=\"${tableRow.dataset.subid}\"]`).forEach(row=>{\r\n\t\t\t\trow.dispatchEvent(event);\r\n\t\t\t\t\r\n\t\t\t\t// just change the button name\r\n\t\t\t\tif(params.archived == 'true'){\r\n\t\t\t\t\tlet loader = row.querySelector('.loaderwrapper');\r\n\t\t\t\t\t\r\n\t\t\t\t\tchangeArchiveButton(loader, action);\r\n\t\t\t\t}else{\r\n\t\t\t\t\trow.remove();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction changeArchiveButton(element, action){\r\n\tlet text;\r\n\r\n\tif(action == 'archive'){\r\n\t\taction \t= 'unarchive';\r\n\t\ttext\t= 'Unarchive';\r\n\t}else{\r\n\t\taction \t= 'archive';\r\n\t\ttext\t= 'Archive';\r\n\t}\r\n\telement.outerHTML = `<button class=\"${action} button forms_table_action\" name=\"${action}_action\" value=\"${action}\">${text}</button>`;\r\n}\r\n\r\nasync function getInputHtml(target){\r\n\tlet table\t\t\t= target.closest('table');\r\n\r\n\t// First make sure we have processed all others\r\n\tdocument.querySelectorAll('td.active').forEach(td=>{\r\n\t\tif(td != target){\r\n\t\t\tprocessFormsTableInput(td);\r\n\t\t}\r\n\t});\r\n\r\n\t// There can only be one active cell per page\r\n\ttarget.classList.add('active');\r\n\r\n\tlet formId\t\t\t= table.dataset.formid;\r\n    let submissionId\t= target.closest('tr').dataset.id;\r\n\tlet subId\t\t\t= target.dataset.subid;\r\n    let elementId\t\t= target.dataset.id\r\n\tlet elementName\t\t= target.dataset.name\r\n\tlet oldText\t\t\t= target.textContent;\r\n    \r\n    Main.showLoader(target.firstChild);\r\n\t\r\n\ttarget.dataset.oldtext\t \t= oldText;\r\n\r\n\tlet formData = new FormData();\r\n    formData.append('formid', formId);\r\n    formData.append('submissionid', submissionId);\r\n\tif(subId != undefined){\r\n\t\tformData.append('subid', subId);\r\n\t}\r\n    formData.append('elementid', elementId);\r\n\tformData.append('elementname', elementName);\r\n\r\n\tlet response\t= await FormSubmit.fetchRestApi('forms/get_input_html', formData);\r\n\r\n\tif(response){\r\n\t\ttarget.innerHTML\t \t\t= response;\r\n\r\n\t\taddFormsTableInputEventListeners(target);\r\n\r\n\t\ttarget.querySelectorAll('.file_upload_wrap').forEach(el=>el.addEventListener('uploadfinished', uploadFinished));\r\n\t}else{\r\n\t\ttarget.innerHTML\t= target.dataset.oldtext;\r\n\t\ttarget.classList.remove('active');\r\n\t}\r\n}\r\n\r\nfunction updatePageNav(navWrapper, pageNr){\r\n\r\n\tnavWrapper.querySelector('.current').classList.remove('current');\r\n\r\n\tnavWrapper.querySelector(`[data-nr=\"${pageNr}\"]`).classList.add('current');\r\n\r\n\t// hide prev button\r\n\tif(pageNr == 0){\r\n\t\tnavWrapper.querySelector('.prev').classList.add('hidden');\r\n\t}else{\r\n\t\tnavWrapper.querySelector('.prev').classList.remove('hidden');\r\n\t}\r\n\r\n\t// hide next button\r\n\tif(pageNr == navWrapper.querySelectorAll('.pagenumber').length -1){\r\n\t\tnavWrapper.querySelector('.next').classList.add('hidden');\r\n\t}else{\r\n\t\tnavWrapper.querySelector('.next').classList.remove('hidden');\r\n\t}\r\n}\r\n\r\nasync function getNextPage(target){\r\n\tlet wrapper\t\t\t= target.closest('.form.table-wrapper');\r\n\tlet navWrapper\t\t= target.closest('.form-result-navigation');\r\n\tlet tableWrapper\t= target.closest('.form-results-wrapper');\r\n\tlet table\t\t\t= tableWrapper.querySelector('.form-data-table:not(.hidden)');\r\n\r\n\ttable.classList.add('hidden');\r\n\r\n\t// get the requested page number\r\n\tlet\tcurPage\t\t\t= parseInt(navWrapper.querySelector(\".page-number-wrapper .current\").dataset.nr);\r\n\tlet page;\r\n\tif(target.matches('.next')){\r\n\t\tpage\t= curPage + 1;\r\n\t}else if(target.matches('.prev')){\r\n\t\tpage\t= curPage - 1;\r\n\t}else{\r\n\t\tpage\t= target.dataset.nr;\r\n\t}\r\n\t\r\n\tupdatePageNav(navWrapper, page);\r\n\r\n\t// check if the requested page is already loaded\r\n\tlet loadedPage\t= tableWrapper.querySelector(`[data-page=\"${page}\"]`);\r\n\t\r\n\tif(loadedPage != null){\r\n\t\tconsole.log(loadedPage);\r\n\t\tloadedPage.classList.remove('hidden');\r\n\r\n\t\treturn;\r\n\t}\r\n\r\n\t// request page over ajax\r\n\tlet formId\t\t\t= table.dataset.formid;\r\n\r\n\tlet loader\t\t\t= Main.showLoader(table, false);\r\n\t\r\n\tlet formData\t\t= new FormData(wrapper.querySelector(\".filteroptions\"));\r\n\r\n    formData.append('formid', formId);\r\n    formData.append('pagenumber', page);\r\n\tformData.append('shortcodeid', table.dataset.shortcodeid);\r\n    formData.append('type', table.dataset.type);\r\n\r\n\tlet params = new Proxy(new URLSearchParams(window.location.search), {\r\n\t\tget: (searchParams, prop) => searchParams.get(prop),\r\n\t});\r\n\r\n\tlet archived;\r\n\tif(params['archived'] == null){\r\n\t\tarchived\t= false;\r\n\t}else{\r\n\t\tarchived\t= true;\r\n\t}\r\n\r\n\tlet onlyown;\r\n\tif(params['onlyown'] == null){\r\n\t\tonlyown\t= false;\r\n\t}else{\r\n\t\tonlyown\t= true;\r\n\t}\r\n\tformData.append('archived', archived);\r\n\tformData.append('onlyown', onlyown);\r\n\t\r\n\tif(tableWrapper.dataset.sortcol){\r\n\t\tformData.append('sortcol', tableWrapper.dataset.sortcol);\r\n\t}\r\n\r\n\tif(tableWrapper.dataset.sortdir){\r\n\t\tformData.append('sortdir', tableWrapper.dataset.sortdir);\r\n\t}\r\n\r\n\tlet response\t= await FormSubmit.fetchRestApi('forms/get_page', formData);\r\n\r\n\tif(response){\r\n\t\tloader.outerHTML\t= response;\r\n\t}else{\r\n\t\t// restore prev data\r\n\t\ttable.classList.remove('hidden');\r\n\r\n\t\tloader.remove();\r\n\r\n\t\tupdatePageNav(navWrapper, curPage);\r\n\t}\r\n}\r\n\r\nasync function getSortedPage(target){\r\n\t\r\n\tlet wrapper\t\t\t= target.closest('.form.table-wrapper');\r\n\tlet tableWrapper\t= target.closest('.form-results-wrapper');\r\n\r\n\t// always start at page 1 again after sorting\r\n\tlet navWrapper\t\t= tableWrapper.querySelector('.form-result-navigation');\r\n\tupdatePageNav(navWrapper, 0);\r\n\r\n\tlet table\t\t\t= tableWrapper.querySelector('.form-data-table:not(.hidden)');\r\n\tlet formId\t\t\t= table.dataset.formid;\r\n\tlet sortCol\t\t\t= target.id;\r\n\tlet sortDir\t\t\t= target.classList.contains('desc') ? 'DESC' : 'ASC';\r\n\r\n\ttableWrapper.dataset.sortcol\t= sortCol;\r\n\ttableWrapper.dataset.sortdir\t= sortDir;\r\n\r\n\tlet loader\t\t\t= Main.showLoader(table, true, 'Loading sorted data');\r\n\t\r\n\tlet formData\t\t= new FormData(wrapper.querySelector(\".filteroptions\"));\r\n\r\n    formData.append('formid', formId);\r\n    formData.append('pagenumber', 0);\r\n\tformData.append('shortcodeid', table.dataset.shortcodeid);\r\n    formData.append('type', table.dataset.type);\r\n\r\n\tlet params = new Proxy(new URLSearchParams(window.location.search), {\r\n\t\tget: (searchParams, prop) => searchParams.get(prop),\r\n\t});\r\n\r\n\tlet archived;\r\n\tif(params['archived'] == null){\r\n\t\tarchived\t= false;\r\n\t}else{\r\n\t\tarchived\t= true;\r\n\t}\r\n\r\n\tlet onlyown;\r\n\tif(params['onlyown'] == null){\r\n\t\tonlyown\t= false;\r\n\t}else{\r\n\t\tonlyown\t= true;\r\n\t}\r\n\tformData.append('archived', archived);\r\n\tformData.append('onlyown', onlyown);\r\n\tformData.append('sortcol', sortCol);\r\n\tformData.append('sortdir', sortDir);\r\n\r\n\tlet response\t= await FormSubmit.fetchRestApi('forms/get_page', formData);\r\n\r\n\tif(response){\r\n\t\tloader.outerHTML\t= response;\r\n\t}else{\r\n\t\t// restore prev data\r\n\t\ttable.classList.remove('hidden');\r\n\r\n\t\tloader.remove();\r\n\t}\r\n}\r\n\r\nfunction addFormsTableInputEventListeners(cell){\r\n\tlet inputs\t\t= cell.querySelectorAll('input,select,textarea');\r\n\t\t\r\n\tinputs.forEach((inputNode)=>{\r\n\t\tif(inputNode.type == 'select-one'){\r\n\t\t\tinputNode._niceselect = NiceSelect.bind(inputNode, {searchable: true});\r\n\t\t}\r\n\t\t\r\n\t\tif((inputNode.type != 'radio' && inputNode.type != 'checkbox') || inputs.length == 1){\r\n\r\n\t\t\tif(inputNode.type == 'date'){\r\n\t\t\t\tinputNode.addEventListener(\"blur\", processFormsTableInput);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tinputNode.focus();\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction uploadFinished(event){\r\n\tif(event.target.closest('td') != null){\r\n\t\t//remove as soon as we come here\r\n\t\tdocument.removeEventListener('uploadfinished', uploadFinished);\r\n\t\tprocessFormsTableInput(document.querySelector('[data-oldtext]'));\r\n\t}\r\n}\r\n\r\n//function to get the temp input value and save it over AJAX\r\nvar running = false;\r\nasync function processFormsTableInput(target){\r\n\t// target is an event\r\n\tif(target.target != undefined){\r\n\t\ttarget = target.target;\r\n\t}\r\n\t\r\n\tif(running == target || target.value == '' || target.matches('.nice-select-search')){\r\n\t\treturn;\r\n\t}\r\n\trunning = target;\r\n\t\r\n\tsetTimeout(function(){ running = false;}, 500);\t\r\n\r\n\tlet table\t\t\t= target.closest('table');\r\n\tlet formId\t\t\t= table.dataset.formid;\r\n\tlet cell\t\t\t= target.closest('td');\r\n\tcell.classList.remove('active');\r\n    let elementId\t\t= cell.dataset.id\r\n\tlet elementName\t\t= cell.dataset.name\r\n\tlet value\t\t\t= FormFunctions.getFieldValue(target, cell, false);\r\n\tlet submissionId\t= target.closest('tr').dataset.id;\r\n\tlet subId\t\t\t= cell.dataset.subid;\r\n\tlet shortcodeid\t\t= '';\r\n\r\n\tif(target.closest('[data-shortcodeid]') != null){\r\n\t\tshortcodeid\t= target.closest('[data-shortcodeid]').dataset.shortcodeid;\r\n\t}\r\n\r\n\t//Only update when needed\r\n\tif (value != JSON.parse(cell.dataset.oldvalue)){\r\n\t\tMain.showLoader(cell.firstChild);\r\n\t\t\r\n\t\t// Submit new value and receive the filtered value back\r\n\t\tlet formData = new FormData();\r\n\t\tformData.append('formid', formId);\r\n\t\tformData.append('submissionid', submissionId);\r\n\t\tif(subId != undefined){\r\n\t\t\tformData.append('subid', subId);\r\n\t\t}\r\n\t\tformData.append('elementid', elementId);\r\n\t\tformData.append('elementname', elementName);\r\n\t\tformData.append('newvalue', JSON.stringify(value));\r\n\r\n\t\tif(shortcodeid != ''){\r\n\t\t\tformData.append('shortcodeid', shortcodeid);\r\n\t\t}\r\n\t\t\r\n\t\tlet response\t= await FormSubmit.fetchRestApi('forms/edit_value', formData);\r\n\t\r\n\t\tif(response){\r\n\t\t\tconsole.log(response)\r\n\t\t\tlet newValue = response.newvalue;\r\n\t\t\t\r\n\t\t\tif(typeof(newValue) == 'string'){\r\n\t\t\t\tnewValue.replace('_', ' ');\r\n\t\t\t}\r\n\r\n\t\t\t//Replace the input element with its value\r\n\t\t\tif(newValue == \"\"){\r\n\t\t\t\tnewValue = \"X\";\r\n\t\t\t}\r\n\t\r\n\t\t\t//Update all occurences of this field\r\n\t\t\tif(subId == null){\r\n\t\t\t\tlet targets\t= table.querySelectorAll(`tr[data-id=\"${submissionId}\"] td[data-id=\"${elementId}\"]`);\r\n\t\t\t\ttargets.forEach(td=>{td.innerHTML = newValue;});\r\n\t\t\t}else{\r\n\t\t\t\tcell.innerHTML = newValue;\r\n\t\t\t}\r\n\r\n\t\t\tcell.dataset.oldvalue\t \t= JSON.stringify(newValue);\r\n\r\n\t\t\tconsole.log(cell)\r\n\t\r\n\t\t\tMain.displayMessage(response.message.replace('_', ' '));\r\n\t\t}\r\n\t}else{\r\n\t\tcell.innerHTML = cell.dataset.oldtext;\r\n\t}\r\n\r\n\taddFormsTableInputEventListeners(target);\r\n\r\n\tif(target.dataset.oldtext != undefined){\r\n\t\tdelete target.dataset.oldtext;\r\n\t}\r\n}\r\n\r\n// Add a change button when changing form values\r\nfunction addChangeButton(target){\r\n\tlet activeCell\t= target.closest('td.active');\r\n\t\r\n\tif(activeCell == null){\r\n\t\treturn;\r\n\t}\r\n\r\n\tlet button = document.createElement('button');\r\n    button.innerHTML = 'Save changes';\r\n    button.classList.add('button');\r\n    button.classList.add('small');\r\n    button.classList.add('save');\r\n\r\n\tbutton.addEventListener('click', ev=>processFormsTableInput(ev.target.closest('td').querySelector('input')));\r\n\r\n\t// only add the button once\r\n\tif(activeCell.querySelector('.save') == null){\r\n\t\tactiveCell.appendChild(button)\r\n\t}\r\n}\r\n\r\ndocument.addEventListener(\"click\", event=>{\r\n\tlet target = event.target;\r\n\r\n\tif(target.name == 'submit_column_setting'){\r\n\t\tsaveColumnSettings(target);\r\n\t}else if(target.name == 'submit_table_setting'){\r\n\t\tsaveTableSettings(target);\r\n\t}else if(target.name == 'form_settings[autoarchive]'){\r\n\t\t//show auto archive fields\r\n\t\tlet el = target.closest('.table_rights_wrapper').querySelector('.autoarchivelogic');\r\n\t\tif(target.value == '1'){\r\n\t\t\tel.classList.remove('hidden');\r\n\t\t}else{\r\n\t\t\tel.classList.add('hidden');\r\n\t\t}\r\n\t}else if(target.closest('.form-result-navigation') != null && (target.matches('.next') || target.matches('.prev') || target.matches('.pagenumber'))){\r\n\t\tgetNextPage(target);\r\n\t\tevent.stopPropagation();\r\n\t}\r\n\r\n\tif(target.tagName == 'TH' && target.closest(\".form-results-wrapper\").querySelector('.form-result-navigation') != null){\r\n\t\t// get a sorted table over AJAX\r\n\t\tgetSortedPage(target);\r\n\t}\r\n\r\n\t//Actions\r\n\tif(target.matches('.delete.forms_table_action')){\r\n\t\tremoveSubmission(target);\r\n\t}\r\n\r\n\tif(target.matches('.archive.forms_table_action, .unarchive.forms_table_action')){\r\n\t\tarchiveSubmission(target);\r\n\t}\r\n\r\n\tif(target.matches('.print.forms_table_action')){\r\n\t\twindow.location.href = window.location.href.split('?')[0]+\"?print=true&table_id=\"+table.dataset.id+\"&submission_id=\"+table_row.querySelector(\"[id='id' i]\").textContent;\r\n\t}\r\n\t\r\n\t//Open settings modal\r\n\tif(target.classList.contains('edit_formshortcode_settings')){\r\n\t\tMain.showModal(document.querySelector('.modal.form_shortcode_settings'));\r\n\t}\r\n\t\r\n\t//Edit data\r\n\tlet td = target.closest('td');\r\n\tif(td && !td.matches('.active')){\r\n\t\tif( target.matches('td.edit_forms_table')){\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tgetInputHtml(target);\r\n\t\t}else if(td.matches('td.edit_forms_table') && target.tagName != 'INPUT' && target.tagName != 'A' && target.tagName != 'TEXTAREA' && !target.closest('.nice-select') && !target.matches('.button.save')){\r\n\t\t\tconsole.log(target)\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tgetInputHtml(target.closest('td'));\r\n\t\t}\r\n\t}\r\n\t\r\n\t//Hide column\r\n\tif(target.classList.contains('visibilityicon')){\r\n\t\tif(target.tagName == 'SPAN'){\r\n\t\t\ttarget = target.querySelector('img');\r\n\t\t}\r\n\r\n\t\t// Table itself\r\n\t\tif(target.parentNode.matches('th')){\r\n\t\t\thideColumn(target.parentNode);\r\n\t\t// Table settings\r\n\t\t}else{\r\n\t\t\tif(target.classList.contains('visible')){\r\n\t\t\t\ttarget.classList.replace('visible','invisible');\r\n\t\t\t\ttarget.src\t= target.src.replace('visible.png','invisible.png');\r\n\t\t\t\ttarget.closest('.column_setting_wrapper').querySelector('.visibilitytype').value = 'hide';\r\n\t\t\t}else{\r\n\t\t\t\ttarget.classList.replace('invisible','visible');\r\n\t\t\t\ttarget.src\t= target.src.replace('invisible.png','visible.png');\r\n\t\t\t\ttarget.closest('.column_setting_wrapper').querySelector('.visibilitytype').value = 'show';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif(target.matches('.reset-col-vis')){\r\n\t\tshowHiddenColumns(target);\r\n\t}\r\n\r\n\t// If we clicked somewhere and there is an active cell\r\n\tlet activeCell\t= document.querySelector('td.active');\r\n\tif(activeCell != null && td == null){\r\n\t\tif((target.type != 'checkbox') || target.length == 1){\r\n\t\t\tconsole.log(target);\r\n\t\t\tprocessFormsTableInput(activeCell);\r\n\t\t}\r\n\t}\r\n\r\n\tif(target.matches('form .permissions-rights-form')){\r\n\t\ttarget.closest('div').querySelector('.permission-wrapper').classList.toggle('hidden');\r\n\t}\r\n});\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n\t\r\n\tif(typeof(Sortable) != 'undefined'){\r\n\t\t//Make the sortable_column_settings_rows div sortable\r\n\t\tlet options = {\r\n\t\t\thandle: '.movecontrol',\r\n\t\t\tanimation: 150,\r\n\t\t};\r\n\r\n\t\tdocument.querySelectorAll('.sortable_column_settings_rows tbody').forEach(el=>{\r\n\t\t\tSortable.create(el, options);\r\n\t\t});\r\n\t}\r\n});\r\n\r\ndocument.addEventListener('change', event=>{\r\n\tlet target = event.target;\r\n\r\n\tif(target.id == 'sim-forms-selector'){\r\n\t\tdocument.querySelectorAll('.main_form_wrapper').forEach(el=>{\r\n\t\t\tel.classList.add('hidden');\r\n\t\t});\r\n\r\n\t\tdocument.getElementById(target.value).classList.remove('hidden');\r\n\r\n\t\t// position table\r\n\t\tSimTableFunctions.positionTable();\r\n\t}\r\n\r\n\tif(target.closest('td.active') != null){\r\n\t\tif(target.type != 'file' && target.type != 'date' && target.type != 'checkbox'){\r\n\t\t\t// Check if there are multiple inputs\r\n\t\t\tnames=[];\r\n\t\t\ttarget.closest('td.active').querySelectorAll('input').forEach(el=>{\r\n\t\t\t\tif(!names.includes(el.type)){\r\n\t\t\t\t\tnames.push(el.type);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tif(names.length == 1){\r\n\t\t\t\tprocessFormsTableInput(target);\r\n\t\t\t}else{\r\n\t\t\t\taddChangeButton(target);\r\n\t\t\t}\r\n\t\t}else if(target.type != 'file'){\r\n\t\t\taddChangeButton(target);\r\n\t\t}\r\n\t}\r\n});\r\n\r\n//Add a keyboard listener\r\ndocument.addEventListener(\"keyup\", function(event){\r\n\tif (['Enter', 'NumpadEnter'].includes(event.key) && keysPressed.Shift == undefined) {\r\n\r\n\t\tlet activeCell\t= document.querySelector('td.active');\r\n\t\tif(activeCell != null){\r\n\t\t\tprocessFormsTableInput(activeCell);\r\n\t\t}\r\n\t}\r\n\r\n\tdelete keysPressed[event.key];\r\n});\r\n\r\n\r\n// Keep track of which keys are pressed\r\nlet keysPressed = {};\r\ndocument.addEventListener('keydown', (event) => {\r\n   keysPressed[event.key] = true;\r\n});"],"names":["async","askConfirmation","text","options","title","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","document","fullscreenElement","result","Swal","fire","isConfirmed","changeArchiveButton","element","action","outerHTML","getInputHtml","target","table","closest","querySelectorAll","forEach","td","processFormsTableInput","classList","add","formId","dataset","formid","submissionId","id","subId","subid","elementId","elementName","name","oldText","textContent","Main","showLoader","firstChild","oldtext","formData","FormData","append","undefined","response","FormSubmit","fetchRestApi","innerHTML","addFormsTableInputEventListeners","el","addEventListener","uploadFinished","remove","updatePageNav","navWrapper","pageNr","querySelector","length","cell","inputs","inputNode","type","_niceselect","NiceSelect","bind","searchable","focus","event","removeEventListener","console","log","running","value","matches","setTimeout","FormFunctions","getFieldValue","shortcodeid","JSON","parse","oldvalue","stringify","newValue","newvalue","replace","displayMessage","message","addChangeButton","activeCell","button","createElement","ev","appendChild","submitForm","location","reload","saveColumnSettings","saveTableSettings","wrapper","tableWrapper","page","curPage","parseInt","nr","loadedPage","loader","archived","onlyown","params","Proxy","URLSearchParams","window","search","get","searchParams","prop","sortcol","sortdir","getNextPage","stopPropagation","tagName","sortCol","sortDir","contains","getSortedPage","row","removeSubmission","tableRow","showSwal","showDenyButton","denyButtonText","isDismissed","Event","dispatchEvent","archiveSubmission","href","split","table_row","showModal","parentNode","tableRows","rows","cells","cellIndex","hideColumn","src","showHiddenColumns","toggle","handle","animation","Sortable","create","getElementById","SimTableFunctions","positionTable","names","includes","push","key","keysPressed","Shift"],"sourceRoot":""}