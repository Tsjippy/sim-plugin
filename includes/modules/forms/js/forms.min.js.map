{"version":3,"file":"forms.min.js","mappings":"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","sources":["webpack://FormFunctions/webpack/universalModuleDefinition","webpack://FormFunctions/webpack/bootstrap","webpack://FormFunctions/webpack/runtime/define property getters","webpack://FormFunctions/webpack/runtime/hasOwnProperty shorthand","webpack://FormFunctions/webpack/runtime/make namespace object","webpack://FormFunctions/../../../js/ajax_import.js","webpack://FormFunctions/./forms.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"FormFunctions\"] = factory();\n\telse\n\t\troot[\"FormFunctions\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export let scripts;\r\nexport let callback;\r\n\r\nexport let afterScriptsLoaded\t= function (){\r\n    tinymce.remove();\r\n\r\n    // Activate tinyMce's again\r\n    document.querySelectorAll('.entry-content .wp-editor-area').forEach(el =>{\r\n        window.tinyMCE.execCommand('mceAddEditor', false, el.id);\r\n    });\r\n\r\n    // invoke dom content loaded events\r\n    window.document.dispatchEvent(new Event(\"DOMContentLoaded\", {\r\n        bubbles: true,\r\n        cancelable: true\r\n    }));\r\n\r\n    // Somehow the visual/text switch does not work, manually fix it\r\n    document.querySelectorAll('.wp-switch-editor').forEach(el=>el.addEventListener('click', ev=>{\r\n        let area    = el.closest('.wp-editor-wrap').querySelector('.wp-editor-area');\r\n        let panel   =  el.closest('.wp-editor-wrap').querySelector('.mce-panel');\r\n        area.style.visibility='unset';\r\n        if(ev.target.matches('.switch-tmce')){\r\n           panel.style.display='block';\r\n            area.style.display='none';\r\n        }else{\r\n            panel.style.display='none';\r\n            area.style.display='block';\r\n        }\r\n    }));\r\n\r\n    if(typeof callback == 'function'){\r\n        callback();\r\n    }\r\n}\r\n\r\nexport let addStyles    = function (response){\r\n    let temp = document.createElement('div');\r\n\r\n    if(response.js){\r\n        temp.innerHTML =  response.js;\r\n        scripts\t= [...temp.children];\r\n        addScripts();\r\n    }\r\n\r\n    if(response.css){\r\n        temp.innerHTML = response.css;\r\n        [...temp.children].forEach(el => {\r\n            document.head.appendChild(el);\r\n        });\r\n    }\r\n}\r\n\r\nexport let addScripts\t= function () {\r\n    let el\t= scripts.shift();\r\n\r\n    // only add if needed\r\n    if(document.getElementById(el.id) == null && el.tagName == 'SCRIPT'){\r\n        var s = document.createElement('script');\r\n\r\n        if(el.type == ''){\r\n            s.type\t= 'text/javascript'; \r\n        }else{\r\n            s.type\t= el.type;\r\n        }\r\n\r\n        if(el.src != ''){\r\n            s.src \t= el.src;\r\n        }else{\r\n            s.innerHTML\t= el.innerHTML;\r\n        }\r\n        \r\n        s.id\t= el.id;\r\n        \r\n        document.head.appendChild(s);\r\n\r\n        if(scripts.length > 0){\r\n            if(el.src != ''){\r\n                s.addEventListener('load', addScripts);\r\n            }else{\r\n                addScripts();\r\n            }\r\n        }else{\r\n            if(el.src != ''){\r\n                s.addEventListener('load', afterScriptsLoaded);\r\n            }else{\r\n                afterScriptsLoaded();\r\n            }\t\t\t\r\n        }\r\n    }else if(scripts.length > 0){\r\n        //run again when this script is loaded\r\n        addScripts();\r\n    }else{\r\n        afterScriptsLoaded();\r\n    }\r\n}","import { addStyles } from './../../../js/ajax_import.js';\r\n\r\n\r\nasync function saveFormInput(target){\r\n\tlet form\t\t= target.closest('form');\r\n\r\n\t// make all inputs required if needed\r\n\tform.querySelectorAll('.required:not(hidden) input, .required:not(hidden) textarea, .required:not(hidden) select').forEach(el=>{\r\n\t\tel.required\t= true;\r\n\t})\r\n\r\n\tlet response\t= await FormSubmit.submitForm(target, 'forms/save_form_input');\r\n\r\n\tif(response){\r\n\t\ttarget.closest('.submit_wrapper').querySelector('.loadergif').classList.add('hidden');\r\n\r\n\t\tMain.displayMessage(response);\r\n\r\n\t\tif(form.dataset.reset == 'true'){\r\n\t\t\tFormSubmit.formReset(form);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function removeDefaultSelect(el){\r\n\tArray.from(el.options).forEach(function(option){\r\n\t\toption.defaultSelected = false;\r\n\t});\r\n}\r\n\r\nlet tinymceSettings = [];\r\nfunction prepareForCloning(originalNode){\r\n\t//First remove any nice selects\r\n\toriginalNode.querySelectorAll('select').forEach(select => {\r\n\t\t//remove defaults if it has changed\r\n\t\tif(select.selectedIndex != -1){\r\n\t\t\tif(!select.options[select.selectedIndex].defaultSelected){\r\n\t\t\t\t//remove all default selected\r\n\t\t\t\tremoveDefaultSelect(select);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//Then add a new default selected if needed\r\n\t\tif(select.selectedOptions.length>0){\r\n\t\t\tselect.selectedOptions[0].defaultSelected = true;\r\n\t\t}\r\n\t\t\r\n\t\t//remove the original\r\n\t\tselect._niceselect.destroy()\r\n\t});\r\n\r\n\t//also remove any tinymce's\r\n\tif(typeof(tinymce) != 'undefined'){\r\n\t\toriginalNode.querySelectorAll('.wp-editor-area').forEach(el =>{\r\n\t\t\tlet tn = tinymce.get(el.id);\r\n\t\t\tif(tn != null){\r\n\t\t\t\ttinymceSettings[el.id] = tn.settings\r\n\t\t\t\ttn.save();\r\n\t\t\t\ttn.remove();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function cloneNode(originalNode, clear=true){\r\n\tprepareForCloning(originalNode);\r\n\t\r\n\t//make a clone\r\n\tlet newNode = originalNode.cloneNode(true);\r\n\t\r\n\t//Then add niceselects again after cloning took place\r\n\toriginalNode.querySelectorAll('select').forEach(select => {\r\n\t\tselect._niceselect = NiceSelect.bind(select,{searchable: true});\r\n\t\tif(select.value == ''){\r\n\t\t\tselect._niceselect.clear();\r\n\t\t}\r\n\t});\r\n\t\r\n\t//add tinymce's again\r\n\toriginalNode.querySelectorAll('.wp-editor-area').forEach(el =>{\r\n\t\ttinymce.init(tinymceSettings[el.id]);\r\n\t});\r\n\t\r\n\t//clear values in the clone\r\n\tif(clear){\r\n\t\tnewNode.querySelectorAll('input,select,textarea').forEach(input => {\r\n\t\t\tif(input.type == 'checkbox' || input.type == 'radio'){\r\n\t\t\t\tinput.checked = false;\r\n\t\t\t}else if(input.type != 'hidden'){\r\n\t\t\t\tinput.value = \"\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//if this is a select\r\n\t\t\tif(input.type == \"select-one\"){\r\n\t\t\t\t//remove any defaults\r\n\t\t\t\tremoveDefaultSelect(input);\r\n\t\t\t\t\r\n\t\t\t\tinput._niceselect = NiceSelect.bind(input,{searchable: true});\r\n\t\t\t\tinput._niceselect.clear();\r\n\t\t\t}\r\n\t\t});\r\n\t}else{\r\n\t\tnewNode.querySelectorAll('select').forEach(select => {\r\n\t\t\tselect._niceselect = NiceSelect.bind(select,{searchable: true});\r\n\t\t});\r\n\t}\r\n\t\r\n\treturn newNode;\r\n}\r\n\r\nexport function copyFormInput(originalNode){\r\n\tlet newNode = cloneNode(originalNode);\r\n\t\r\n\t//update the data index\r\n\tnewNode.querySelectorAll('.upload-files').forEach(function(uploadButton){\r\n\t\tuploadButton.dataset.index = nodeNr;\r\n\t})\r\n\t\r\n\t//Clear contents of any document preview divs.\r\n\tnewNode.querySelectorAll('.documentpreview').forEach(function(previewDiv){\r\n\t\tpreviewDiv.innerHTML = '';\r\n\t});\r\n\r\n\t//Select\r\n\tlet i = 0;\r\n\tnewNode.querySelectorAll('select').forEach(select => {\r\n\t\t//Find the value of the select we have cloned\r\n\t\tlet previousVal = originalNode.getElementsByTagName('select')[i].selectedIndex;\r\n\t\t\r\n\t\t//Hide the value in the clone\r\n\t\tselect.options[previousVal].style.display = 'none';\r\n\t\t\r\n\t\t//Add nice select\r\n\t\tselect._niceselect.update();\r\n\t\t\r\n\t\tselect.nextSibling.querySelector('.current').textContent = 'Select an option';\r\n\t\t\r\n\t\ti++;\r\n\t});\r\n\t\r\n\t//Add remove buttons if they are not there\r\n\tif(originalNode.querySelector('.remove') == null){\r\n \t\tlet addElement \t\t= newNode.querySelector('.add');\r\n\t\tlet elementClass \t= addElement.className.replace('add','remove');\r\n\t\tlet id \t\t\t\t= addElement.id.replace('add','remove');\r\n\t\tlet content \t\t= addElement.textContent.replace('Add','Remove this').replace('an','').replace('+','-');\r\n\t\t\r\n\t\tlet html = `<button type=\"button\" class=\"${elementClass}\" id=\"${id}\" style=\"flex: 1;\">${content}</button>`;\r\n\t\t\r\n\t\t//Add minus button to the first div\r\n\t\toriginalNode.querySelector('.buttonwrapper').insertAdjacentHTML('beforeend', html);\r\n\t\t//Add minus button to the second div\r\n\t\tnewNode.querySelector('.buttonwrapper').insertAdjacentHTML('beforeend', html)\r\n\t}\t\r\n\t\r\n\t//Insert the clone\r\n\toriginalNode.parentNode.insertBefore(newNode, originalNode.nextSibling);\r\n\t\r\n\treturn newNode;\r\n}\r\n\r\nexport function fixNumbering(cloneDivsWrapper){\r\n\tcloneDivsWrapper.querySelectorAll(':scope > .clone_div').forEach((clone, index)=>{\r\n\t\t//Update the new number\t\r\n\t\t//DIV\r\n\t\tif(clone.id != ''){\r\n\t\t\tclone.id = clone.id.replace(/(\\d)/g, index);\r\n\t\t}\r\n\t\t\r\n\t\tif(clone.dataset.divid  != null){\r\n\t\t\tclone.dataset.divid = index;\r\n\t\t}\r\n\t\t\r\n\t\t//Update the title\r\n\t\tclone.querySelectorAll('h3, h4').forEach(title => {\r\n\t\t\ttitle.textContent = title.textContent.replace(/(\\d)/g, index+1);\r\n\t\t});\r\n\t\t\r\n\t\t//Update the legend\r\n\t\tclone.querySelectorAll('legend').forEach(legend => {\r\n\t\t\tlegend.innerHTML = legend.innerHTML.replace(/ (\\d)/g, ' '+(index+1));\r\n\t\t});\r\n\t\t\r\n\t\t//Update the elements\r\n\t\tclone.querySelectorAll('input,select,textarea').forEach(input => {\r\n\t\t\t//Do not copy nice selects\r\n\t\t\tif(!input.classList.contains('nice-select-search')){\r\n\t\t\t\t//Update the id\r\n\t\t\t\tif(input.id != '' && input.id != undefined){\r\n\t\t\t\t\tinput.id = input.id.replace(/(\\d)/g, index);\r\n\t\t\t\t}\r\n\t\t\t\t//Update the name\r\n\t\t\t\tif(input.name != '' && input.name != undefined){\r\n\t\t\t\t\tinput.name = input.name.replace(/(\\d)/g, index);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//Reset the select to the default\r\n\t\t\t\tif(input.type == 'button'){\r\n\t\t\t\t\tinput.value = input.value.replace(/\\d/g, index);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t})\r\n}\r\n\r\nexport function removeNode(target){\r\n\tlet node\t\t\t= target.closest(\".clone_div\");\r\n\tlet parentNode\t\t= node.closest('.clone_divs_wrapper');\r\n\tlet allCloneDivs\t= parentNode.querySelectorAll('.clone_div');\r\n\t\r\n\t//Check if we are removing the last element\r\n\tif(allCloneDivs[allCloneDivs.length-1] == node){\r\n\t\tlet addElement = node.querySelector(\".add\");\r\n\t\t\r\n\t\t//Move the add button one up\r\n\t\tlet prev = node.previousElementSibling;\r\n\t\tprev.querySelector('.buttonwrapper').appendChild(addElement);\r\n\t}\r\n\t\r\n\t//Remove the node\r\n\tnode.remove();\r\n\r\n\t//If there is only one div remaining, remove the remove button\r\n\tif(parentNode.querySelectorAll('.clone_div').length == 1){\r\n\t\tlet removeElement = parentNode.querySelector('.remove');\r\n\t\tremoveElement.remove();\r\n\t}\r\n\r\n\tfixNumbering(parentNode)\r\n}\r\n\r\n/* \r\n\tFUNCTIONS USED BY DYNAMIC FORMS JS\r\n */\r\nexport function tidyMultiInputs(){\r\n\t//remove unnecessary buttons on inputs with multiple values\r\n\tdocument.querySelectorAll('.clone_divs_wrapper').forEach(function(div){\r\n\t\tlet cloneDivArr\t= div.querySelectorAll('.clone_div');\r\n\t\t\r\n\t\tif(cloneDivArr.length == 1){\r\n\t\t\tcloneDivArr[0].querySelectorAll('.remove').forEach(el=>el.remove());\r\n\t\t}\r\n\t\t\r\n\t\tcloneDivArr.forEach(function(cloneDiv, index, array){\r\n\t\t\t//update dataset\r\n\t\t\tcloneDiv.dataset.divid = index;\r\n\t\t\t\r\n\t\t\t//remove add button for all but the last\r\n\t\t\tif(index != array.length - 1){\r\n\t\t\t\tcloneDiv.querySelectorAll('.add').forEach(el=>el.remove());\r\n\t\t\t}\r\n\t\t})\r\n\t});\r\n}\r\n\t\r\n//show a next form step\r\nexport function showTab(n, form) {\r\n\tif(typeof(form) != 'undefined'){\r\n\t\tif(n == 0){\r\n\t\t\tlet loader = form.querySelector('.formsteploader');\r\n\t\t\t//hide loader\r\n\t\t\tif(loader != null){\r\n\t\t\t\tloader.classList.add('hidden');\r\n\t\t\t\r\n\t\t\t\t//show form controls\r\n\t\t\t\tform.querySelector('.multistepcontrols').classList.remove('hidden');\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//hide all formsteps\r\n\t\tform.querySelectorAll('.formstep:not(.stephidden)').forEach(step=>step.classList.add('stephidden'));\r\n\t\t\r\n\t\t// Show the specified formstep of the form ...\r\n\t\tlet x = form.getElementsByClassName(\"formstep\");\r\n\t\t\r\n\t\tif(x.length == 0){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t//scroll back to top\r\n\t\tlet y = x[n].offsetTop - document.querySelector(\"#masthead\").offsetHeight\r\n\t\twindow.scrollTo({ top: y, behavior: 'auto'});\r\n\t\t\r\n\t\t//show\r\n\t\tx[n].classList.remove('stephidden');\r\n\r\n\t\t// This function removes the \"active\" class of all steps...\r\n\t\tform.querySelectorAll(\".step.active\").forEach(el=>{el.classList.remove('active');});\r\n\r\n\t\t//... and adds the \"active\" class to the current step:\r\n\t\tx = form.getElementsByClassName(\"step\");\r\n\t\tx[n].classList.add(\"active\");\r\n\r\n\t\t// ... and fix the Previous/Next buttons:\r\n\t\tif (n == 0) {\r\n\t\t\tform.querySelector('[name=\"prevBtn\"]').classList.add('hidden');\r\n\t\t} else {\r\n\t\t\tform.querySelector('[name=\"prevBtn\"]').classList.remove('hidden');\r\n\t\t}\r\n\r\n\t\tif (n == (x.length - 1)) {\r\n\t\t\tform.querySelector('[name=\"nextBtn\"]').classList.add('hidden');\r\n\t\t\tform.querySelector('.form_submit').classList.remove('hidden');\r\n\t\t} else {\r\n\t\t\tform.querySelector('[name=\"nextBtn\"]').classList.remove('hidden');\r\n\t\t\tform.querySelector('.form_submit').classList.add('hidden');\r\n\t\t}\r\n\t}else{\r\n\t\tconsole.log('no form defined');\r\n\t}\r\n\t\t\r\n}\r\n\r\n//next form step clicked\r\nexport function nextPrev(n) {\r\n\t// This function will figure out which tab to display\r\n\tlet x \t\t\t\t= form.querySelectorAll(\".formstep\");\r\n\tlet stepIndicators\t= form.querySelectorAll(\".step\");\r\n\tlet currentTab\t\t= 0;\r\n\tlet valid;\r\n\r\n\t// Find the current active tab\r\n\tx.forEach((el, index)=>{if(!el.matches('.stephidden')){currentTab = index}});\r\n\t\r\n\t//Check validity of this step if going forward\r\n\tif(n>0){\r\n\t\t// Report validity of each required field\r\n\t\tlet elements\t= x[currentTab].querySelectorAll('.required:not(.hidden) input, .required:not(.hidden) textarea, .required:not(.hidden) select');\r\n\t\tfor(const element of elements) {\r\n\t\t\telement.required\t\t= true;\r\n\t\t\tvalid\t\t= element.reportValidity();\r\n\t\t\tif(!valid){\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(!valid) return;\r\n\t\t\r\n\t\t//mark the last step as finished\r\n\t\tstepIndicators[currentTab].classList.add(\"finish\");\r\n\t}else{\r\n\t\t//mark the last step as unfinished\r\n\t\tstepIndicators[currentTab].classList.remove(\"finish\");\r\n\t}\r\n\t\r\n\t//loop over all the formsteps to hide stepindicators of them if needed\r\n\tArray.from(x).forEach((formstep,index) =>{\r\n\t\tif(formstep.classList.contains('hidden')){\r\n\t\t\t//hide the corresponding circle\r\n\t\t\tstepIndicators[index].classList.add('hidden');\r\n\t\t}\r\n\t});\r\n\r\n\t// Increase or decrease the current tab by 1:\r\n\tcurrentTab = currentTab + n;\r\n\t\r\n\t//check if the next tab is hidden\r\n\twhile(x[currentTab].classList.contains('hidden')){\r\n\t\t//go to the next tab\r\n\t\tcurrentTab = currentTab + n;\r\n\t}\r\n\t\r\n\t// if you have reached the end of the form... :\r\n\tif (currentTab >= x.length) {\r\n\t\treturn false;\r\n\t}\r\n\t// Otherwise, display the correct tab:\r\n\tshowTab(currentTab,form);\r\n}\r\n\r\nfunction getRadioValue(form, name){\r\n\tlet el\t= form.querySelector(`[name='${name}' i]:checked`);\r\n\r\n\t//There is no radio selected currently\r\n\tif(el == null){\r\n\t\t//return an empty value\r\n\t\treturn '';\r\n\t}\r\n\r\n\treturn el.value;\r\n}\r\n\r\nfunction getCheckboxValue(form, name, compareValue, orgName){\r\n\tlet value\t\t= '';\r\n\tlet elements\t= '';\r\n\r\n\t//we are dealing with a specific checkbox\r\n\tif(orgName.type == 'checkbox' ){\r\n\t\tif(orgName.checked){\r\n\t\t\treturn orgName.value;\r\n\t\t}\r\n\t\t\r\n\t\treturn '';\r\n\t}\r\n\r\n\t//we should find the checkbox with this value and check if it is checked\r\n\tif(compareValue != null){\r\n\t\telements\t= form.querySelector(`[name='${name}' i][value=\"${compareValue}\" i]:checked`);\r\n\t\tif(elements != null){\r\n\t\t\tvalue = compareValue;\r\n\t\t}\r\n\t//no compare value give just return all checked values\r\n\t}else{\r\n\t\telements\t= form.querySelectorAll(`[name=\"${name}\" i]:checked`);\r\n\t\t\r\n\t\telements.forEach(el=>{\r\n\t\t\tif(value != ''){\r\n\t\t\t\tvalue += ', ';\r\n\t\t\t}\r\n\t\t\tvalue += el.value;\r\n\t\t});\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nfunction getDataListValue(el){\r\n\tlet value\t\t= '';\r\n\tlet origInput \t= el.list.querySelector(\"[value='\"+el.value+\"' i]\");\r\n\t\t\t\r\n\tif(origInput == null){\r\n\t\tvalue =  el.value;\r\n\t}else{\r\n\t\tvalue = origInput.dataset.value;\r\n\t\tif(value == ''){\r\n\t\t\tvalue =  el.value;\r\n\t\t}\r\n\t}\r\n\r\n\treturn value;\r\n}\r\n\r\nexport function getFieldValue(orgName, form, checkDatalist=true, compareValue=null, lowercase=false){\r\n\tlet el\t\t= ''; \r\n\tlet name\t= '';\r\n\tlet value \t= '';\r\n\r\n\t//name is not a name but a node\r\n\tif(orgName instanceof Element){\r\n\t\tel\t\t\t= orgName;\t\t\r\n\t\t//check if valid input type\r\n\t\tif(el.tagName != 'INPUT' && el.tagName != 'TEXTAREA' && el.tagName != 'SELECT' && el.closest('.nice-select-dropdown') == null){\r\n\t\t\tel = el.querySelector('input, select, textarea');\r\n\t\t}\r\n\t\tif(el == null){\r\n\t\t\tel\t\t\t= orgName;\r\n\t\t}\r\n\t\tname\t\t= el.name;\r\n\t}else{\r\n\t\tname\t\t= orgName;\r\n\t\tel\t\t\t= form.querySelector(`[name='${name}' i]`);\r\n\t}\r\n\t\r\n\tif(el == null){\r\n\t\tconsole.trace();\r\n\t\tconsole.log(\"cannot find element with name \"+name);\r\n\r\n\t\treturn value;\r\n\t}\r\n\r\n\tif(el.type == 'radio'){\r\n\t\tvalue\t= getRadioValue(form, name);\r\n\t}else if(el.type == 'checkbox'){\r\n\t\tvalue\t= getCheckboxValue(form, name, compareValue, orgName);\t\r\n\t}else if(el.closest('.nice-select-dropdown') != null && el.dataset.value != undefined){\r\n\t\t//nice select\r\n\t\tvalue = el.dataset.value\r\n\t}else if(el.list != null && checkDatalist){\r\n\t\tvalue =  getDataListValue(el);\r\n\t}else if(el.value != null && el.value != 'undefined'){\r\n\t\tvalue = el.value;\r\n\t}\r\n\t\r\n\tif(lowercase){\r\n\t\treturn value.toLowerCase();\r\n\t}\r\n\treturn value;\r\n}\r\n\r\nfunction findcheckboxTarget(form, name, value){\r\n\tlet targets = form.querySelectorAll(`[name=\"${name}\" i]`);\r\n\tfor (const element of targets) {\r\n\t\tif(element.value.toLowerCase() == value.toLowerCase()){\r\n\t\t\treturn element;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function changeFieldValue(orgName, value, functionRef, form){\r\n\tlet name\t= '';\r\n\tlet target\t= '';\r\n\r\n\tif(orgName instanceof Element){\r\n\t\tname\t= orgName.name;\r\n\t\ttarget\t= orgName;\r\n\t}else{\r\n\t\tname \t= orgName;\r\n\t\t//get the target\r\n\t\ttarget \t= form.querySelector(`[name=\"${name}\" i]`);\r\n\t}\r\n\t\r\n\tif(target.type == 'radio' || target.type == 'checkbox'){\r\n\t\tif(!(orgName instanceof Element)){\r\n\t\t\ttarget\t= findcheckboxTarget(form, name, value);\r\n\t\t}\r\n\t\t\r\n\t\tif(target.value.toLowerCase() == value.toLowerCase()){\r\n\t\t\ttarget.checked = true;\r\n\t\t}\r\n\t//the target has a list attached to it\r\n\t}else if(target.list != null){\r\n\t\tlet dataListOption = target.list.querySelector(`[data-value=\"${value}\" i]`);\r\n\r\n\t\t//we found a match\r\n\t\tif(dataListOption != null){\r\n\t\t\ttarget.value = dataListOption.value;\r\n\t\t}else{\r\n\t\t\ttarget.value = value;\r\n\t\t}\r\n\t}else{\r\n\t\ttarget.value = value;\r\n\t}\r\n\t\r\n\t//create a new event\r\n\tlet evt = new Event('input');\r\n\t//attach the target\r\n\ttarget.dispatchEvent(evt);\r\n\t\r\n\t//run the originating function with this event\r\n\tfunctionRef(target);\r\n}\r\n\r\nexport function changeFieldProperty(name, att, value, functionRef, form){\r\n\t//first change the value\r\n\tlet target = form.querySelector(`[name=\"${name}\" i]`);\r\n\t\r\n\tform.querySelector(`[name=\"${name}\"]`)[att] = value;\r\n\t\r\n\t//create a new event\r\n\tlet evt = new Event('input');\r\n\r\n\t//attach the target\r\n\ttarget.dispatchEvent(evt);\r\n\r\n\t//run the originating function with this event\r\n\tfunctionRef(target);\r\n}\r\n\r\nasync function formbuilderSwitch(target){\r\n\tlet wrapper\t= target.closest('.sim_form.wrapper');\r\n\tlet button\t= target.outerHTML;\r\n\r\n\tlet formData = new FormData();\r\n\tlet formId;\r\n\r\n\tconst url \t\t= new URL(window.location);\r\n\tif(target.matches('.formbuilder-switch')){\r\n\t\tformData.append('formbuilder', true);\r\n\t\turl.searchParams.set('formbuilder', true);\r\n\r\n\t\tformId\t= wrapper.querySelector('form.sim_form').dataset.formid;\r\n\t}else{\r\n\t\turl.searchParams.delete('formbuilder');\r\n\t\tformId\t= wrapper.querySelector('[name=\"formid\"]').value;\r\n\t}\r\n\twindow.history.pushState({}, '', url);\r\n\r\n\tformData.append('formid', formId);\r\n\r\n\tlet loader\t= Main.showLoader(target, false, 'Requesting form...');\r\n\twrapper.innerHTML\t= loader.outerHTML;\r\n\r\n\tlet response = await FormSubmit.fetchRestApi('forms/form_builder', formData);\r\n\r\n\tif(response){\r\n\t\twrapper.innerHTML\t= response.html;\r\n\r\n\t\taddStyles(response);\r\n\r\n\t\t// Activate tinyMce's again\r\n\t/* \twrapper.querySelectorAll('.wp-editor-area').forEach(el =>{\r\n\t\t\twindow.tinyMCE.execCommand('mceAddEditor', false, el.id);\r\n\t\t});\r\n\r\n\t\twrapper.querySelectorAll('select').forEach(function(select){\r\n\t\t\tselect._niceselect = NiceSelect.bind(select, {searchable: true});\r\n\t\t}); */\r\n\t}else{\r\n\t\tloader.outerHTML\t= button;\r\n\t}\r\n}\r\n\r\nasync function requestNewFormResults(target){\r\n\tlet wrapper\t\t= target.closest('.form.table-wrapper');\r\n\tlet button\t\t= target.outerHTML;\r\n\r\n\tlet formData \t= new FormData();\r\n\tlet formId\t\t= wrapper.querySelector('.sim-table.form-data-table').dataset.formid;\r\n\tlet shortcodeId\t= wrapper.querySelector('.sim-table.form-data-table').dataset.shortcodeid;\r\n\r\n\tformData.append('formid', formId);\r\n\tformData.append('id', shortcodeId);\r\n\r\n\tconst url \t\t= new URL(window.location);\r\n\tif(url.searchParams.get('onlyown')){\r\n\t\tformData.append('onlyown', true);\r\n\t}\r\n\tif(url.searchParams.get('archived')){\r\n\t\tformData.append('archived', true);\r\n\t}\r\n\r\n\tlet loader\t= Main.showLoader(target, false, 'Requesting form results...');\r\n\twrapper.innerHTML\t= loader.outerHTML;\r\n\r\n\tlet response = await FormSubmit.fetchRestApi('forms/show_form_results', formData);\r\n\r\n\tif(response){\r\n\t\twrapper.innerHTML\t= response;\r\n\t}else{\r\n\t\tloader.outerHTML\t= button;\r\n\t}\r\n}\r\n\r\nasync function archivedEntriesSwitch(target){\r\n\tconst url \t\t= new URL(window.location);\r\n\tif(target.matches('.archive-switch-show')){\r\n\t\turl.searchParams.set('archived', true);\r\n\t}else{\r\n\t\turl.searchParams.delete('archived');\r\n\t}\r\n\twindow.history.pushState({}, '', url);\r\n\r\n\trequestNewFormResults(target);\r\n}\r\n\r\nasync function onlyOwnSwitch(target){\r\n\tconst url \t\t= new URL(window.location);\r\n\tif(target.matches('.onlyown-switch-on')){\r\n\t\turl.searchParams.set('onlyown', true);\r\n\t}else{\r\n\t\turl.searchParams.delete('onlyown');\r\n\t}\r\n\twindow.history.pushState({}, '', url);\r\n\r\n\trequestNewFormResults(target);\r\n}\r\n\r\n//Main code\r\ndocument.addEventListener(\"DOMContentLoaded\",function() {\r\n\tconsole.log('Forms.js is loaded');\r\n});\r\n\r\n//we are online again\r\nwindow.addEventListener('online',function(){\r\n\tdocument.querySelectorAll('.form_submit').forEach(btn=>{\r\n\t\tbtn.disabled = false\r\n\t\tbtn.querySelectorAll('.offline').forEach(el=>el.remove());\r\n\t});\r\n});\r\n\r\n//prevent form submit when offline\r\nwindow.addEventListener('offline',function(){\r\n\tdocument.querySelectorAll('.form_submit').forEach(btn=>{\r\n\t\tbtn.disabled = true;\r\n\t\tif(btn.querySelector('.online') == null){\r\n\t\t\tbtn.innerHTML = '<div class=\"online\">'+btn.innerHTML+'</div>';\r\n\t\t}\r\n\t\tbtn.innerHTML += '<div class=\"offline\">You are offline</div>'\r\n\t});\r\n});\r\n\r\ndocument.addEventListener('click',function(event) {\r\n\tlet target = event.target;\r\n\t\r\n\t//add element\r\n\tif(target.matches('.add')){\r\n\t\tlet newNode = copyFormInput(target.closest(\".clone_div\"));\r\n\r\n\t\tfixNumbering(target.closest('.clone_divs_wrapper'));\r\n\r\n\t\t//add tinymce's can only be done when node is inserted and id is unique\r\n\t\tnewNode.querySelectorAll('.wp-editor-area').forEach(el =>{\r\n\t\t\twindow.tinyMCE.execCommand('mceAddEditor',false, el.id);\r\n\t\t});\r\n\r\n\t\ttarget.remove();\r\n\t}\r\n\t\r\n\t//remove element\r\n\tif(target.matches('.remove')){\r\n\t\t//Remove node clicked\r\n\t\tremoveNode(target);\r\n\t}\r\n\r\n\tif(target.matches('.sim_form [name=\"submit_form\"]')){\r\n\t\tevent.stopPropagation();\r\n\t\t\r\n\t\tsaveFormInput(target);\r\n\t}\r\n\r\n\tif(target.matches('.formbuilder-switch') || target.matches('.formbuilder-switch-back')){\r\n\t\tformbuilderSwitch(target);\r\n\t}\r\n\r\n\tif(target.matches('.archive-switch-hide') || target.matches('.archive-switch-show')){\r\n\t\tarchivedEntriesSwitch(target);\r\n\t}\r\n\r\n\tif(target.matches('.onlyown-switch-all') || target.matches('.onlyown-switch-on')){\r\n\t\tonlyOwnSwitch(target);\r\n\t}\r\n});"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","scripts","afterScriptsLoaded","tinymce","remove","document","querySelectorAll","forEach","el","window","tinyMCE","execCommand","id","dispatchEvent","Event","bubbles","cancelable","addEventListener","ev","area","closest","querySelector","panel","style","visibility","target","matches","display","addScripts","shift","getElementById","tagName","s","createElement","type","src","innerHTML","head","appendChild","length","removeDefaultSelect","Array","from","options","option","defaultSelected","tinymceSettings","cloneNode","originalNode","clear","select","selectedIndex","selectedOptions","_niceselect","destroy","tn","settings","save","prepareForCloning","newNode","NiceSelect","bind","searchable","init","input","checked","copyFormInput","uploadButton","dataset","index","nodeNr","previewDiv","i","previousVal","getElementsByTagName","update","nextSibling","textContent","addElement","html","className","replace","insertAdjacentHTML","parentNode","insertBefore","fixNumbering","cloneDivsWrapper","clone","divid","title","legend","classList","contains","undefined","name","removeNode","node","allCloneDivs","previousElementSibling","tidyMultiInputs","div","cloneDivArr","cloneDiv","array","showTab","n","form","loader","add","step","x","getElementsByClassName","y","offsetTop","offsetHeight","scrollTo","top","behavior","console","log","nextPrev","valid","stepIndicators","currentTab","elements","element","required","reportValidity","formstep","getFieldValue","orgName","checkDatalist","compareValue","lowercase","Element","trace","getRadioValue","getCheckboxValue","list","origInput","getDataListValue","toLowerCase","changeFieldValue","functionRef","targets","findcheckboxTarget","dataListOption","evt","changeFieldProperty","att","async","requestNewFormResults","wrapper","button","outerHTML","formData","FormData","formId","formid","shortcodeId","shortcodeid","append","url","URL","location","searchParams","Main","showLoader","response","FormSubmit","fetchRestApi","btn","disabled","event","stopPropagation","submitForm","displayMessage","reset","formReset","saveFormInput","set","delete","history","pushState","temp","js","children","css","addStyles","formbuilderSwitch","archivedEntriesSwitch","onlyOwnSwitch"],"sourceRoot":""}