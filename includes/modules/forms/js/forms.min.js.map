{"version":3,"file":"forms.min.js","mappings":"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","sources":["webpack://formFunctions/webpack/universalModuleDefinition","webpack://formFunctions/webpack/bootstrap","webpack://formFunctions/webpack/runtime/define property getters","webpack://formFunctions/webpack/runtime/hasOwnProperty shorthand","webpack://formFunctions/webpack/runtime/make namespace object","webpack://formFunctions/./forms.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"formFunctions\"] = factory();\n\telse\n\t\troot[\"formFunctions\"] = factory();\n})(self, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var re\t= '';\r\n\r\nasync function saveFormInput(target){\r\n\tvar form\t\t= target.closest('form');\r\n\tvar response\t= await submitForm(target, 'forms/save_form_input');\r\n\r\n\tif(response){\r\n\t\ttarget.closest('.submit_wrapper').querySelector('.loadergif').classList.add('hidden');\r\n\r\n\t\tdisplay_message(response);\r\n\r\n\t\tif(form.dataset.reset == 'true'){\r\n\t\t\tformReset(form);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function removeDefaultSelect(el){\r\n\tArray.from(el.options).forEach(function(option){\r\n\t\toption.defaultSelected = false;\r\n\t});\r\n}\r\n\r\nexport function cloneNode(original_node, clear=true){\r\n\t//First remove any nice selects\r\n\toriginal_node.querySelectorAll('select').forEach(select => {\r\n\t\t//remove defaults if it has changed\r\n\t\tif(select.selectedIndex != -1){\r\n\t\t\tif(select.options[select.selectedIndex].defaultSelected == false){\r\n\t\t\t\t//remove all default selected\r\n\t\t\t\tremoveDefaultSelect(select);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//Then add a new default selected if needed\r\n\t\tif(select.selectedOptions.length>0){\r\n\t\t\tselect.selectedOptions[0].defaultSelected = true;\r\n\t\t}\r\n\t\t\r\n\t\t//remove the original\r\n\t\tselect._niceselect.destroy()\r\n\t});\r\n\t\r\n\t//also remove any tinymce's\r\n\tif(typeof(tinymce) != 'undefined'){\r\n\t\ttinymce_settings = [];\r\n\t\toriginal_node.querySelectorAll('.wp-editor-area').forEach(el =>{\r\n\t\t\tvar tn = tinymce.get(el.id);\r\n\t\t\tif(tn != null){\r\n\t\t\t\ttinymce_settings[el.id] = tn.settings\r\n\t\t\t\ttn.save();\r\n\t\t\t\ttn.remove();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t//make a clone\r\n\tvar newnode = original_node.cloneNode(true);\r\n\t\r\n\t//Then add niceselects again after cloning took place\r\n\toriginal_node.querySelectorAll('select').forEach(select => {\r\n\t\tselect._niceselect = NiceSelect.bind(select,{searchable: true});\r\n\t\tif(select.value == ''){\r\n\t\t\tselect._niceselect.clear();\r\n\t\t}\r\n\t});\r\n\t\r\n\t//add tinymce's again\r\n\toriginal_node.querySelectorAll('.wp-editor-area').forEach(el =>{\r\n\t\ttinymce.init(tinymce_settings[el.id]);\r\n\t});\r\n\t\r\n\t//clear values in the clone\r\n\tif(clear == true){\r\n\t\tnewnode.querySelectorAll('input,select,textarea').forEach(input => {\r\n\t\t\tif(input.type == 'checkbox' || input.type == 'radio'){\r\n\t\t\t\tinput.checked = false;\r\n\t\t\t}else if(input.type != 'hidden'){\r\n\t\t\t\tinput.value = \"\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//if this is a select\r\n\t\t\tif(input.type == \"select-one\"){\r\n\t\t\t\t//remove any defaults\r\n\t\t\t\tremoveDefaultSelect(input);\r\n\t\t\t\t\r\n\t\t\t\tinput._niceselect = NiceSelect.bind(input,{searchable: true});\r\n\t\t\t\tinput._niceselect.clear();\r\n\t\t\t}\r\n\t\t});\r\n\t}else{\r\n\t\tnewnode.querySelectorAll('select').forEach(select => {\r\n\t\t\tselect._niceselect = NiceSelect.bind(select,{searchable: true});\r\n\t\t});\r\n\t}\r\n\t\r\n\treturn newnode;\r\n}\r\n\r\nfunction copy_form_input(original_node){\r\n\tvar newnode = cloneNode(original_node);\r\n\t\r\n\t//Find the node number\r\n\tvar nodenr = parseInt(original_node.dataset.divid)+1;\r\n\t\r\n\tif(original_node.getAttribute(\"data-type\") != null){\r\n\t\tvar datatype = original_node.getAttribute(\"data-type\").replace('[','\\\\[').replace(']','\\\\]');\r\n\t\tre = new RegExp('('+datatype+'?\\\\]?\\\\[).*[0-9](.*)',\"g\");\r\n\t}else{\r\n\t\tre = new RegExp('(.*)[0-9](.*)',\"g\");\r\n\t}\r\n\t\r\n\t//update the data index\r\n\tnewnode.querySelectorAll('.upload-files').forEach(function(uploadbutton){\r\n\t\tuploadbutton.dataset.index = nodenr;\r\n\t})\r\n\t\r\n\t//Clear contents of any document preview divs.\r\n\tnewnode.querySelectorAll('.documentpreview').forEach(function(previewdiv){\r\n\t\tpreviewdiv.innerHTML = '';\r\n\t});\r\n\r\n\t//Select\r\n\tvar i = 0;\r\n\tnewnode.querySelectorAll('select').forEach(select => {\r\n\t\t//Find the value of the select we have cloned\r\n\t\tvar previous_val = original_node.getElementsByTagName('select')[i].selectedIndex;\r\n\t\t\r\n\t\t//Hide the value in the clone\r\n\t\tselect.options[previous_val].style.display = 'none';\r\n\t\t\r\n\t\t//Add nice select\r\n\t\tselect._niceselect.update();\r\n\t\t\r\n\t\tselect.nextSibling.querySelector('.current').textContent = 'Select an option';\r\n\t\t\r\n\t\ti++;\r\n\t});\r\n\t\r\n\t//Add remove buttons if they are not there\r\n\tif(original_node.querySelector('.remove') == null){\r\n \t\tvar add_element \t= newnode.querySelector('.add');\r\n\t\tvar element_class \t= add_element.className.replace('add','remove');\r\n\t\tvar id \t\t\t\t= add_element.id.replace('add','remove');\r\n\t\tvar content \t\t= add_element.textContent.replace('Add','Remove this').replace('an','').replace('+','-');\r\n\t\t\r\n\t\tvar html = '<button type=\"button\" class=\"'+element_class+'\" id=\"'+id+'\" style=\"flex: 1;\">'+content+'</button>';\r\n\t\t\r\n\t\t//Add minus button to the first div\r\n\t\toriginal_node.querySelector('.buttonwrapper').insertAdjacentHTML('beforeend',html);\r\n\t\t//Add minus button to the second div\r\n\t\tnewnode.querySelector('.buttonwrapper').insertAdjacentHTML('beforeend',html)\r\n\t}\t\r\n\t\r\n\t//Insert the clone\r\n\toriginal_node.parentNode.insertBefore(newnode, original_node.nextSibling);\r\n\t\r\n\treturn newnode;\r\n}\r\n\r\nfunction fix_numbering(clone_divs_wrapper){\r\n\tclone_divs_wrapper.querySelectorAll(':scope > .clone_div').forEach((clone, index)=>{\r\n\t\t//Update the new number\t\r\n\t\t//DIV\r\n\t\tif(clone.id != ''){\r\n\t\t\tclone.id = clone.id.replace(re, '$1'+index+'$2');\r\n\t\t}\r\n\t\t\r\n\t\tif(clone.dataset.divid  != null){\r\n\t\t\tclone.dataset.divid = index;\r\n\t\t}\r\n\t\t\r\n\t\t//Update the title\r\n\t\tclone.querySelectorAll('h3').forEach(title => {\r\n\t\t\ttitle.textContent = title.textContent.replace(/([0-9])/g, index+1);\r\n\t\t});\r\n\t\t\r\n\t\t//Update the label\r\n\t\tclone.querySelectorAll('label, legend').forEach(label => {\r\n\t\t\tlabel.innerHTML = label.innerHTML.replace(/ ([0-9])/g, ' '+(index+1));\r\n\t\t});\r\n\t\t\r\n\t\t//Update the elements\r\n\t\tclone.querySelectorAll('input,select,textarea').forEach(input => {\r\n\t\t\t//Do not copy nice selects\r\n\t\t\tif(!input.classList.contains('nice-select-search')){\r\n\t\t\t\t//Update the id\r\n\t\t\t\tif(input.id != '' && input.id != undefined){\r\n\t\t\t\t\tinput.id = input.id.replace(re, '$1'+index+'$2');\r\n\t\t\t\t}\r\n\t\t\t\t//Update the name\r\n\t\t\t\tif(input.name != '' && input.name != undefined){\r\n\t\t\t\t\tinput.name = input.name.replace(re, '$1'+index+'$2');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//Reset the select to the default\r\n\t\t\t\tif(input.type == 'button'){\r\n\t\t\t\t\tinput.value = input.value.replace(/[0-9]/g, index);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t})\r\n}\r\n\r\nfunction remove_node(target){\r\n\tvar node\t\t\t= target.closest(\".clone_div\");\r\n\tvar parent_node\t\t= node.closest('.clone_divs_wrapper');\r\n\tvar all_clone_divs\t= parent_node.querySelectorAll('.clone_div');\r\n\t\r\n\t//Check if we are removing the last element\r\n\tif(all_clone_divs[all_clone_divs.length-1] == node){\r\n\t\tvar add_element = node.querySelector(\".add\");\r\n\t\t\r\n\t\t//Move the add button one up\r\n\t\tvar prev = node.previousElementSibling;\r\n\t\tprev.querySelector('div').appendChild(add_element);\r\n\t}\r\n\t\r\n\t//Check which number to update\r\n\tif(node.getAttribute(\"data-type\") != null){\r\n\t\tvar datatype = node.getAttribute(\"data-type\").replace('[','\\\\[').replace(']','\\\\]');\r\n\t\tre = new RegExp('('+datatype+'?\\\\]?\\\\[).*[0-9](.*)',\"g\");\r\n\t}else{\r\n\t\tre = new RegExp('(.*)[0-9](.*)',\"g\");\r\n\t}\r\n\t\r\n\t//Remove the node\r\n\tnode.remove();\r\n\t\r\n\t//update the collection\r\n\tall_clone_divs\t= parent_node.querySelectorAll('.clone_div');\r\n\t\r\n\t//If there is only one div remaining, remove the remove button\r\n\tif(all_clone_divs.length == 1){\r\n\t\tvar remove_element = parent_node.querySelector('.remove');\r\n\t\tremove_element.remove();\r\n\t}\r\n\t\r\n\t//Loop over all the remaining nodes.\r\n\tvar nodenr = parseInt(all_clone_divs[0].dataset.divid);\r\n\tall_clone_divs.forEach(function(clonenode){\r\n\t\tif(clonenode.dataset.type == 'understudies'){\r\n\t\t\t//update the data index\r\n\t\t\tclonenode.querySelectorAll('.upload-files').forEach(function(uploadbutton){\r\n\t\t\t\tuploadbutton.dataset.index = nodenr;\r\n\t\t\t})\r\n\t\t}\r\n\t\t\t\r\n\t\t//DIV\r\n\t\tif(clonenode.id != ''){\r\n\t\t\tclonenode.id = clonenode.id.replace(re, '$1'+nodenr+'$2');\r\n\t\t}\r\n\t\t\r\n\t\tclonenode.dataset.divid = nodenr;\r\n\t\t\r\n\t\t//Update the title\r\n\t\tclonenode.querySelectorAll('h3').forEach(title => {\r\n\t\t\ttitle.textContent = title.textContent.replace(/[0-9]/g, nodenr);\r\n\t\t});\r\n\t\t\r\n\t\t//Update the label\r\n\t\tclonenode.querySelectorAll('label').forEach(label => {\r\n\t\t\tif(all_clone_divs[0].dataset.divid == 0){\r\n\t\t\t\tlabelnr = nodenr + 1;\r\n\t\t\t}else{\r\n\t\t\t\tlabelnr = nodenr;\r\n\t\t\t}\r\n\t\t\tlabel.innerHTML = label.innerHTML.replace(/ ([0-9])/g, function($1) {return ' '+labelnr});\r\n\t\t});\r\n\t\t\r\n\t\t//Update the elements\r\n\t\tclonenode.querySelectorAll('input,select,textarea').forEach(input => {\r\n\t\t\tif(input.id != ''){\r\n\t\t\t\t//Update the id\r\n\t\t\t\tinput.id = input.id.replace(re, '$1'+nodenr+'$2');\r\n\t\t\t}\r\n\t\t\t//Update the name\r\n\t\t\tinput.name = input.name.replace(re, '$1'+nodenr+'$2');\r\n\t\t});\t\r\n\r\n\t\tnodenr += 1;\r\n\t})\r\n}\r\n\r\n/* \r\n\tFUNCTIONS USED BY DYNAMIC FORMS JS\r\n */\r\nexport function tidyMultiInputs(){\r\n\t//remove unnecessary buttons on inputs with multiple values\r\n\tdocument.querySelectorAll('.clone_divs_wrapper').forEach(function(div){\r\n\t\tvar clone_div_arr\t= div.querySelectorAll('.clone_div');\r\n\t\t\r\n\t\tif(clone_div_arr.length == 1){\r\n\t\t\tclone_div_arr[0].querySelectorAll('.remove').forEach(el=>el.remove());\r\n\t\t}\r\n\t\t\r\n\t\tclone_div_arr.forEach(function(clone_div, index, array){\r\n\t\t\t//update dataset\r\n\t\t\tclone_div.dataset.divid = index;\r\n\t\t\t\r\n\t\t\t//remove add button for all but the last\r\n\t\t\tif(index != array.length - 1){\r\n\t\t\t\tclone_div.querySelectorAll('.add').forEach(el=>el.remove());\r\n\t\t\t}\r\n\t\t})\r\n\t});\r\n}\r\n\t\r\n//show a next form step\r\nexport function showTab(n,form) {\r\n\tif(typeof(form) != 'undefined'){\r\n\t\tif(n == 0){\r\n\t\t\tvar loader = form.querySelector('.formsteploader');\r\n\t\t\t//hide loader\r\n\t\t\tif(loader != null){\r\n\t\t\t\tloader.classList.add('hidden');\r\n\t\t\t\r\n\t\t\t\t//show form controls\r\n\t\t\t\tform.querySelector('.multistepcontrols').classList.remove('hidden');\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//hide all formsteps\r\n\t\tform.querySelectorAll('.formstep:not(.stephidden)').forEach(step=>step.classList.add('stephidden'));\r\n\t\t\r\n\t\t// Show the specified formstep of the form ...\r\n\t\tvar x = form.getElementsByClassName(\"formstep\");\r\n\t\t\r\n\t\tif(x.length == 0){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t//scroll back to top\r\n\t\tvar y = x[n].offsetTop - document.querySelector(\"#masthead\").offsetHeight\r\n\t\twindow.scrollTo({ top: y, behavior: 'auto'});\r\n\t\t\r\n\t\t//show\r\n\t\tx[n].classList.remove('stephidden');\r\n\r\n\t\t// This function removes the \"active\" class of all steps...\r\n\t\tform.querySelectorAll(\".step.active\").forEach(el=>{el.classList.remove('active');});\r\n\r\n\t\t//... and adds the \"active\" class to the current step:\r\n\t\tvar x = form.getElementsByClassName(\"step\");\r\n\t\tx[n].classList.add(\"active\");\r\n\r\n\t\t// ... and fix the Previous/Next buttons:\r\n\t\tif (n == 0) {\r\n\t\t\tform.querySelector('[name=\"prevBtn\"]').classList.add('hidden');\r\n\t\t} else {\r\n\t\t\tform.querySelector('[name=\"prevBtn\"]').classList.remove('hidden');\r\n\t\t}\r\n\r\n\t\tif (n == (x.length - 1)) {\r\n\t\t\tform.querySelector('[name=\"nextBtn\"]').classList.add('hidden');\r\n\t\t\tform.querySelector('.form_submit').classList.remove('hidden');\r\n\t\t} else {\r\n\t\t\tform.querySelector('[name=\"nextBtn\"]').classList.remove('hidden');\r\n\t\t\tform.querySelector('.form_submit').classList.add('hidden');\r\n\t\t}\r\n\t}else{\r\n\t\tconsole.log('no form defined');\r\n\t}\r\n\t\t\r\n}\r\n\r\n//next form step clicked\r\nexport function nextPrev(n) {\r\n\t// This function will figure out which tab to display\r\n\tvar x \t\t\t\t= form.getElementsByClassName(\"formstep\");\r\n\tvar stepindicators\t= form.getElementsByClassName(\"step\");\r\n\t\r\n\t//reset required fields\r\n\tform.querySelectorAll('[required]').forEach(el=>{el.required = false;});\r\n\t\r\n\t//Check validity of this step if going forward\r\n\tif(n>0){\r\n\t\t//make all required fields of this step required\r\n\t\tx[currentTab].querySelectorAll('.required:not(.hidden) input, .required:not(.hidden) textarea, .required:not(.hidden) select').forEach(el=>{el.required = true});\r\n\t\t//report validity to the user\r\n\t\tform.reportValidity();\r\n\t\t//if not valid return\r\n\t\tif(form.checkValidity() == false){\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t//mark the last step as finished\r\n\t\tstepindicators[currentTab].classList.add(\"finish\");\r\n\t}else{\r\n\t\t//mark the last step as unfinished\r\n\t\tstepindicators[currentTab].classList.remove(\"finish\");\r\n\t}\r\n\t\r\n\t//loop over all the formsteps to hide stepindicators of them if needed\r\n\tArray.from(x).forEach((formstep,index) =>{\r\n\t\tif(formstep.classList.contains('hidden')){\r\n\t\t\t//hide the corresponding circle\r\n\t\t\tstepindicators[index].classList.add('hidden');\r\n\t\t}\r\n\t});\r\n\r\n\t// Increase or decrease the current tab by 1:\r\n\tcurrentTab = currentTab + n;\r\n\t\r\n\t//check if the next tab is hidden\r\n\twhile(x[currentTab].classList.contains('hidden')){\r\n\t\t//go to the next tab\r\n\t\tcurrentTab = currentTab + n;\r\n\t}\r\n\t\r\n\t// if you have reached the end of the form... :\r\n\tif (currentTab >= x.length) {\r\n\t\treturn false;\r\n\t}\r\n\t// Otherwise, display the correct tab:\r\n\tshowTab(currentTab,form);\r\n}\r\n\r\nexport function getFieldValue(orgname, checkdatalist=true, comparevalue=null, lowercase=false){\r\n\t//name is not a name but a node\r\n\tif(orgname instanceof Element){\r\n\t\tvar el\t\t\t= orgname;\t\t\r\n\t\t//check if valid input type\r\n\t\tif(el.tagName != 'INPUT' && el.tagName != 'TEXTAREA' && el.tagName != 'SELECT' && el.closest('.nice-select-dropdown') == null){\r\n\t\t\tel = el.querySelector('input, select, textarea');\r\n\t\t}\r\n\t\tif(el == null){\r\n\t\t\tel\t\t\t= orgname;\r\n\t\t}\r\n\t\tvar name\t\t= el.name;\r\n\t}else{\r\n\t\tvar name\t\t= orgname;\r\n\t\tvar el\t\t\t= form.querySelector('[name=\\\"'+name+'\\\" i]');\r\n\t}\r\n\t\r\n\tif(el != null){\r\n\t\tvar value = '';\r\n\t\tif(el.type == 'radio'){\r\n\t\t\tel\t\t= form.querySelector('[name=\\\"'+name+'\\\" i]:checked');\r\n\t\t\t\r\n\t\t\t//There is no radio selected currently\r\n\t\t\tif(el == null){\r\n\t\t\t\t//return an empty value\r\n\t\t\t\treturn '';\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(el.type == 'checkbox'){\r\n\t\t\t//we are dealing with a specific checkbox\r\n\t\t\tif(orgname.type == 'checkbox' ){\r\n\t\t\t\tif(el.checked){\r\n\t\t\t\t\treturn el.value;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn '';\r\n\t\t\t\t}\r\n\t\t\t//we should return all checked checkboxes\r\n\t\t\t}else{\r\n\t\t\t\t//we should find the checkbox with this value and check if it is checked\r\n\t\t\t\tif(comparevalue != null){\r\n\t\t\t\t\tvar els\t\t= form.querySelector('[name=\\\"'+name+'\\\" i][value=\"'+comparevalue+'\" i]:checked');\r\n\t\t\t\t\tif(els != null){\r\n\t\t\t\t\t\tvalue = comparevalue;\r\n\t\t\t\t\t}\r\n\t\t\t\t//no compare value give just return all checked values\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar els\t\t= form.querySelectorAll('[name=\\\"'+name+'\\\" i]:checked');\r\n\t\t\t\t\t\r\n\t\t\t\t\tels.forEach(el=>{\r\n\t\t\t\t\t\tif(value != ''){\r\n\t\t\t\t\t\t\tvalue += ', ';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvalue += el.value;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t//get the value of niceselect\r\n\t\t}else if(el.closest('.nice-select-dropdown') != null && el.dataset.value != undefined){\r\n\t\t\tvalue = el.dataset.value\r\n\t\t//value of datalist\r\n\t\t}else if(el.list != null && checkdatalist){\r\n\t\t\tvar orig_input = el.list.querySelector(\"[value='\"+el.value+\"' i]\");\r\n\t\t\t\r\n\t\t\tif(orig_input == null){\r\n\t\t\t\tvalue =  el.value;\r\n\t\t\t}else{\r\n\t\t\t\tvalue = orig_input.dataset.value;\r\n\t\t\t\tif(value == ''){\r\n\t\t\t\t\tvalue =  el.value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else if(el.type == 'checkbox'){\r\n\t\t\tif(el.checked){\r\n\t\t\t\tvalue = el.value;\r\n\t\t\t}else{\r\n\t\t\t\tvalue = '';\r\n\t\t\t}\r\n\t\t}else if(el.value != null && el.value != 'undefined'){\r\n\t\t\tvalue = el.value;\r\n\t\t}\r\n\t\t\r\n\t\tif(lowercase){\r\n\t\t\treturn value.toLowerCase();\r\n\t\t}\r\n\t\treturn value;\r\n\t}else{\r\n\t\tconsole.trace();\r\n\t\tconsole.log(\"cannot find element with name \"+name);\r\n\t}\r\n}\r\n\r\nexport function changeFieldValue(orgname, value, function_ref){\r\n\tif(orgname instanceof Element){\r\n\t\tvar name\t= orgname.name;\r\n\t\tvar target\t= orgname;\r\n\t}else{\r\n\t\tvar name = orgname;\r\n\t\t//get the target\r\n\t\tvar target = form.querySelector('[name=\"'+name+'\" i]');\r\n\t}\r\n\t\r\n\tif(target.type == 'radio' || target.type == 'checkbox'){\r\n\t\tif(!(orgname instanceof Element)){\r\n\t\t\ttargets = form.querySelectorAll('[name=\"'+name+'\" i]');\r\n\t\t\tfor (let i = 0; i < targets.length; i++) {\r\n\t\t\t\tif(targets[i].value.toLowerCase() == value.toLowerCase()){\r\n\t\t\t\t\ttarget = targets[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(target.value.toLowerCase() == value.toLowerCase()){\r\n\t\t\ttarget.checked = true;\r\n\t\t}\r\n\t//the target has a list attached to it\r\n\t}else if(target.list != null){\r\n\t\tvar datalistoption = target.list.querySelector('[data-value=\"'+value+'\" i]');\r\n\t\t//we found a match\r\n\t\tif(datalistoption != null){\r\n\t\t\ttarget.value = datalistoption.value;\r\n\t\t}else{\r\n\t\t\ttarget.value = value;\r\n\t\t}\r\n\t}else{\r\n\t\ttarget.value = value;\r\n\t}\r\n\t\r\n\tvar prev_el = '';\r\n\t//create a new event\r\n\tvar evt = new Event('input');\r\n\t//attach the target\r\n\ttarget.dispatchEvent(evt);\r\n\t\r\n\t//run the originating function with this event\r\n\t//window[arguments.callee.caller.name](target);\r\n\tfunction_ref(target);\r\n}\r\n\r\nexport function changeFieldProperty(name, att, value, function_ref){\r\n\t//first change the value\r\n\tvar target = form.querySelector('[name=\"'+name+'\" i]');\r\n\t\r\n\tform.querySelector('[name=\"'+name+'\"]')[att] = value;\r\n\t\r\n\tvar prev_el = '';\r\n\t//create a new event\r\n\tvar evt = new Event('input');\r\n\t//attach the target\r\n\ttarget.dispatchEvent(evt);\r\n\t//run the originating function with this event\r\n\t//window[arguments.callee.caller.name](target);\r\n\tfunction_ref(target);\r\n}\r\n\r\n//Main code\r\ndocument.addEventListener(\"DOMContentLoaded\",function() {\r\n\tconsole.log('Forms.js is loaded');\r\n});\r\n\r\n//we are online again\r\nwindow.addEventListener('online',function(){\r\n\tdocument.querySelectorAll('.form_submit').forEach(btn=>{\r\n\t\tbtn.disabled = false\r\n\t\tbtn.querySelectorAll('.offline').forEach(el=>el.remove());\r\n\t});\r\n});\r\n\r\n//prevent form submit when offline\r\nwindow.addEventListener('offline',function(){\r\n\tdocument.querySelectorAll('.form_submit').forEach(btn=>{\r\n\t\tbtn.disabled = true;\r\n\t\tif(btn.querySelector('.online') == null){\r\n\t\t\tbtn.innerHTML = '<div class=\"online\">'+btn.innerHTML+'</div>';\r\n\t\t}\r\n\t\tbtn.innerHTML += '<div class=\"offline\">You are offline</div>'\r\n\t});\r\n});\r\n\r\ndocument.addEventListener('click',function(event) {\r\n\tvar target = event.target;\r\n\t\r\n\t//add element\r\n\tif(target.matches('.add')){\r\n\t\tvar newnode = copy_form_input(target.closest(\".clone_div\"));\r\n\r\n\t\tfix_numbering(target.closest('.clone_divs_wrapper'));\r\n\r\n\t\t//add tinymce's can only be done when node is inserted and id is unique\r\n\t\tnewnode.querySelectorAll('.wp-editor-area').forEach(el =>{\r\n\t\t\twindow.tinyMCE.execCommand('mceAddEditor',false, el.id);\r\n\t\t});\r\n\r\n\t\ttarget.remove();\r\n\t}\r\n\t\r\n\t//remove element\r\n\tif(target.matches('.remove')){\r\n\t\tvar wrapper\t= target.closest('.clone_divs_wrapper');\r\n\t\t//Remove node clicked\r\n\t\tremove_node(target); \r\n\r\n\t\tfix_numbering(wrapper);\r\n\t}\r\n\r\n\tif(target.matches('.sim_form [name=\"submit_form\"]')){\r\n\t\tsaveFormInput(target);\r\n\t}\r\n});"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","re","removeDefaultSelect","el","Array","from","options","forEach","option","defaultSelected","cloneNode","original_node","clear","querySelectorAll","select","selectedIndex","selectedOptions","length","_niceselect","destroy","tinymce_settings","tn","tinymce","id","settings","save","remove","newnode","NiceSelect","bind","searchable","init","input","type","checked","fix_numbering","clone_divs_wrapper","clone","index","replace","dataset","divid","title","textContent","label","innerHTML","classList","contains","undefined","name","tidyMultiInputs","document","div","clone_div_arr","clone_div","array","showTab","n","form","loader","querySelector","add","step","x","getElementsByClassName","y","offsetTop","offsetHeight","window","scrollTo","top","behavior","console","log","nextPrev","stepindicators","required","currentTab","reportValidity","checkValidity","formstep","getFieldValue","orgname","checkdatalist","comparevalue","lowercase","Element","tagName","closest","list","orig_input","toLowerCase","trace","changeFieldValue","function_ref","target","targets","i","datalistoption","evt","Event","dispatchEvent","changeFieldProperty","att","addEventListener","btn","disabled","event","matches","nodenr","parseInt","getAttribute","datatype","RegExp","uploadbutton","previewdiv","previous_val","getElementsByTagName","style","display","update","nextSibling","add_element","html","className","insertAdjacentHTML","parentNode","insertBefore","copy_form_input","tinyMCE","execCommand","wrapper","node","parent_node","all_clone_divs","previousElementSibling","appendChild","clonenode","labelnr","$1","remove_node","async","response","submitForm","display_message","reset","formReset","saveFormInput"],"sourceRoot":""}