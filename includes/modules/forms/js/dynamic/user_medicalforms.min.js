var user_medical = new function(){document.addEventListener('DOMContentLoaded',function(){console.log('Dynamic user_medical forms js loaded');FormFunctions.tidyMultiInputs();form=document.querySelector('[data-formid="14"]');form.querySelectorAll('select, input, textarea').forEach(el=>user_medical.p(el));});var prevEl='';var q=function(event){var el=event.target;form=el.closest('form');var n=el.name;if(n==''||n==undefined){if(el.closest('.nice-select-dropdown')!=null&&el.closest('.inputwrapper')!=null){el.closest('.inputwrapper').querySelectorAll('select').forEach(select=>{if(el.dataset.value==select.value){el=select;n=select.name;}});}else{return;}}if(el==prevEl){return;}prevEl=el;setTimeout(function(){prevEl='';},100);if(n=='nextBtn'){FormFunctions.nextPrev(1);}else if(n=='prevBtn'){FormFunctions.nextPrev(-1);}user_medical.p(el);};window.addEventListener('click',q);window.addEventListener('input',q);this.p=function(el){var n=el.name;if(n=='medical[vaccinations][]'){var v_1=FormFunctions.getFieldValue('medical[vaccinations][]',form,true,'hepatitis_a',true);if(v_1=='hepatitis_a'){form.querySelectorAll('[name="hepatitis_a_expiry_date_label"], [name="medical[never_hepatitis_a][]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.remove('hidden');}}catch(e){el.classList.remove('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}if(v_1!='hepatitis_a'){form.querySelectorAll('[name="hepatitis_a_expiry_date_label"], [name="medical[never_hepatitis_a][]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.add('hidden');}}catch(e){el.classList.add('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}var v_1=FormFunctions.getFieldValue('medical[vaccinations][]',form,true,'hepatitis_b',true);if(v_1=='hepatitis_b'){form.querySelectorAll('[name="hepatitus_b_expiry_date_label"], [name="medical[never_hepatitis_b][]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.remove('hidden');}}catch(e){el.classList.remove('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}if(v_1!='hepatitis_b'){form.querySelectorAll('[name="hepatitus_b_expiry_date_label"], [name="medical[never_hepatitis_b][]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.add('hidden');}}catch(e){el.classList.add('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}var v_1=FormFunctions.getFieldValue('medical[vaccinations][]',form,true,'rabies',true);if(v_1=='rabies'){form.querySelectorAll('[name="rabies_vaccination_expiry_date_label"], [name="medical[never_rabies][]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.remove('hidden');}}catch(e){el.classList.remove('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}if(v_1!='rabies'){form.querySelectorAll('[name="rabies_vaccination_expiry_date_label"], [name="medical[never_rabies][]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.add('hidden');}}catch(e){el.classList.add('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}var v_1=FormFunctions.getFieldValue('medical[vaccinations][]',form,true,'meningitis',true);if(v_1=='meningitis'){form.querySelector('[name="meningitis_vaccination_expiry_date_label"]').closest('.inputwrapper').classList.remove('hidden');}if(v_1!='meningitis'){form.querySelector('[name="meningitis_vaccination_expiry_date_label"]').closest('.inputwrapper').classList.add('hidden');}var v_1=FormFunctions.getFieldValue('medical[vaccinations][]',form,true,'poliomyelitis',true);if(v_1=='poliomyelitis'){form.querySelectorAll('[name="poliomyelitis_vaccination_expiry_date_label"], [name="medical[poliomyelitis_expiry_date]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.remove('hidden');}}catch(e){el.classList.remove('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}if(v_1!='poliomyelitis'){form.querySelectorAll('[name="poliomyelitis_vaccination_expiry_date_label"], [name="medical[poliomyelitis_expiry_date]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.add('hidden');}}catch(e){el.classList.add('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}var v_1=FormFunctions.getFieldValue('medical[vaccinations][]',form,true,'diphtheria_tetanus_pertussis_diteper',true);if(v_1=='diphtheria_tetanus_pertussis_diteper'){form.querySelectorAll('[name="diteper_vaccination_expiry_date_label"], [name="medical[diteper_expiry_date]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.remove('hidden');}}catch(e){el.classList.remove('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}if(v_1!='diphtheria_tetanus_pertussis_diteper'){form.querySelectorAll('[name="diteper_vaccination_expiry_date_label"], [name="medical[diteper_expiry_date]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.add('hidden');}}catch(e){el.classList.add('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}var v_1=FormFunctions.getFieldValue('medical[vaccinations][]',form,true,'measles_mumps_rubella_mmr',true);if(v_1=='measles_mumps_rubella_mmr'){form.querySelectorAll('[name="mmr_vaccination_expiry_date_label"], [name="medical[never_mmr][]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.remove('hidden');}}catch(e){el.classList.remove('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}if(v_1!='measles_mumps_rubella_mmr'){form.querySelectorAll('[name="mmr_vaccination_expiry_date_label"], [name="medical[never_mmr][]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.add('hidden');}}catch(e){el.classList.add('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}var v_1=FormFunctions.getFieldValue('medical[vaccinations][]',form,true,'chickenpox',true);if(v_1=='chickenpox'){form.querySelectorAll('[name="chickenpox_vaccination_expiry_date_label"], [name="medical[never_chickenpox][]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.remove('hidden');}}catch(e){el.classList.remove('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}if(v_1!='chickenpox'){form.querySelectorAll('[name="chickenpox_vaccination_expiry_date_label"], [name="medical[never_chickenpox][]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.add('hidden');}}catch(e){el.classList.add('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}var v_1=FormFunctions.getFieldValue('medical[vaccinations][]',form,true,'typhoid',true);if(v_1=='typhoid'){form.querySelectorAll('[name="typhoid_vaccination_expiry_date_label"], [name="medical[typhoid_expiry_date]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.remove('hidden');}}catch(e){el.classList.remove('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}if(v_1!='typhoid'){form.querySelectorAll('[name="typhoid_vaccination_expiry_date_label"], [name="medical[typhoid_expiry_date]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.add('hidden');}}catch(e){el.classList.add('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}var v_1=FormFunctions.getFieldValue('medical[vaccinations][]',form,true,'cholera',true);if(v_1=='cholera'){form.querySelectorAll('[name="cholera_vaccination_expiry_date_label"], [name="medical[never_cholera][]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.remove('hidden');}}catch(e){el.classList.remove('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}if(v_1!='cholera'){form.querySelectorAll('[name="cholera_vaccination_expiry_date_label"], [name="medical[never_cholera][]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.add('hidden');}}catch(e){el.classList.add('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}var v_1=FormFunctions.getFieldValue('medical[vaccinations][]',form,true,'covid',true);if(v_1=='covid'){form.querySelectorAll('[name="which_covid_vaccination_did_you_get?_label"], [name="medical[covid_vaccintype][]"], [name="medical[covid_date_1]"], [name="medical[covid_date_2]"], [name="medical[covid_2_not_needed][]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.remove('hidden');}}catch(e){el.classList.remove('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}if(v_1!='covid'){form.querySelectorAll('[name="which_covid_vaccination_did_you_get?_label"], [name="medical[covid_vaccintype][]"], [name="medical[covid_date_1]"], [name="medical[covid_date_2]"], [name="medical[covid_2_not_needed][]"]').forEach(el=>{try{if(!el.closest('.inputwrapper').matches('.action-processed')){el.closest('.inputwrapper').classList.add('action-processed');el.closest('.inputwrapper').classList.add('hidden');}}catch(e){el.classList.add('hidden');}});document.querySelectorAll('.action-processed').forEach(el=>{el.classList.remove('action-processed')});}var v_1=FormFunctions.getFieldValue('medical[vaccinations][]',form,true,'other',true);if(v_1=='other'){form.querySelector('[name="othervaccinationstart"]').closest('.inputwrapper').classList.remove('hidden');}if(v_1!='other'){form.querySelector('[name="othervaccinationstart"]').closest('.inputwrapper').classList.add('hidden');}}};};

