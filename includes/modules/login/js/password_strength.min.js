(()=>{"use strict";function e(){var e=document.querySelector('[name="pass1"]'),t=document.querySelector('[name="pass2"]'),a=document.querySelector("#pass-strength-result1"),r=document.querySelector("#pass-strength-result2"),n="Strength indicator";""==e.value?(a.textContent=n,a.classList.add("hidden")):s(a),""==t.value?(r.textContent=n,r.classList.add("hidden")):(s(r),""!=e.value&&a.classList.add("hidden"))}function s(e){e.classList.remove("short,bad,good,strong");var s=document.querySelector('[name="pass1"]'),t=document.querySelector('[name="pass2"]');if(s!=t)e.classList.add("bad"),e.textContent=pwsL10n.mismatch;else switch(wp.passwordStrength.meter(s.value,wp.passwordStrength.userInputDisallowedList(),t.value)){case 2:e.classList.add("bad"),e.textContent=pwsL10n.bad;break;case 3:e.classList.add("good"),e.textContent=pwsL10n.good;break;case 4:e.classList.add("strong"),e.textContent=pwsL10n.strong;break;case 5:e.classList.add("short"),e.textContent=pwsL10n.mismatch;break;default:e.classList.add("short"),e.textContent=pwsL10n.short}e.classList.remove("hidden")}async function t(e){var s=e.target.closest("form");s.querySelector(".submit_wrapper .loadergif").classList.remove("hidden");var t=new FormData(s),a=await async function(e,s,t=!0){let a;s.append("_wpnonce",sim.restNonce);let r=await fetch(`${sim.baseUrl}/wp-json${sim.restApiPrefix}/login/${e}`,{method:"POST",credentials:"same-origin",body:s});try{a=await r.json()}catch(e){return console.error(e),!1}return r.ok?a:"rest_cookie_invalid_nonce"==a.code?(Main.displayMessage("Please refresh the page and try again!","error"),console.error(a),console.error(`/login/${e}`),!1):(console.error(a),t&&Main.displayMessage(a.message,"error"),console.error(`/login/${e}`),!1)}("update_password",t);a&&(Main.displayMessage(a.message),location.href.includes("?userid=")||(location.href=a.redirect)),s.querySelector(".submit_wrapper .loadergif").classList.add("hidden")}document.addEventListener("DOMContentLoaded",(function(){console.log("Password strength.js loaded"),document.querySelectorAll(".changepass").forEach((s=>s.addEventListener("keyup",e))),document.querySelectorAll('[name="update_password"]').forEach((e=>e.addEventListener("click",t)))}))})();
//# sourceMappingURL=password_strength.min.js.map