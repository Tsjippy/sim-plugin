(()=>{"use strict";function e(){var e=document.querySelector('[name="pass1"]'),s=document.querySelector('[name="pass2"]'),a=document.querySelector("#pass-strength-result1"),r=document.querySelector("#pass-strength-result2"),n="Strength indicator";""==e.value?(a.textContent=n,a.classList.add("hidden")):t(a),""==s.value?(r.textContent=n,r.classList.add("hidden")):(t(r),""!=e.value&&a.classList.add("hidden"))}function t(e){e.classList.remove("short,bad,good,strong");var t=document.querySelector('[name="pass1"]'),s=document.querySelector('[name="pass2"]');switch(wp.passwordStrength.meter(t.value,wp.passwordStrength.userInputDisallowedList(),s.value)){case 2:e.classList.add("bad"),e.textContent=pwsL10n.bad;break;case 3:e.classList.add("good"),e.textContent=pwsL10n.good;break;case 4:e.classList.add("strong"),e.textContent=pwsL10n.strong;break;case 5:e.classList.add("short"),e.textContent=pwsL10n.mismatch;break;default:e.classList.add("short"),e.textContent=pwsL10n.short}e.classList.remove("hidden")}async function s(e){var t=e.target.closest("form");t.querySelector(".submit_wrapper .loadergif").classList.remove("hidden");var s=new FormData(t),a=await async function(e,t){let s;t.append("_wpnonce",sim.restNonce);let a=await fetch(`${sim.baseUrl}/wp-json${sim.restApiPrefix}/login/update_password`,{method:"POST",credentials:"same-origin",body:t});try{s=await a.json()}catch(e){return console.error(e),!1}return a.ok?s:"rest_cookie_invalid_nonce"==s.code?(Main.displayMessage("Please refresh the page and try again!","error"),!1):(console.error(s),Main.displayMessage(s.message,"error"),!1)}(0,s);a&&(Main.displayMessage(a.message),location.href=a.redirect),t.querySelector(".submit_wrapper .loadergif").classList.add("hidden")}document.addEventListener("DOMContentLoaded",(function(){console.log("Password strength.js loaded"),document.querySelectorAll(".changepass").forEach((t=>t.addEventListener("keyup",e))),document.querySelectorAll('[name="update_password"]').forEach((e=>e.addEventListener("click",s)))}))})();
//# sourceMappingURL=password_strength.min.js.map