!function(){"use strict";var e,n={452:function(e,n,t){var r=window.wp.blocks,l=window.wp.element,o=window.wp.i18n,i=window.wp.blockEditor,a=window.wp.apiFetch,c=t.n(a),u=window.wp.components,s=JSON.parse('{"u2":"sim/bulk-changed"}');(0,r.registerBlockType)(s.u2,{icon:"edit",edit:e=>{let{attributes:n,setAttributes:t}=e;const{roles:r,key:a,folder:s,family:f}=n;null==r&&t({roles:[]});const[m,p]=(0,l.useState)((0,l.createElement)(u.Spinner,null)),[h,d]=(0,l.useState)((0,l.createElement)(u.Spinner,null));(0,l.useEffect)((()=>{!async function(){p((0,l.createElement)(u.Spinner,null));const e=await c()({path:`${sim.restApiPrefix}/bulkchange/bulk_change_meta_html`});p(e)}()}),[]),(0,l.useEffect)((()=>{!async function(){const e=await c()({path:`${sim.restApiPrefix}/user_roles`});d(e)}()}),[]);const b=function(e){t(e?{roles:[...r,this]}:{roles:r.filter((e=>e!=this))})};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(i.InspectorControls,null,(0,l.createElement)(u.Panel,null,(0,l.createElement)(u.PanelBody,null,"Select roles with permission to use",(0,l.createElement)((function(){return Object.entries(h).map((e=>{let[n,t]=e;return(0,l.createElement)(u.CheckboxControl,{label:t,onChange:b.bind(n),checked:r.includes(n)})}))}),null),(0,l.createElement)(u.__experimentalInputControl,{label:(0,o.__)("Which meta key to change","sim"),isPressEnterToChange:!0,value:a,onChange:e=>t({key:e})}),"In case of a file upload stored in meta:",(0,l.createElement)(u.__experimentalInputControl,{label:(0,o.__)("Which folder to change","sim"),isPressEnterToChange:!0,value:s,onChange:e=>t({folder:e})}),(0,l.createElement)(u.ToggleControl,{label:(0,o.__)("Apply also to family members","sim"),checked:!!n.family,onChange:()=>t({family:!n.family})})))),(0,l.createElement)("div",(0,i.useBlockProps)(),m))},save:()=>null})}},t={};function r(e){var l=t[e];if(void 0!==l)return l.exports;var o=t[e]={exports:{}};return n[e](o,o.exports,r),o.exports}r.m=n,e=[],r.O=function(n,t,l,o){if(!t){var i=1/0;for(s=0;s<e.length;s++){t=e[s][0],l=e[s][1],o=e[s][2];for(var a=!0,c=0;c<t.length;c++)(!1&o||i>=o)&&Object.keys(r.O).every((function(e){return r.O[e](t[c])}))?t.splice(c--,1):(a=!1,o<i&&(i=o));if(a){e.splice(s--,1);var u=l();void 0!==u&&(n=u)}}return n}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[t,l,o]},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,{a:n}),n},r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},function(){var e={826:0,431:0};r.O.j=function(n){return 0===e[n]};var n=function(n,t){var l,o,i=t[0],a=t[1],c=t[2],u=0;if(i.some((function(n){return 0!==e[n]}))){for(l in a)r.o(a,l)&&(r.m[l]=a[l]);if(c)var s=c(r)}for(n&&n(t);u<i.length;u++)o=i[u],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(s)},t=self.webpackChunksim_bulk_change=self.webpackChunksim_bulk_change||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))}();var l=r.O(void 0,[431],(function(){return r(452)}));l=r.O(l)}();