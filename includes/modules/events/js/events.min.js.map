{"version":3,"file":"events.min.js","mappings":"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","sources":["webpack://events/./events.js"],"sourcesContent":["async function request_month(target, month, year){\r\n    url.searchParams.set('month', month);\r\n    url.searchParams.set('yr', year);\r\n    window.history.pushState({}, '', url);\r\n\r\n    //hide all\r\n    document.querySelectorAll('#monthview .events-wrap:not(hidden)').forEach(el=>el.classList.add('hidden'));\r\n\r\n    var calendar_page   = document.querySelector('.events-wrap[data-date=\"'+year+'-'+month+'\"]');\r\n    if(calendar_page == null){\r\n        target.closest('.calendar-wrap').insertAdjacentHTML('beforeEnd','<img class=\"loader\" src=\"'+sim.loading_gif+'\" style=\"margin-left: auto;margin-right: auto;display: block;\">');\r\n        \r\n        var formdata = new FormData();\r\n        formdata.append('month',month);\r\n        formdata.append('year',year);\r\n\r\n        var response    = await fetchRestApi('events/get_month_html', formdata);\r\n        \r\n        if(response) {\r\n            target.closest('.calendar-wrap').querySelector('.loader').remove();\r\n            document.querySelector('#monthview').insertAdjacentHTML('beforeEnd', response);\r\n        }\r\n    }else{\r\n        calendar_page.classList.remove('hidden');\r\n    }\r\n\r\n    document.querySelector('div.month_selector .current').textContent = document.querySelector('select.month_selector').options[month-1].text;\r\n    document.querySelector('div.year_selector .current').textContent = year;\r\n}\r\n\r\nasync function request_week(target, wknr, year){\r\n    url.searchParams.set('yr', year);\r\n    url.searchParams.set('week', wknr);\r\n    window.history.pushState({}, '', url);\r\n\r\n    //hide all\r\n    document.querySelectorAll('#weekview .events-wrap:not(hidden)').forEach(el=>el.classList.add('hidden'));\r\n\r\n    var calendar_page   = document.querySelector('.events-wrap[data-weeknr=\"'+wknr+'\"]');\r\n    if(calendar_page == null){\r\n        target.closest('.calendar-wrap').insertAdjacentHTML(\r\n            'beforeEnd',\r\n            `<img class=\"loader\" src=\"${sim.loading_gif}\" style=\"margin-left: auto;margin-right: auto;display: block;\">`\r\n        );\r\n        \r\n        var formdata = new FormData();\r\n        formdata.append('wknr',wknr);\r\n        formdata.append('year',year);\r\n\r\n        var response    = await fetchRestApi('events/get_week_html', formdata);\r\n        \r\n        if(response) {\r\n            target.closest('.calendar-wrap').querySelector('.loader').remove();\r\n            document.querySelector('#weekview').insertAdjacentHTML('beforeEnd',response);\r\n        }\r\n    }else{\r\n        calendar_page.classList.remove('hidden');\r\n    }\r\n\r\n    document.querySelector('div.week_selector .current').textContent = wknr;\r\n    document.querySelector('div.year_selector .current').textContent = year;\r\n}\r\n\r\nasync function request_expand_list(offset, month='', year=''){\r\n    //remove any existing element when requesting specific date\r\n    if(month != '' || year != ''){\r\n        document.querySelectorAll('#listview article').forEach(el=>el.remove());\r\n\r\n        url.searchParams.set('yr', year);\r\n        url.searchParams.set('month', month);\r\n        window.history.pushState({}, '', url);\r\n    }\r\n\r\n    document.getElementById('listview').insertAdjacentHTML('beforeEnd','<img class=\"loader\" src=\"'+sim.loading_gif+'\" style=\"margin-left: auto;margin-right: auto;display: block;\">');\r\n    \r\n    var formdata = new FormData();\r\n    formdata.append('offset',offset);\r\n    formdata.append('month',month);\r\n    formdata.append('year',year);\r\n    \r\n    var response    = await fetchRestApi('events/get_list_html', formdata);\r\n        \r\n    if(response) {\r\n        document.querySelector('#listview').querySelector('.loader').remove();\r\n        document.querySelector('#listview').insertAdjacentHTML('beforeEnd',response);\r\n    }\r\n}                                                    \r\n                                                                           \r\nfunction handleTouchStart(evt) {\r\n    const firstTouch = evt.touches[0];                                      \r\n    xDown = firstTouch.clientX;                                      \r\n    yDown = firstTouch.clientY;                                      \r\n};                                                \r\n                                                                           \r\nfunction handleTouchMove(evt) {\r\n    if ( ! xDown || ! yDown ) {\r\n        return;\r\n    }\r\n\r\n    var xUp = evt.touches[0].clientX;                                    \r\n    var yUp = evt.touches[0].clientY;\r\n\r\n    var xDiff = xDown - xUp;\r\n    var yDiff = yDown - yUp;\r\n                                                                        \r\n    if ( Math.abs( xDiff ) > Math.abs( yDiff ) ) {\r\n        var selected_view   = document.querySelector('.viewselector.selected').dataset.type;\r\n\r\n        if ( xDiff > 0 ) {\r\n            /* right swipe */\r\n            var target  = evt.target.closest('.events-wrap').querySelector('.next a');\r\n        } else {\r\n            /* left swipe */\r\n            var target  = evt.target.closest('.events-wrap').querySelector('.prev a');\r\n        }\r\n        var month = target.dataset.month;\r\n        var week  = target.dataset.weeknr;\r\n        var year  = target.dataset.year;\r\n        \r\n        if(selected_view == 'weekview'){\r\n            request_week(evt.target, week, year);\r\n        }else if(selected_view == 'monthview'){\r\n            request_month(target, month, year);\r\n        }\r\n    }\r\n    /* reset values */\r\n    xDown = null;\r\n    yDown = null;                                             \r\n};\r\n\r\nconst url = new URL(window.location);\r\nvar xDown = null;                                                        \r\nvar yDown = null;\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\",function() {\r\n\tconsole.log(\"Events.js loaded\");\r\n});\r\n\r\ndocument.addEventListener(\"click\",function(event) {\r\n\tvar target = event.target;\r\n    if(target.classList.contains('prevnext')){\r\n        var requested_month = target.dataset.month;\r\n        var requested_week  = target.dataset.weeknr;\r\n        var requested_year  = target.dataset.year;\r\n\r\n        if(requested_month != null){\r\n            request_month(target, requested_month, requested_year);\r\n        }else if(requested_week != null){\r\n            request_week(target, requested_week, requested_year);\r\n        }\r\n    }\r\n\r\n    if(target.classList.contains('calendar-day')){\r\n        var date    = target.dataset.date;\r\n\r\n        //hide events of all days\r\n        document.querySelectorAll('.event-details-wrapper:not(.hidden)').forEach(el=>el.classList.add('hidden'));\r\n        \r\n        //show the events of this day\r\n        target.closest('.events-wrap').querySelector('.event-details-wrapper[data-date=\"'+date+'\"]').classList.remove('hidden');\r\n\r\n        //unselect previous slected date\r\n        document.querySelectorAll('.calendar-day.selected').forEach(el=>el.classList.remove('selected'));\r\n        //make this date selected\r\n        target.classList.add('selected');\r\n    }\r\n\r\n    if(target.classList.contains('calendar-hour')){\r\n        var date        = target.dataset.date;\r\n        var starttime   = target.dataset.starttime;\r\n\r\n        //hide all other events\r\n        document.querySelectorAll('.event-details-wrapper:not(.hidden)').forEach(el=>el.classList.add('hidden'));\r\n        \r\n        //show the event\r\n        var eventdetail = target.closest('.events-wrap').querySelector('.event-details-wrapper[data-date=\"'+date+'\"][data-starttime=\"'+starttime+'\"]');\r\n        if(eventdetail == null){\r\n            target.closest('.events-wrap').querySelector('.event-details-wrapper[data-date=\"empty\"]').classList.remove('hidden');\r\n        }else{\r\n            eventdetail.classList.remove('hidden');\r\n\r\n            //unselect previous selected date\r\n            document.querySelectorAll('.calendar-hour.selected').forEach(el=>el.classList.remove('selected'));\r\n            //make this date selected\r\n            target.classList.add('selected');\r\n\r\n            if(isMobileDevice()){\r\n                window.scrollTo(0, eventdetail.offsetTop);\r\n            }else{\r\n                //scroll the detail into view\r\n                window.scrollTo(0, eventdetail.offsetHeight);\r\n            }\r\n        }\r\n    }\r\n\r\n    if(target.classList.contains('viewselector')){\r\n        var parent  = target.closest('.search-form');\r\n        if(target.dataset.type  == 'weekview' || target.dataset.type  == 'monthview'){\r\n            parent.querySelector('div.week_selector').classList.toggle('hidden');\r\n            parent.querySelector('div.month_selector').classList.toggle('hidden');\r\n        }\r\n\r\n        //select class\r\n        document.querySelectorAll('.viewselector.selected').forEach(el=>el.classList.remove('selected'));\r\n        target.classList.add('selected');\r\n\r\n        //show view\r\n        document.querySelectorAll('.calendarview').forEach(el=>el.classList.add('hidden'));\r\n        document.getElementById(target.dataset.type).classList.remove('hidden');\r\n\r\n        //change url\r\n        url.searchParams.set('view', target.dataset.type.replace('view',''));\r\n        window.history.pushState({}, '', url);\r\n    }\r\n\r\n    if(target.id=='add_calendar'){\r\n        document.getElementById('calendaraddingoptions').classList.toggle('hidden');   \r\n    }\r\n    \r\n    if(target.classList.contains('calendarurl')){\r\n        if(target.textContent != ''){\r\n            navigator.clipboard.writeText(target.textContent);\r\n            Swal.fire({\r\n                icon: 'success',\r\n                title: 'Copied '+target.textContent,\r\n                showConfirmButton: false,\r\n                timer: 1500\r\n            })\r\n        }\r\n    }\r\n});\r\n\r\ndocument.addEventListener(\"change\",function(event) {\r\n\tvar target = event.target;\r\n    if(target.classList.contains('week_selector')){\r\n        var year    = target.closest('.date-search').querySelector('.year_selector').value;\r\n        if(document.querySelector('.viewselector.selected').dataset.type=='weekview'){\r\n            request_week(target, target.value, year);\r\n        }else if(document.querySelector('.viewselector.selected').dataset.type=='listview'){\r\n            request_expand_list(0,target.value,year);\r\n        }\r\n\r\n        //change url\r\n        url.searchParams.set('week', target.value);\r\n    }\r\n\r\n    if(target.classList.contains('month_selector')){\r\n        var year    = target.closest('.date-search').querySelector('.year_selector').value;\r\n        if(document.querySelector('.viewselector.selected').dataset.type=='monthview'){\r\n            request_month(target, target.value, year);\r\n        }else if(document.querySelector('.viewselector.selected').dataset.type=='listview'){\r\n            request_expand_list(0,target.value, year);\r\n        }\r\n        url.searchParams.set('month', target.value);\r\n    }\r\n\r\n    if(target.classList.contains('year_selector')){\r\n        var month   = target.closest('.date-search').querySelector('.month_selector').value;\r\n        if(document.querySelector('.viewselector.selected').dataset.type=='monthview'){\r\n            request_month(target, month, target.value);\r\n        }else if(document.querySelector('.viewselector.selected').dataset.type=='listview'){\r\n            request_expand_list(0,month, target.value);\r\n        }else if(document.querySelector('.viewselector.selected').dataset.type=='weekview'){\r\n            var wknr  = target.closest('.date-search').querySelector('.week_selector').value;\r\n            request_week(target, wknr, target.value);\r\n        }\r\n        url.searchParams.set('yr', target.value);\r\n    }\r\n    \r\n    window.history.pushState({}, '', url);\r\n});\r\n\r\nwindow.onscroll = function() {\r\n    var d = document.documentElement;\r\n    var offset = d.scrollTop + window.innerHeight;\r\n    var height = d.offsetHeight;\r\n  \r\n    //if we scrolled to the bottom of the page and the list view is actve, and we are not currently loading, load more\r\n    if (offset >= height-2 && document.querySelector('.viewselector.selected').dataset.type=='listview' && document.querySelector('#listview .loader') == null) {\r\n        var skipcount  = document.querySelector(\"#listview\").querySelectorAll('article').length;\r\n\r\n        request_expand_list(skipcount);\r\n    }\r\n};\r\n\r\ndocument.addEventListener('touchstart', handleTouchStart);        \r\ndocument.addEventListener('touchmove', handleTouchMove);"],"names":["async","request_month","target","month","year","url","searchParams","set","window","history","pushState","document","querySelectorAll","forEach","el","classList","add","calendar_page","querySelector","closest","insertAdjacentHTML","sim","loading_gif","formdata","FormData","append","response","fetchRestApi","remove","textContent","options","text","request_week","wknr","request_expand_list","offset","getElementById","URL","location","xDown","yDown","addEventListener","console","log","event","contains","requested_month","dataset","requested_week","weeknr","requested_year","date","starttime","eventdetail","isMobileDevice","scrollTo","offsetTop","offsetHeight","parent","type","toggle","replace","id","navigator","clipboard","writeText","Swal","fire","icon","title","showConfirmButton","timer","value","onscroll","d","documentElement","scrollTop","innerHeight","length","evt","firstTouch","touches","clientX","clientY","xUp","yUp","xDiff","yDiff","Math","abs","selected_view","week"],"sourceRoot":""}