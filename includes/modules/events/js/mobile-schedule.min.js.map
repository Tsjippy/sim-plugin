{"version":3,"file":"mobile-schedule.min.js","mappings":"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","sources":["webpack://events/./schedules/shared.js","webpack://events/./schedules/mobile.js"],"sourcesContent":["//shows the modal to select a user as host\r\nexport function showAddHostModal(target, date='', startTime=''){\r\n\ttarget.classList.add('active');\r\n\tlet modal\t\t\t\t\t\t\t\t\t\t\t= document.querySelector('[name=\"add_host\"]');\r\n\r\n\t// Clear\r\n\tmodal.querySelectorAll('input:not([type=\"hidden\"], [type=\"radio\"])').forEach(el=>el.value='');\r\n\r\n    modal.querySelector('[name=\"date\"]').value\t\t\t= date;\r\n    modal.querySelector('[name=\"starttime\"]').value\t\t= startTime;\r\n\r\n\t// Add new values\r\n\tmodal.querySelector('[name=\"schedule_id\"]').value\t= target.closest('.schedules_div').dataset.id;\r\n\r\n\tmodal.classList.remove('hidden');\r\n}\r\n\r\n// Add current user as host\r\nexport async function addCurrentUserAsHost(target, dateStr){\r\n    let scheduleOwner\t= target.closest('.schedules_div').dataset.target;   \r\n\tlet text \t\t\t= `Please confirm you want to be the host for ${scheduleOwner} on ${dateStr}`;\r\n\tlet confirmed\t\t= await checkConfirmation(text, target.firstChild);\r\n\r\n\tif(confirmed){\r\n\r\n\t\tlet formData\t\t= loadHostFormdata(target);\r\n\r\n\t\tif(target.closest('table') == null){\r\n\t\t\tMain.showLoader(target);\r\n\t\t}\r\n\r\n\t\tlet response\t= await FormSubmit.fetchRestApi('events/add_host', formData);\r\n\r\n\t\tif(response){\r\n\t\t\taddHostHtml(response);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// Show the new host in the schedule\r\nexport function addHostHtml(response){\r\n\tlet target\t\t\t= document.querySelector('.active');\r\n\r\n\tif(target != null){\r\n\t\ttarget.classList.remove('active');\r\n\t\ttarget.outerHTML\t= response.html;\r\n\t}\r\n\r\n\tMain.displayMessage(response.message);\r\n\r\n\tMain.hideModals();\r\n}\r\n\r\n// Remove a host\r\nexport async function removeHost(target, dateStr){\r\n\tlet text, confirmed;\r\n\r\n    let scheduleOwner\t= target.closest('.schedules_div').dataset.target;\r\n\r\n\tif(target.classList.contains('orientation')){\r\n\t\ttext \t= `Are you sure you want to remove this orientation session`;\r\n\t}else if(target.classList.contains('admin')){\r\n\t\ttext \t= `Please confirm host removal for ${scheduleOwner} on ${dateStr}`;\r\n\t}else{\r\n\t\ttext \t= `Please confirm you do not want to be the host for ${scheduleOwner} on ${dateStr} anymore`;\r\n\t}\r\n\r\n\tconfirmed\t= await checkConfirmation(text, target.firstChild);\r\n\r\n\tif(confirmed){\r\n\t\t\r\n\t\tlet formData\t\t= new FormData();\r\n\t\tformData.append('session_id', target.dataset.session_id);\r\n\t\tMain.showLoader(target.firstChild);\r\n\r\n\t\tvar response = await FormSubmit.fetchRestApi('events/remove_host', formData);\r\n\r\n\t\tMain.displayMessage(response.message);\r\n\r\n\t\treturn response.html;\r\n\t}\r\n\r\n    return confirmed;\r\n}\r\n\r\nexport function showTimeslotModal(target='', date='', startTime='', endTime=''){\r\n\tlet hostId, subject, location, hostName, sessionId;\r\n\tlet modal \t\t\t= document.querySelector('[name=\"add_session\"]');\r\n\r\n\t// Clear\r\n\tmodal.querySelectorAll('input:not([type=\"hidden\"], [type=\"checkbox\"], [type=\"radio\"])').forEach(el=>el.value='');\r\n\r\n\tmodal.querySelector('[name=\"schedule_id\"]').value\t\t= target.closest('.schedules_div').dataset.id;\r\n\r\n\thostId\t\t\t= target.dataset.host_id;\r\n\tsubject\t\t\t= target.dataset.subject;\r\n\tlocation\t\t= target.dataset.location;\r\n\thostName\t\t= target.dataset.host;\r\n\tsessionId\t\t= target.dataset.session_id;\r\n\r\n\t//Fill the modal values\r\n\tmodal.querySelector('[name=\"date\"]').value\t\t\t\t= date;\r\n\tmodal.querySelector('[name=\"starttime\"]').value\t\t\t= startTime;\r\n\tmodal.querySelector('[name=\"endtime\"]').value\t\t\t= endTime;\r\n\tmodal.querySelector('[name=\"add_timeslot\"]').classList.remove('add_schedule_row');\r\n\tmodal.querySelector('[name=\"add_timeslot\"]').classList.add('update_schedule');\r\n\r\n\tif( target.dataset.session_id != undefined){\r\n\t\tmodal.querySelector('[name=\"session-id\"]').value\t= sessionId;\r\n\t}\r\n\tif(hostId\t!= undefined){\r\n\t\tmodal.querySelector('[name=\"host_id\"]').value\t\t= hostId;\r\n\t}\r\n\tif(subject\t!= undefined){\r\n\t\tmodal.querySelector('[name=\"subject\"]').value\t\t= subject;\r\n\t}\r\n\tif(location\t!= undefined){\r\n\t\tmodal.querySelector('[name=\"location\"]').value\t\t= location;\r\n\t}\r\n\tif(hostName\t!= undefined){\r\n\t\tmodal.querySelector('[name=\"host\"]').value\t\t\t= hostName;\r\n\t}\r\n\t\r\n\tMain.showModal(modal);\r\n}\r\n\r\nexport async function editTimeSlot(target, date, dateStr){\r\n\tlet options\t= {\r\n\t\ttitle: 'What do you want to do?',\r\n\t\ttext: \"Do you want to edit or remove this timeslot?\",\r\n\t\tshowDenyButton: true,\r\n\t\tshowCancelButton: true,\r\n\t\tconfirmButtonText: 'Edit timeslot',\r\n\t\tdenyButtonText: 'Remove timeslot',\r\n\t}\r\n\r\n\tif(document.fullscreenElement != null){\r\n\t\toptions['target']\t= document.fullscreenElement;\r\n\t}\r\n\r\n\tvar answer = await Swal.fire(options);\r\n\r\n\t//swap and/or\r\n\tif (answer.isConfirmed) {\r\n\t\t// Show modal and prefill the default fields\r\n\t\tshowTimeslotModal(target, date, target.dataset.starttime, target.dataset.endtime);\r\n\t\t\r\n\t\t//change button text\r\n\t\tvar modal \t\t\t= document.querySelector('[name=\"add_session\"]');\r\n\t\tmodal.querySelector('[name=\"add_timeslot\"]').textContent\t= 'Update time slot';\r\n\t//add new rule after this one\r\n\t}else if (answer.isDenied) {\r\n\t\treturn answer.isDenied;\r\n\t}\r\n}\r\n\r\nfunction loadHostFormdata(target){\r\n    let scheduleId\t\t= target.closest('.schedules_div').dataset.id;\r\n\tlet table\t\t\t= target.closest('table');\r\n\r\n\tlet heading, cell, date, startTime, host;\r\n\r\n\tif(table == null){\r\n\t\tstartTime\t\t= target.dataset.starttime;\r\n\t\thost\t\t\t= target.dataset.host_id;\r\n\t\tdate\t\t\t= target.dataset.isodate\r\n\t}else{\r\n\t\theading\t\t\t= table.tHead.rows[0];\r\n\t\tcell\t\t\t= target.closest('td');\r\n\t\tstartTime\t\t= target.closest('tr').dataset.starttime;\r\n\t\thost\t\t\t= cell.dataset.host;\r\n\t\tdate\t\t\t= heading.cells[cell.cellIndex].dataset.isodate;\r\n\t}\r\n\r\n\tvar formData\t\t= new FormData();\r\n\tformData.append('date', date);\r\n\tif(host != null){\r\n\t\tformData.append('host_id', host);\r\n\t}else{\r\n\t\tformData.append('host_id', sim.userId);\r\n\t}\r\n\t\r\n\tformData.append('starttime', startTime);\r\n\tformData.append('schedule_id', scheduleId);\r\n\r\n\treturn formData;\r\n}\r\n\r\nexport async function checkConfirmation(text, target){\r\n\tlet options = {\r\n\t\ttitle: 'Are you sure?',\r\n\t\ttext: text+\"?\",\r\n\t\ticon: 'warning',\r\n\t\tshowCancelButton: true,\r\n\t\tconfirmButtonColor: \"#bd2919\",\r\n\t\tcancelButtonColor: '#d33',\r\n\t\tconfirmButtonText: 'Yes'\r\n\t};\r\n\r\n\tif(document.fullscreenElement != null){\r\n\t\toptions['target']\t= document.fullscreenElement;\r\n\t}\r\n\r\n\tvar result = await Swal.fire(options);\r\n\t\r\n\tif (result.isConfirmed) {\r\n\t\tdocument.querySelectorAll('.modal:not(.hidden)').forEach(modal=>modal.classList.add('hidden'));\r\n\t\t//display loading gif\r\n\t\tMain.showLoader(target.firstChild);\r\n\t\t\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n}","import { addCurrentUserAsHost, removeHost, editTimeSlot, addHostHtml, showTimeslotModal } from './shared.js';\r\n\r\nconsole.log(\"Mobile-schedule.js loaded\");\r\n\r\n// Add a new host/ updates an existing entry when the host form is submitted\r\nasync function addHost(target, multiple=false){\r\n\tvar response \t= await FormSubmit.submitForm(target, 'events/add_host');\r\n\r\n\tif(response){\r\n\t\tif(multiple){\r\n\t\t\tdocument.querySelectorAll('.active').forEach(el=>{\r\n\t\t\t\tel.classList.remove('active');\r\n\t\t\t\tel.outerHTML\t= response.html[el.dataset.isodate];\r\n\t\t\t});\r\n\r\n\t\t\tMain.displayMessage(response.message);\r\n\r\n\t\t\tMain.hideModals();\r\n\t\t}else{\r\n\t\t\taddHostHtml(response);\r\n\t\t}\r\n\r\n\t\tMain.displayMessage(response.message);\r\n\t}\r\n\r\n    Main.hideModals();\r\n}\r\n\r\ndocument.addEventListener('click', async function(event){\r\n    let target = event.target;\r\n\r\n    if(target.closest('.add-me-as-host') != null){\r\n        target  = target.closest('.add-me-as-host');\r\n        target.closest('.day-wrapper-mobile').classList.add('active');\r\n\t\taddCurrentUserAsHost(target.closest('.add-me-as-host'), target.dataset.date);\r\n\t}else if(target.closest('.remove-host-mobile') != null){\r\n\t\tevent.stopPropagation();\r\n        target      \t\t= target.closest('.remove-host-mobile');\r\n        let sessionWrapper\t= target.closest('.session-wrapper-mobile');\r\n\t\tlet dayWrapper\t\t= sessionWrapper.closest('.day-wrapper-mobile');\r\n\t\tlet isMeal\t\t\t= sessionWrapper.matches('.meal');\r\n\r\n\t\tlet result = await removeHost(target, target.dataset.date);\r\n\r\n        if(result){\r\n\t\t\tif(isMeal){\r\n\t\t\t\tdayWrapper.outerHTML\t= result;\r\n\t\t\t}else{\r\n            \tsessionWrapper.remove();\r\n\t\t\t}\r\n        }\r\n\t}else if (target.name == 'add_host_mobile' ){\r\n\t\tevent.stopPropagation();\r\n\t\taddHost(target, true)\r\n\t}else if(target.closest('.edit-session-mobile') != null){\r\n        target  = target.closest('.edit-session-mobile');\r\n\r\n\t\tlet dayWrapper\t= target.closest('.day-wrapper-mobile');\r\n\r\n        dayWrapper.classList.add('active');\r\n\r\n\t\tlet wrapper\t= target.closest('.session-wrapper-mobile');\r\n\r\n\t\tlet result = await editTimeSlot(target, target.dataset.isodate, target.dataset.date);\r\n\r\n        if(result){\r\n\t\t\tremoveHost(wrapper, target.dataset.date)\r\n\r\n            wrapper.remove();\r\n        }\r\n\t}else if(target.name == 'add_host' || target.name == 'add_timeslot'){\r\n\t\tevent.stopPropagation();\r\n\t\t\r\n\t\taddHost(target);\r\n\t}else if(target.name == 'add-session'){\r\n\t\tevent.stopPropagation();\r\n\t\tshowTimeslotModal(target);\r\n\t}else if(target.name == 'add-host'){\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tMain.showModal(target.closest('.schedules_div').querySelector('.add-host-mobile-wrapper'));\r\n\t}\r\n});\r\n\r\ndocument.addEventListener('change', function(event){\r\n\r\n\tlet target = event.target;\r\n\r\n\t//Direct table actions\r\n\tif(target.name == 'starttime' && target.type == 'radio'){\r\n\t\tif(target.value == '12:00'){\r\n\t\t\ttarget.closest('form').querySelector('.lunch.select-wrapper').classList.remove('hidden');\r\n\t\t\ttarget.closest('form').querySelector('.diner.select-wrapper').classList.add('hidden');\r\n\t\t}else{\r\n\t\t\ttarget.closest('form').querySelector('.diner.select-wrapper').classList.remove('hidden');\r\n\t\t\ttarget.closest('form').querySelector('.lunch.select-wrapper').classList.add('hidden');\r\n\t\t}\r\n\t}else if(target.matches('.schedules_wrapper [name=\"add_session\"] [name=\"date\"]')){\r\n\t\t// Add the active class to the currently selected date\r\n\t\tlet form\t\t= target.closest('form');\r\n\t\tlet scheduleId\t= form.querySelector('[name=\"schedule_id\"').value;\r\n\r\n\t\tform.querySelectorAll('.active').forEach(el=>el.classList.remove('active'));\r\n\r\n\t\tlet dayWrapper\t= document.querySelector(`.schedules_div[data-id='${scheduleId}'] .day-wrapper-mobile[data-isodate='${target.value}']`);\r\n\r\n\t\tif(dayWrapper != null){\r\n\t\t\tdayWrapper.classList.add('active');\r\n\t\t}\r\n\t}else if(target.matches('.add-host-mobile-wrapper [name=\"date[]\"]')){\r\n\t\t// Add the active class to the currently selected dates\r\n\t\tlet form\t\t= target.closest('form');\r\n\t\tlet scheduleId\t= form.querySelector('[name=\"schedule_id\"').value;\r\n\r\n\t\tform.querySelectorAll('.active').forEach(el=>el.classList.remove('active'));\r\n\r\n\t\tform.querySelectorAll('[name=\"date[]\"]:checked ').forEach(el=>{\r\n\t\t\tlet dayWrapper\t= document.querySelector(`.schedules_div[data-id='${scheduleId}'] .day-wrapper-mobile[data-isodate='${el.value}']`);\r\n\r\n\t\t\tif(dayWrapper != null){\r\n\t\t\t\tdayWrapper.classList.add('active');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});"],"names":["addHostHtml","response","target","document","querySelector","classList","remove","outerHTML","html","Main","displayMessage","message","hideModals","async","removeHost","dateStr","text","confirmed","scheduleOwner","closest","dataset","contains","checkConfirmation","firstChild","formData","FormData","append","session_id","showLoader","FormSubmit","fetchRestApi","showTimeslotModal","date","startTime","endTime","hostId","subject","location","hostName","sessionId","modal","querySelectorAll","forEach","el","value","id","host_id","host","add","undefined","showModal","options","title","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","fullscreenElement","Swal","fire","isConfirmed","addHost","multiple","submitForm","isodate","console","log","addEventListener","event","heading","cell","scheduleId","table","starttime","tHead","rows","cells","cellIndex","sim","userId","loadHostFormdata","addCurrentUserAsHost","stopPropagation","sessionWrapper","dayWrapper","isMeal","matches","result","name","wrapper","showDenyButton","denyButtonText","answer","endtime","textContent","isDenied","editTimeSlot","type","form"],"sourceRoot":""}