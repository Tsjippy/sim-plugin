(()=>{"use strict";var e,t={452:(e,t,n)=>{const a=window.wp.blocks,l=window.wp.element,r=window.wp.i18n,s=window.wp.blockEditor,i=window.wp.apiFetch;var o=n.n(i);const c=window.wp.components,m=JSON.parse('{"u2":"sim/upcomingevents"}');(0,a.registerBlockType)(m.u2,{icon:"calendar",edit:e=>{let{attributes:t,setAttributes:n}=e;const{items:a,months:i,categories:m,title:u}=t,v=function(e){let t={...m};t[this]=e,n({categories:t})},[p,d]=(0,l.useState)((0,l.createElement)(c.Spinner,null));(0,l.useEffect)((async()=>{d((0,l.createElement)(c.Spinner,null));const e=await o()({path:"/wp/v2/events"});d(e.map((e=>(0,l.createElement)(c.CheckboxControl,{key:e.id,label:e.name,onChange:v.bind(e.id),checked:m[e.id]}))))}),[t.categories]);const[h,f]=(0,l.useState)([]);return(0,l.useEffect)((()=>{(async()=>{let e="";if(null!=a&&(e+="?items"+a),null!=i&&(e+=""==e?"?":"&",e+="months="+i),null!=m){e+=""==e?"?":"&",e+="categories=";for(const t in m)e+=t+","}let t=await o()({path:`sim/v2/events/upcoming_events${e}`});t||(t=[]),f(t)})()}),[a,i,m]),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.InspectorControls,null,(0,l.createElement)(c.Panel,null,(0,l.createElement)(c.PanelBody,null,(0,l.createElement)(c.TextControl,{label:"Block title",value:u,onChange:e=>n({title:e})}),"Select an category you want to exclude from the list",p,(0,l.createElement)(c.__experimentalNumberControl,{label:(0,r.__)("Select the maximum amount of events","sim"),value:a||10,onChange:e=>n({items:parseInt(e)}),min:1,max:20}),(0,l.createElement)(c.__experimentalNumberControl,{label:(0,r.__)("Select the range in months we will retrieve","sim"),value:i||2,onChange:e=>n({months:parseInt(e)}),min:1,max:12})))),(0,l.createElement)("div",(0,s.useBlockProps)(),(0,l.createElement)("aside",{className:"event"},(0,l.createElement)("h4",{className:"title"},u),(0,l.createElement)("div",{className:"upcomingevents_wrapper"},0===h.length?(0,l.createElement)("p",null,"No events found!"):h.map((e=>(0,l.createElement)("article",{className:"event-article",key:e.id},(0,l.createElement)("div",{className:"event-wrapper"},(0,l.createElement)("div",{className:"event-date"},(0,l.createElement)("span",null,e.day)," ",e.month),(0,l.createElement)("div",null,(0,l.createElement)("h4",{className:"event-title"},(0,l.createElement)("a",{href:e.url},e.title)),(0,l.createElement)("div",{className:"event-detail"},e.time))))))),(0,l.createElement)("a",{className:"calendar button sim",href:"./events"},"Calendar"))))},save:()=>null})}},n={};function a(e){var l=n[e];if(void 0!==l)return l.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,n,l,r)=>{if(!n){var s=1/0;for(m=0;m<e.length;m++){n=e[m][0],l=e[m][1],r=e[m][2];for(var i=!0,o=0;o<n.length;o++)(!1&r||s>=r)&&Object.keys(a.O).every((e=>a.O[e](n[o])))?n.splice(o--,1):(i=!1,r<s&&(s=r));if(i){e.splice(m--,1);var c=l();void 0!==c&&(t=c)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[n,l,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var l,r,s=n[0],i=n[1],o=n[2],c=0;if(s.some((t=>0!==e[t]))){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(o)var m=o(a)}for(t&&t(n);c<s.length;c++)r=s[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(m)},n=self.webpackChunksim_events=self.webpackChunksim_events||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var l=a.O(void 0,[431],(()=>a(452)));l=a.O(l)})();