{"version":3,"file":"library.min.js","mappings":"AAIAA,SAASC,iBAAiB,oBAAmB,WAC5CC,OAAOC,GAAKD,OAAOC,IAAM,CAAC,EAG1B,IAAIC,EAAiBD,GAAGE,MAAMC,KAAKC,kBAAkBC,OAAO,CAC3DC,GAAI,kBACJC,cAAe,WACd,IAAIC,EAAU,CAEdA,IAAc,CACbC,KAAM,oBACNC,SAAU,KAEXF,EAAa,IAAS,MAAI,CAAC,EAC3BA,EAAa,IAAS,MAAY,SAAI,GAEtCG,WAAWC,SAAQC,IAClBL,EAAQK,EAAIC,MAAQ,CACnBL,KAAMI,EAAIE,MAEXP,EAAQK,EAAIC,MAAa,MAAI,CAAC,EAC9BN,EAAQK,EAAIC,MAAa,MAAY,SAAID,EAAIC,IAAI,IAGlDE,KAAKR,QAAUA,CAChB,IAMGS,EAAqBjB,GAAGE,MAAMC,KAAKc,mBACvCjB,GAAGE,MAAMC,KAAKc,mBAAqBjB,GAAGE,MAAMC,KAAKc,mBAAmBZ,OAAO,CAC1Ea,cAAe,WACd,IAAIC,EAAOH,KAGXC,EAAmBG,UAAUF,cAAcG,KAAKL,MAGhDG,EAAKG,QAAQC,IAAK,iBAAkB,IAAItB,EAAe,CACtDuB,WAAYL,EAAKK,WACjBC,MAAON,EAAKO,WAAWC,MACvBjB,UAAW,KACTkB,SACJ,GAEF","sources":["webpack://frontend_posting/./library.js"],"sourcesContent":["//filter the content\r\n//the filter props are passed on to wp_ajax_query_attachments\r\n// https://developer.wordpress.org/reference/functions/wp_ajax_query_attachments/\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\",function() {\r\n\twindow.wp = window.wp || {};\r\n\r\n\t// filters attachment on their public or private apperance\r\n\tvar CategoryFilter = wp.media.view.AttachmentFilters.extend({\r\n\t\tid: 'category-filter',\r\n\t\tcreateFilters: function() {\r\n\t\t\tvar filters = {};\r\n\r\n\t\t\tfilters.all = {\r\n\t\t\t\ttext: 'Select a category',\r\n\t\t\t\tpriority: 10\r\n\t\t\t};\r\n\t\t\tfilters['all']['props'] = {};\r\n\t\t\tfilters['all']['props']['category'] = '';\r\n\r\n\t\t\tcategories.forEach(cat=>{\r\n\t\t\t\tfilters[cat.slug] = {\r\n\t\t\t\t\ttext: cat.name,\r\n\t\t\t\t};\r\n\t\t\t\tfilters[cat.slug]['props'] = {};\r\n\t\t\t\tfilters[cat.slug]['props']['category'] = cat.slug;\r\n\t\t\t});\r\n\r\n\t\t\tthis.filters = filters;\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t\t * Add our filter dropdown to the menu bar\r\n\t*/\r\n\tvar AttachmentsBrowser = wp.media.view.AttachmentsBrowser;\r\n\twp.media.view.AttachmentsBrowser = wp.media.view.AttachmentsBrowser.extend({\r\n\t\tcreateToolbar: function() {\r\n\t\t\tvar that = this;\r\n\r\n\t\t\t// Make sure to load the original toolbar\r\n\t\t\tAttachmentsBrowser.prototype.createToolbar.call(this);\r\n\r\n\t\t\t// Get the labels and items for each mcm_taxonomies\r\n\t\t\tthat.toolbar.set( 'CategoryFilter', new CategoryFilter({\r\n\t\t\t\tcontroller: that.controller,\r\n\t\t\t\tmodel: that.collection.props,\r\n\t\t\t\tpriority: -70,\r\n\t\t\t}).render() );\r\n\t\t}\r\n\t});\r\n});\r\n"],"names":["document","addEventListener","window","wp","CategoryFilter","media","view","AttachmentFilters","extend","id","createFilters","filters","text","priority","categories","forEach","cat","slug","name","this","AttachmentsBrowser","createToolbar","that","prototype","call","toolbar","set","controller","model","collection","props","render"],"sourceRoot":""}