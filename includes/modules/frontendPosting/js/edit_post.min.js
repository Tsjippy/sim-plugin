(()=>{"use strict";let e,t=function(e){"undefined"!=typeof tinymce&&tinymce.remove(),document.querySelectorAll(".entry-content .wp-editor-area").forEach((e=>{window.tinyMCE.execCommand("mceAddEditor",!1,e.id)})),window.document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0,cancelable:!0})),document.querySelectorAll(".wp-switch-editor").forEach((e=>e.addEventListener("click",(t=>{let n=e.closest(".wp-editor-wrap").querySelector(".wp-editor-area"),d=e.closest(".wp-editor-wrap").querySelector(".mce-panel");n.style.visibility="unset",t.target.matches(".switch-tmce")?(d.style.display="block",n.style.display="none"):(d.style.display="none",n.style.display="block")})))),document.querySelectorAll("select:not(.nonice,.swal2-select)").forEach((function(e){null==e._niceselect&&(e._niceselect=NiceSelect.bind(e,{searchable:!0}))}));const t=new Event("scriptsloaded");e.dispatchEvent(t)},n=function(d){if(null==d)return;0==e.length&&t(d);let i=e.shift();if(null!=i)if("SCRIPT"==i.tagName&&null==document.getElementById(i.id)){var c=document.createElement("script");""==i.type?c.type="text/javascript":c.type=i.type,""!=i.src?c.src=i.src:c.innerHTML=i.innerHTML,c.id=i.id,document.head.appendChild(c),e.length>0?""!=i.src?c.addEventListener("load",n.bind(null,d)):n(d):""!=i.src?c.addEventListener("load",t.bind(null,d)):t(d)}else e.length>0?n(d):t(d);else t(d)};console.log("Edit post.js loaded");document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("#page-edit.hidden").forEach((e=>{e.classList.remove("hidden")}))})),document.addEventListener("click",(function(t){"page-edit"==t.target.id&&async function(t){let d=t.target,i=d.closest("main").querySelector(".content-wrapper");i.classList.add("hidden");let c=new FormData,o=d.dataset.id;c.append("postid",o);const l=new URL(edit_post_url);l.searchParams.set("post_id",o),window.history.pushState({},"",l);let s=Main.showLoader(d,!0,"Requesting form..."),r=await FormSubmit.fetchRestApi("frontend_posting/post_edit",c);r?(i.innerHTML=r.html,function(t,d){let i=document.createElement("div");t.js&&(i.innerHTML=t.js,e=[...i.children],n(d)),t.css&&(i.innerHTML=t.css,[...i.children].forEach((e=>{document.head.appendChild(e)})))}(r,document)):s.outerHTML=d.outerHTML}(t)})),document.addEventListener("scriptsloaded",(function(){document.getElementById("frontend_upload_form").classList.remove("hidden"),wrapper.classList.remove("hidden"),loader.remove()}))})();
//# sourceMappingURL=edit_post.min.js.map