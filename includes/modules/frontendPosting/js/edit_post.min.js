(()=>{"use strict";let e,t,n=function(){tinymce.remove(),document.querySelectorAll(".entry-content .wp-editor-area").forEach((e=>{window.tinyMCE.execCommand("mceAddEditor",!1,e.id)})),window.document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0,cancelable:!0})),document.querySelectorAll(".wp-switch-editor").forEach((e=>e.addEventListener("click",(t=>{let n=e.closest(".wp-editor-wrap").querySelector(".wp-editor-area"),d=e.closest(".wp-editor-wrap").querySelector(".mce-panel");n.style.visibility="unset",t.target.matches(".switch-tmce")?(d.style.display="block",n.style.display="none"):(d.style.display="none",n.style.display="block")})))),"function"==typeof t&&t()},d=function(){let t=e.shift();if(null==document.getElementById(t.id)&&"SCRIPT"==t.tagName){var o=document.createElement("script");""==t.type?o.type="text/javascript":o.type=t.type,""!=t.src?o.src=t.src:o.innerHTML=t.innerHTML,o.id=t.id,document.head.appendChild(o),e.length>0?""!=t.src?o.addEventListener("load",d):d():""!=t.src?o.addEventListener("load",n):n()}else e.length>0?d():n()};document.addEventListener("DOMContentLoaded",(function(){console.log("Edit post.js loaded"),document.querySelectorAll("#page-edit").forEach((e=>{e.classList.remove("hidden")}))})),document.addEventListener("click",(function(n){"page-edit"==n.target.id&&async function(n){let o=n.target,i=o.closest("main").querySelector(".content-wrapper");i.classList.add("hidden");let c=new FormData,s=o.dataset.id;c.append("postid",s);const r=new URL(edit_post_url);r.searchParams.set("post_id",s),window.history.pushState({},"",r);let a=Main.showLoader(o,!0,"Requesting form..."),l=await FormSubmit.fetchRestApi("frontend_posting/post_edit",c);l?(i.innerHTML=l.html,t=function(){document.getElementById("frontend_upload_form").classList.remove("hidden"),i.classList.remove("hidden"),a.remove()},function(t){let n=document.createElement("div");t.js&&(n.innerHTML=t.js,e=[...n.children],d()),t.css&&(n.innerHTML=t.css,[...n.children].forEach((e=>{document.head.appendChild(e)})))}(l)):a.outerHTML=o.outerHTML}(n)}))})();
//# sourceMappingURL=edit_post.min.js.map