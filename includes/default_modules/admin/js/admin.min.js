(()=>{var e={416:e=>{var t;self,t=()=>(()=>{"use strict";var e={d:(t,l)=>{for(var n in l)e.o(l,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:l[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{bind:()=>p,default:()=>h});const l=(e,t,l={})=>{let n;n="click"===t?MouseEvent:"change"===t?Event:t.includes("focus")?FocusEvent:UIEvent;const o=new n(t,{bubbles:!0,cancelable:!1,...l});e.dispatchEvent(o)},n=e=>l(e,"click"),o=e=>l(e,"change"),s=e=>l(e,"modalclose"),i=(e,t)=>void 0!==e[t]?e[t]:e.getAttribute(t),r=(e,t)=>e?.classList.contains(t),a=(e,t)=>e?.classList.add(t),c=(e,t)=>e?.classList.remove(t),d={data:null,searchable:!0,showSelectedItems:!0,placeholder:"Select an option",searchtext:"Search",selectedtext:"selected",hideSelect:!0};class u{constructor(e,t={}){if(!e)throw new Error("No element provided to NiceSelect");if(!(e instanceof Element))throw new Error("Invalid element provided to NiceSelect - must be a valid DOM element");this.el=e,this.el._niceSelect=this,this.config={...d,...t},this.data=this.config.data,this.selectedOptions=[],this.placeholder=i(this.el,"placeholder")||this.config.placeholder,this.searchtext=i(this.el,"searchtext")||this.config.searchtext,this.selectedtext=i(this.el,"selectedtext")||this.config.selectedtext,this.dropdown=null,this.selectionList=null,this.multiple=i(this.el,"multiple"),this.disabled=i(this.el,"disabled"),this.create(),this.bindElementEvents()}create(e=!0){this.data?this.processData(this.data):this.extractData(e),this.el.classList.remove("hidden-select"),this.renderDropdown(),this.config.hideSelect&&this.el.classList.add("hidden-select"),this.bindDropdownEvents()}processData(e){this.options=e.map((e=>({data:e,attributes:{selected:!!e.selected,disabled:!!e.disabled,optgroup:"optgroup"===e.value}})))}extractData(e){const t=Array.from(this.el.querySelectorAll("option,optgroup")),l=[],n=[];this.data=t.map((t=>{let o,s=t.selected;e&&t.selected&&!t.defaultSelected&&(s=!1),o="OPTGROUP"===t.tagName?{text:t.label,value:"optgroup"}:{text:t.dataset.display??t.innerText,value:t.value,extra:t.dataset.extra,selected:s,disabled:t.disabled};const i={selected:s,disabled:t.disabled,optgroup:"OPTGROUP"===t.tagName},r={data:o,attributes:i,element:null};return l.push(r),i.selected&&n.push(r),o})),this.options=l,this.selectedOptions=n}renderDropdown(){const e=["nice-select",i(this.el,"class")||"",this.disabled?"disabled":"",this.multiple?"has-multiple":""].filter(Boolean),t=this.config.searchable?`\n      <div class="nice-select-search-box">\n        <input type="text" class="nice-select-search" placeholder="${this.searchtext}..." title="search"/>\n      </div>\n    `:"",l=`\n      <div class="${e.join(" ")}" tabindex="${this.disabled?"":0}">\n        <span class="${this.multiple?"multiple-options":"current"}"></span>\n        <div class="nice-select-dropdown">\n          ${t}\n          <ul class="list"></ul>\n        </div>\n      </div>\n    `;this.el.insertAdjacentHTML("afterend",l),this.dropdown=this.el.nextElementSibling,this._renderSelectedItems(),this._renderItems()}_renderSelectedItems(){if(this.multiple){let e="";"auto"===window.getComputedStyle(this.dropdown).width||this.selectedOptions.length<2?(this.selectedOptions.forEach(((t,l,n)=>{let o=t.data.text;l!==n.length-1&&(o+=", "),e+=`<span class="current">${o}</span>`})),e=e||this.placeholder):e=`${this.selectedOptions.length} ${this.selectedtext}`,this.dropdown.querySelector(".multiple-options").innerHTML=e}else{const e=this.selectedOptions.length>0?this.selectedOptions[0].data.text:this.placeholder;this.dropdown.querySelector(".current").innerHTML=e}}_renderItems(){const e=this.dropdown.querySelector("ul");this.options.forEach((t=>{this.multiple&&this.config.showSelectedItems&&this._multipleListAdd(t),e.appendChild(this._renderItem(t))}))}_renderItem(e){const t=document.createElement("li");if(t.innerHTML=e.data.text,void 0!==e.data.extra&&t.appendChild(this._renderItemExtra(e.data.extra)),e.attributes.optgroup)a(t,"optgroup");else{t.setAttribute("data-value",e.data.value);const l=["option"];e.attributes.selected&&l.push("selected"),e.attributes.disabled&&l.push("disabled"),t.classList.add(...l),t.addEventListener("click",(t=>this._onDropdownItemClicked(e,t)))}return e.element=t,t}_renderItemExtra(e){const t=document.createElement("span");return t.innerHTML=e,a(t,"extra"),t}update(e=""){let t=this;""!=e&&(t=e.target._niceSelect),t.syncDropdown()}disable(){this.disabled||(this.disabled=!0,a(this.dropdown,"disabled"))}enable(){this.disabled&&(this.disabled=!1,c(this.dropdown,"disabled"))}clear(){this.resetSelectValue(),this.selectedOptions=[],this._renderSelectedItems(),this.update(),o(this.el)}destroy(){this.selectionList&&this.removeSelectionList(),this.dropdown&&(this.dropdown.remove(),this.el.classList.remove("hidden-select"))}focus(e=""){var t;if(r(this.dropdown,"open")?this.multiple?e===this.dropdown.querySelector(".multiple-options")&&(c(this.dropdown,"open"),s(this.el)):(c(this.dropdown,"open"),s(this.el)):(a(this.dropdown,"open"),t=this.el,l(t,"modalopen")),r(this.dropdown,"open")){const e=this.dropdown.querySelector(".nice-select-search");e&&(e.value="",e.focus());const t=this.dropdown.querySelector(".focus");t&&c(t,"focus");const l=this.dropdown.querySelector(".selected");l&&a(l,"focus"),this.dropdown.querySelectorAll("ul li").forEach((e=>e.style.display=""))}else this.dropdown.focus()}bindElementEvents(){this.el.addEventListener("invalid",(()=>this._triggerValidationMessage("invalid"))),window.addEventListener("click",(e=>this._onClickedOutside(e))),this.el.addEventListener("change",this.update)}bindDropdownEvents(){this.dropdown.addEventListener("click",(e=>this._onClicked(e))),this.dropdown.addEventListener("keydown",(e=>this._onKeyPressed(e))),this.dropdown.addEventListener("focusin",(()=>{return e=this.el,l(e,"focusin");var e})),this.dropdown.addEventListener("focusout",(()=>{return e=this.el,l(e,"focusout");var e})),this.config.searchable&&this._bindSearchEvent()}_bindSearchEvent(){const e=this.dropdown.querySelector(".nice-select-search");e&&(e.addEventListener("click",(e=>e.stopPropagation())),e.addEventListener("input",(e=>this._onSearchChanged(e))))}_onClicked(e){e.preventDefault(),this.focus(e.target)}_onDropdownItemClicked(e,t){const l=t.target;if(!r(l,"disabled")){if(this.multiple){let t;r(l,"selected")?(t=!1,c(l,"selected"),this.selectedOptions=this.selectedOptions.filter((t=>t.data!==e.data))):(t=!0,a(l,"selected"),this.selectedOptions.push(e)),e.data.selected=t,e.attributes.selected=t}else{this.dropdown.querySelectorAll("li.selected").forEach((e=>c(e,"selected"))),a(l,"selected"),this.selectedOptions=[e];let t=this.options.find((e=>e.attributes.selected));t&&(t.data.selected=!1,t.attributes.selected=!1),e.data.selected=!0,e.attributes.selected=!0}this._renderSelectedItems(),this.syncSelectValue(),this.syncSelectionList()}}syncSelectValue(){const e=this.el;this.selectedOptions.length>0?e.value=this.selectedOptions[0].data.value:(e.value="",e.selectedIndex=-1),this.options.forEach((t=>{let l=Array.from(e.options).find((e=>e.textContent===t.data.text));null==l&&(l=Array.from(e.options).find((e=>e.textContent===t.data.value))),t.attributes.selected?l.selected=!0:l.selected=!1})),e.removeEventListener("change",this.update),o(e),e.addEventListener("change",this.update)}resetSelectValue(){if(this.multiple){const e=this.el;this.selectedOptions.forEach((t=>{const l=e.querySelector(`option[value="${t.data.value}"]`);l&&(l.selected=!1)}))}else this.selectedOptions.length>0&&(this.el.selectedIndex=-1);o(this.el)}syncDropdown(){if(this.dropdown){const e=r(this.dropdown,"open");this.removeSelectionList(),this.dropdown.remove(),this.data=null,this.create(!1),e&&n(this.dropdown)}i(this.el,"disabled")?this.disable():this.enable()}syncSelectionList(){this.config.showSelectedItems&&(this.removeSelectionList(),this.selectedOptions.forEach((e=>{this._multipleListAdd(e)})))}_onClickedOutside(e){this.dropdown.contains(e.target)||(c(this.dropdown,"open"),s(this.el))}_onKeyPressed(e){const t=this.dropdown.querySelector(".focus"),l=r(this.dropdown,"open");if(13===e.keyCode)n(l?t:this.dropdown);else if(40===e.keyCode){if(l){const e=this._findNext(t);e&&(t&&c(t,"focus"),a(e,"focus"))}else n(this.dropdown);e.preventDefault()}else if(38===e.keyCode){if(l){const e=this._findPrev(t);e&&(t&&c(t,"focus"),a(e,"focus"))}else n(this.dropdown);e.preventDefault()}else if(27===e.keyCode&&l)n(this.dropdown);else if(32===e.keyCode&&l)return!1;const o=this.dropdown.querySelector(".focus");return o&&o.scrollIntoView({block:"center"}),!1}_findNext(e){let t=e?e.nextElementSibling:this.dropdown.querySelector(".list .option");for(;t;){if(!r(t,"disabled")&&"none"!==t.style.display)return t;t=t.nextElementSibling}return null}_findPrev(e){let t=e?e.previousElementSibling:this.dropdown.querySelector(".list .option:last-child");for(;t;){if(!r(t,"disabled")&&"none"!==t.style.display)return t;t=t.previousElementSibling}return null}_onSearchChanged(e){const t=e.target.value.toLowerCase();if(""===t)this.options.forEach((e=>e.element.style.display=""));else if(r(this.dropdown,"open")){const e=new RegExp(t);this.options.forEach((t=>{t.element.style.display=e.test(t.data.text.toLowerCase())?"":"none"}))}this.dropdown.querySelectorAll(".focus").forEach((e=>c(e,"focus")));const l=this._findNext(null);l&&a(l,"focus")}_triggerValidationMessage(e){"invalid"===e?(a(this.dropdown,"invalid"),c(this.dropdown,"valid")):(a(this.dropdown,"valid"),c(this.dropdown,"invalid"))}removeSelectionList(){null!=this.selectionList&&(this.selectionList.remove(),this.selectionList=null)}updateDropdownOption(){}_multipleListAdd(e){if(!this.multiple||e.data.disabled||""==e.data.value||!e.attributes.selected)return;if(null==this.selectionList)this.selectionList=document.createElement("ul"),this.selectionList.classList.add("select-selection-list"),this.el.after(this.selectionList);else if(null!=this.selectionList.querySelector(`[data-value="${e.data.value}"]`))return;let t=document.createElement("li");t.classList.add("select-selection"),t.dataset.value=e.data.value;let l='\n      <button type="button" class="small remove-select-selection">\n        <span class=\'remove-select-selection\'>×</span>\n      </button>\n    ';l+=`<span class='selected-name'>${e.data.text}</span>`,t.innerHTML=l,this.selectionList.appendChild(t),t.querySelectorAll(".remove-select-selection").forEach((e=>e.addEventListener("click",this._multipleListRemove.bind(this))))}_multipleListRemove(e){if(null==this.selectionList)return;if(null!=e.target&&(e=e.target),null==e.matches||!e.matches(".remove-select-selection"))return;let t=e.closest("li.select-selection"),l=this.options.find((e=>e.data.value===t.dataset.value)).element;l&&l.matches(".selected")&&l.click()}}const h=u;function p(e,t){return new u(e,t)}return t})(),e.exports=t()}},t={};function l(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,l),s.exports}(()=>{"use strict";var e=l(416);let t,n=function(e){"undefined"!=typeof tinymce&&(tinymce.remove(),document.querySelectorAll(".entry-content .wp-editor-area").forEach((e=>{window.tinyMCE.execCommand("mceAddEditor",!1,e.id)}))),window.document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0,cancelable:!0})),document.querySelectorAll(".wp-switch-editor").forEach((e=>e.addEventListener("click",(t=>{let l=e.closest(".wp-editor-wrap").querySelector(".wp-editor-area"),n=e.closest(".wp-editor-wrap").querySelector(".mce-panel");l.style.visibility="unset",t.target.matches(".switch-tmce")?(n.style.display="block",l.style.display="none"):(n.style.display="none",l.style.display="block")})))),document.querySelectorAll("select:not(.nonice,.swal2-select)").forEach((function(e){null==e._niceselect&&Main.NiceSelect(e,{searchable:!0})}));const t=new Event("scriptsloaded");e.dispatchEvent(t)},o=function(e){if(null==e)return;0==t.length&&n(e);let l=t.shift();if(null!=l)if("SCRIPT"==l.tagName&&null==document.getElementById(l.id)){var s=document.createElement("script");""==l.type?s.type="text/javascript":s.type=l.type,""!=l.src?s.src=l.src:s.innerHTML=l.innerHTML,s.id=l.id;try{document.head.appendChild(s)}catch(e){console.error(e)}t.length>0?""!=l.src?s.addEventListener("load",o.bind(null,e)):o(e):""!=l.src?s.addEventListener("load",n.bind(null,e)):n(e)}else t.length>0?o(e):n(e);else n(e)};function s(e,t=""){let l=e.dataset.param_val,n=e.dataset.hash;const o=new URL(window.location);null==e.closest(".tabcontent")||e.parentNode.classList.contains("modal-content")?(o.searchParams.set("main_tab",l),o.searchParams.delete("second_tab")):o.searchParams.set("second_tab",l),""!=t&&o.searchParams.set("second_tab",t),window.history.pushState({},"",o),window.location.hash=null!=n?n:"","A"==e.tagName&&i()}function i(e=null){let t=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)}),l=t.main_tab,n="";null!=l&&document.querySelectorAll(`[data-param_val="${l}"]:not(.active)`).forEach((e=>{if(null==e.closest(".modal")){let t=r(e);t&&(n=t)}}));let o=t.second_tab;null!=o&&document.querySelectorAll(`[data-param_val="${o}"]:not(.active)`).forEach((e=>{r(e)}))}function r(e){let t;if(document.querySelectorAll(".highlight").forEach((e=>e.classList.remove("highlight"))),t=null==e.dataset.target?document.querySelector("#"+e.dataset.param_val):e.closest("div:not(.tablink-wrapper)").querySelector("#"+e.dataset.target),null!=t){if(t.classList.remove("hidden"),"A"!=e.tagName&&(e.parentNode.querySelectorAll(`:scope > .active:not(#${e.id})`).forEach((e=>{e.classList.remove("active");var t=e.closest("div:not(.tablink-wrapper)").querySelector("#"+e.dataset.target);null==t?(console.error("Tab to hide not found:"),console.error(e.closest("div:not(.tablink-wrapper)")),console.error("#"+e.dataset.target)):t.classList.add("hidden")})),e.classList.add("active")),window.location.hash){var l=window.location.hash.replace("#",""),n=t.querySelector(`[name^="${l}"]`);null!=n&&(n.scrollIntoView({block:"center"}),null!=n.closest(".inputwrapper")&&n.closest(".inputwrapper").classList.add("highlight"),n.classList.add("highlight"),n.focus())}return"undefined"!=typeof SimTableFunctions&&SimTableFunctions.positionTable(),t}return!1}function a(e){var t;"disable"==e?(document.querySelector("body").style.overflow="hidden",document.body.style.top="0px",window.scrollTo(0,0),(t=document.querySelector("#masthead")).style.overflowY="scroll",t.style.top="0px",t.style.left="0",t.style.right="0",t.style.bottom="0",t.style.position="absolute"):(document.querySelector("body").style.overflow="",document.body.style.top="",(t=document.querySelector("#masthead")).style.overflowY="",t.style.top="",t.style.left="",t.style.right="",t.style.bottom="",t.style.position="")}function c(e){Array.from(e.options).forEach((function(e){e.defaultSelected=!1}))}console.log("Main.js loaded"),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".widget").forEach((e=>{""==e.innerHTML&&e.remove()})),document.querySelectorAll(".tablink").forEach((function(e){null==e.dataset.param_val&&(e.dataset.param_val=e.textContent.replace(" ","_").toLowerCase())})),i(),document.querySelectorAll("select:not(.nonice,.swal2-select)").forEach((function(t){null==t._niceselect&&(0,e.bind)(t,{searchable:!0})})),function(){let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}()?document.querySelectorAll(".hide-on-mobile:not(.hidden)").forEach((e=>e.classList.add("hidden"))):(document.querySelectorAll(".hide-on-desktop:not(.hidden)").forEach((e=>e.classList.add("hidden"))),function(){const e=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);document.querySelectorAll("#primary-menu .sub-menu .sub-menu").forEach((t=>{t.style.left="100%",t.parentNode.closest("ul").style.left="100%",t.parentNode.getBoundingClientRect().right+t.getBoundingClientRect().width>e?(t.style.right="100%",t.style.left="unset"):t.style.removeProperty("left"),t.parentNode.closest("ul").style.removeProperty("left")}))}());let t=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)});if(null!=t.message){let e="success";null!=t.type&&(e=t.type),function(e,t,l=!1,n=!1,o=1500){if(null!=e){if("undefined"!=typeof Swal){var s={icon:t,title:e.toString().trim(),confirmButtonColor:"#bd2919",cancelButtonColor:"Crimson"};return n&&(s.showConfirmButton=!1),"function"==typeof callback&&(s.didClose=()=>callback()),l&&(s.timer=o),null!=document.fullscreenElement&&(s.target=document.fullscreenElement),Swal.fire(s)}alert(e.trim())}}(t.message,e)}})),window.addEventListener("mousedown",(function(e){var t=e.target;null!=t.closest(".menu-toggle")&&(e.preventDefault(),"true"==t.closest(".menu-toggle").getAttribute("aria-expanded")?a("enable"):a("disable")),null!=document.querySelector(".menu-toggle")&&"true"==document.querySelector(".menu-toggle").getAttribute("aria-expanded")&&null==t.closest("#site-navigation")&&null==t.closest("#mobile-menu-control-wrapper")&&(document.querySelector("#mobile-menu-control-wrapper").classList.remove("toggled"),document.querySelector(".menu-toggle").setAttribute("aria-expanded","false"),document.querySelector("#site-navigation").classList.remove("toggled"),a("enable")),t.matches(".tablink")&&(e.preventDefault(),s(t),r(t));let l=document.querySelector(".modal:not(.hidden)");if(null!=l){let n=window.innerWidth-l.clientWidth;(t.matches(".modal .close")||(n>0&&e.clientX<l.clientWidth||0===n)&&null==t.closest(".modal-content")&&null==t.closest(".swal2-container")&&"DIV"==t.tagName)&&function(){let e=document.querySelectorAll(".modal:not(.hidden)");if(0!=e.length){e.forEach((e=>{e.classList.add("hidden"),e.style.removeProperty("display");const t=new Event("modalclosed");e.dispatchEvent(t)}));const t=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(t||"0"));let l=document.getElementById("primary");null!=l&&(l.style.zIndex=1)}}()}})),document.addEventListener("wheel",(function(e){"number"===document.activeElement.type&&document.activeElement.blur()})),console.log("Forms.js is loaded");let d=[];function u(e,t=!0){!function(e){"undefined"!=typeof tinymce&&e.querySelectorAll(".wp-editor-area").forEach((e=>{let t=tinymce.get(e.id);null!=t&&(d[e.id]=t.settings,t.save(),t.remove())}))}(e);let l=e.cloneNode(!0);return l.querySelectorAll(".nice-select").forEach((e=>e.remove())),e.querySelectorAll(".wp-editor-area").forEach((e=>{null!=d[e.id]&&tinymce.init(d[e.id])})),t&&l.querySelectorAll("input,select,textarea").forEach((e=>{"checkbox"==e.type||"radio"==e.type?e.checked=!1:"hidden"!=e.type&&(e.value=""),"select-one"==e.type&&c(e)})),l.querySelectorAll("select").forEach((e=>{c(e),Main.NiceSelect(e,{searchable:!0})})),l}function h(e){let t=u(e);t.querySelectorAll(".upload-files").forEach((function(e){e.dataset.index=nodeNr})),t.querySelectorAll(".documentpreview").forEach((function(e){e.innerHTML=""}));let l=0;if(t.querySelectorAll("select").forEach((t=>{let n=e.getElementsByTagName("select")[l].selectedIndex;null!=t.options[n]&&(t.options[n].style.display="none"),null==t._niceselect?(console.error(t),Main.NiceSelect(t,{searchable:!0})):(t._niceselect.update(),t.nextSibling.querySelectorAll(".current").forEach((e=>e.textContent="Select an option"))),l++})),null==e.querySelector(".remove")&&null==t.querySelector(".remove")){let l='<button type="button" class="remove button" style="flex: 1;">-</button>';e.querySelector(".buttonwrapper").insertAdjacentHTML("beforeend",l),t.querySelector(".buttonwrapper").insertAdjacentHTML("beforeend",l)}if(e.matches(".tabcontent")){e.classList.add("hidden");let t=e.closest(".clone_divs_wrapper").querySelector(".tablink.active"),l=u(t);t.classList.remove("active"),t.parentNode.insertBefore(l,t.nextSibling)}return e.parentNode.insertBefore(t,e.nextSibling),t}function p(e){function t(e,t){""!=e.id&&(e.id=e.id.replace(/[0-9]+(?!.*[0-9])/,t)),"button"==e.type&&""!=e.textContent&&(e.textContent=e.textContent.replace(/[0-9]+(?!.*[0-9])/,t+1),e.dataset.target=e.dataset.target.replace(/[0-9]+(?!.*[0-9])/,t)),null!=e.dataset.divid&&(e.dataset.divid=t),e.querySelectorAll("h3, h4, legend :first-child").forEach((e=>{e.textContent=e.textContent.replace(/[0-9]+(?!.*[0-9])/,t+1)})),e.querySelectorAll("input,select,textarea").forEach((e=>{e.classList.contains("nice-select-search")||(""!=e.id&&null!=e.id&&(e.id=e.id.replace(/[0-9]+(?!.*[0-9])/,t)),""!=e.name&&null!=e.name&&(e.name=e.name.replace(/[0-9]+(?!.*[0-9])/,t)),"button"==e.type&&(e.value=e.value.replace(/[0-9]+(?!.*[0-9])/,t)))}))}e.querySelectorAll(":scope > .clone_div").forEach(t),e.querySelectorAll(":scope > .tablink").forEach(t)}function m(e){let t=e.closest(".clone_div"),l=t.closest(".clone_divs_wrapper"),n=l.querySelectorAll(".clone_div");if(n[n.length-1]==t){let e=t.querySelector(".add"),l=t.previousElementSibling;null==l.querySelector(".buttonwrapper .add")&&l.querySelector(".buttonwrapper").appendChild(e)}t.remove(),1==l.querySelectorAll(".clone_div").length&&l.querySelector(".remove").remove(),p(l)}function f(e,t,l,n,o="",s=!1){if(null==t)return;let i="",r="";if(e instanceof Element)r=e,i=r.name,e=""==r.id?`[name^="${r.name}" i]`:`[id^=${r.id}]`;else{r=n.querySelector(e);try{i=r.name}catch{console.log(r)}}let a=function(e,t,l=!0,n=null,o=!1){let s="",i="",r="",a="";return e instanceof Element?(s=e,"INPUT"!=s.tagName&&"TEXTAREA"!=s.tagName&&"SELECT"!=s.tagName&&null==s.closest(".nice-select-dropdown")&&(s=s.querySelector("input, select, textarea")),null==s&&(s=e),i=s.name):e.match("E[0-9]")?(a=`[id^=${e}]`,s=t.querySelector(a),i=s.name):(i=e,a=`[name='${i}' i]`,s=t.querySelector(a)),null==s?(console.trace(),console.log("cannot find element with name "+i),r):("radio"==s.type?r=function(e,t){let l=e.querySelector(`${t}:checked`);return null==l?"":l.value}(t,a):"checkbox"==s.type?r=function(e,t,l,n){let o="",s="";return"checkbox"==n.type&&null!=l?n.checked?n.value:"":(null!=l?(s=e.querySelector(`${t}[value="${l}" i]:checked`),null!=s&&(o=l)):(s=e.querySelectorAll(`${t}:checked`),o=[],s.forEach((e=>{o.push(e.value)}))),o)}(t,a,n,e):null!=s.closest(".nice-select-dropdown")&&null!=s.dataset.value?r=s.dataset.value:null!=s.list&&""!=s.value&&l?r=function(e){let t="",l=e.list.querySelector(`[value='${e.value}' i]`);return t=null==l?e.value:l.dataset.value,t}(s):null!=s.name&&s.name.endsWith("[]")?r=function(e,t){let l=[];return e.querySelectorAll(`[name="${t.name}"]`).forEach((e=>l.push(e.value))),l}(t,s):null!=s.value&&"undefined"!=s.value&&(r=s.value),o?r.toLowerCase():r)}(r,n,!1,t);if(a==t)return;if(null==r){let e=n.querySelectorAll(`.clone_div [name^="${i}" i]`);if(0===e.length)return;1==e.length?(r=e[0],e=""):(r=e[0],e.forEach(((e,t)=>{0==t?f(e,"","",n):m(e)})))}if(""!=o)if(/\d{4}-\d{2}-\d{2}/.test(t)){let e=new Date(t);e.setDate(e.getDate()+parseInt(o)),t=e.toISOString().split("T")[0]}else t+=parseInt(o);if("radio"==r.type||"checkbox"==r.type)if(""==t)""!=e&&n.querySelectorAll(e).forEach((e=>e.checked=!1));else if(r.value.toLowerCase()==t.toLowerCase())r.checked=!0;else{let e=n.querySelectorAll(`[name="${i}" i]`);for(const l of e)l.value.toLowerCase()==t.toLowerCase()&&(l.checked=!0)}else if("date"==r.type){if(r.value=t,!/\d{4}-\d{2}-\d{2}/.test(t)){let e="";if(3==t.split("-").length?e=t.split("-"):3==t.split("/").length&&(e=t.split("/")),""!=e){let t,l,n;e.forEach((e=>{4==e.length?t=e:2==e.length&&(e>12?n=e:null==l?l=e:n=e)})),null!=n&&null!=l&&null!=t&&(r.value=`${t}-${l}-${n}`)}}}else if(null!=r.list){let e=r.list.querySelector(`[data-value="${t}" i]`);if(null!=e)if(null!=r.closest(".clone_div")){let t;r.closest(".clone_divs_wrapper").querySelectorAll(".clone_div").forEach((e=>e.classList.add("shouldremove"))),e.value.split(";").forEach((e=>{t=h(r.closest(".clone_div")),t.classList.remove("shouldremove"),f(t.querySelector(r.tagName),e,"",n,"",!0)})),p(r.closest(".clone_divs_wrapper")),r.closest(".clone_divs_wrapper").querySelectorAll(".shouldremove").forEach((e=>e.remove()))}else r.value=e.value;else r.value=s?t:""}else r.value=t;let c=new Event("input");r.dispatchEvent(c),"function"==typeof l&&l(r)}async function y(e){let t=e.closest(".form.table-wrapper"),l=e.outerHTML,n=new FormData,o=t.querySelector(".sim-table.form-data-table").dataset.formid,s=t.querySelector(".sim-table.form-data-table").dataset.shortcodeid;n.append("formid",o),n.append("shortcode_id",s);const i=new URL(window.location);i.searchParams.get("onlyown")&&n.append("onlyown",!0),i.searchParams.get("all")&&n.append("all",!0),i.searchParams.get("archived")&&n.append("archived",!0);let r=Main.showLoader(e,!1,"Requesting form results...");t.innerHTML=r.outerHTML;let a=await FormSubmit.fetchRestApi("forms/show_form_results",n);a?t.innerHTML=a:r.outerHTML=l}function v(e){e.target.checked?document.querySelectorAll(".options, .tablink-wrapper").forEach((e=>e.style.display="block")):document.querySelectorAll(".options, .tablink-wrapper").forEach((e=>e.style.display="none"))}window.addEventListener("online",(function(){document.querySelectorAll(".form_submit").forEach((e=>{e.disabled=!1,e.querySelectorAll(".offline").forEach((e=>e.remove()))}))})),window.addEventListener("offline",(function(){document.querySelectorAll(".form_submit").forEach((e=>{e.disabled=!0,null==e.querySelector(".online")&&(e.innerHTML='<div class="online">'+e.innerHTML+"</div>"),e.innerHTML+='<div class="offline">You are offline</div>'}))})),document.addEventListener("click",(function(e){let l=e.target;if(l.matches(".add")){let e=l.closest(".clone_div"),t=h(e);p(l.closest(".clone_divs_wrapper")),t.querySelectorAll(".wp-editor-area").forEach(((t,l)=>{let n=tinymce.get(e.querySelectorAll(".wp-editor-area")[l].id);if(null!=n){let e=n.settings;for(const t in e)console.log(`${t}: ${e[t]}`),"string"==typeof e[t]&&(e[t]=e[t].replace(/(.*)([0-9])/,((e,t,l)=>t+(parseInt(l)+1))));tinymce.init(e)}})),l.remove()}l.matches(".remove")&&m(l),l.matches('.sim-form-wrapper [name="submit_form"]')&&(e.stopPropagation(),async function(e){let t=e.closest("form");t.querySelectorAll(".required:not(hidden) input, .required:not(hidden) textarea, .required:not(hidden) select").forEach((e=>{null!=e.closest("div.nice-select")||"file"==e.type&&null!=e.closest(".file_upload_wrap").querySelector(".documentpreview input")||(e.required=!0)}));let l=await FormSubmit.submitForm(e,"forms/save_form_input");l&&(e.closest(".submit_wrapper").querySelector(".loadergif").classList.add("hidden"),Main.displayMessage(l),"true"==t.dataset.reset&&FormSubmit.formReset(t))}(l)),(l.matches(".formbuilder-switch")||l.matches(".formbuilder-switch-back"))&&async function(e){let l,n=e.closest(".sim-form-wrapper"),s=e.outerHTML,i=new FormData;const r=new URL(window.location);e.matches(".formbuilder-switch")?(i.append("formbuilder",!0),r.searchParams.set("formbuilder",!0),l=n.querySelector("form.sim-form-wrapper").dataset.formid):(r.searchParams.delete("formbuilder"),l=n.querySelector('[name="formid"]').value),window.history.pushState({},"",r),i.append("formid",l);let a=Main.showLoader(e,!1,"Requesting form...");n.innerHTML=a.outerHTML;let c=await FormSubmit.fetchRestApi("forms/form_builder",i);c?(n.innerHTML=c.html,function(e,l){t=[];let n=document.createElement("div");n.innerHTML=e.html,t=Array.prototype.slice.call(n.getElementsByTagName("script")),e.js&&(n.innerHTML=e.js,t=[...n.children].concat(t),o(l)),e.css&&(n.innerHTML=e.css,[...n.children].forEach((e=>{document.head.appendChild(e)})))}(c,document)):a.outerHTML=s}(l),(l.matches(".archive-switch-hide")||l.matches(".archive-switch-show"))&&async function(e){const t=new URL(window.location);e.matches(".archive-switch-show")?t.searchParams.set("archived",!0):t.searchParams.delete("archived"),window.history.pushState({},"",t),y(e)}(l),(l.matches(".onlyown-switch-all")||l.matches(".onlyown-switch-on"))&&async function(e){const t=new URL(window.location);e.matches(".onlyown-switch-on")?(t.searchParams.set("onlyown",!0),t.searchParams.delete("all",!0)):(t.searchParams.set("all",!0),t.searchParams.delete("onlyown")),window.history.pushState({},"",t),y(e)}(l)})),document.addEventListener("change",(e=>{if(e.target.matches("input[list]")&&e.target.name.includes("[")){let t=e.target.list.querySelector(`[value="${e.target.value}" i]`);if(null!=t){let l=t.dataset.value;null!=l&&f(e.target,l,"",e.target.closest("form"))}}})),console.log("admin.js loaded"),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('[name="enable"]').forEach((e=>e.addEventListener("change",v))),document.querySelectorAll("select:not(.nonice,.swal2-select)").forEach((function(t){null==t._niceselect&&(0,e.bind)(t,{searchable:!0})}))})),window.addEventListener("click",(async e=>{let t=e.target;if(t.matches(".add")){let e=h(t.closest(".clone_div"));p(t.closest(".clone_divs_wrapper")),e.querySelectorAll(".wp-editor-area").forEach((e=>{window.tinyMCE.execCommand("mceAddEditor",!1,e.id)})),t.remove()}if(t.matches(".remove")&&m(t),t.classList.contains("placeholderselect")||t.classList.contains("placeholders")){e.preventDefault();let l="";if(t.classList.contains("placeholders")?l=t.textContent:""!=t.value&&(l=t.value,t.selectedIndex="0"),""!=l){let e={icon:"success",title:"Copied "+l,showConfirmButton:!1,timer:1500};null!=document.fullscreenElement&&(e.target=document.fullscreenElement),Swal.fire(e),navigator.clipboard.writeText(l)}}if(t.matches(".tablink"))e.preventDefault(),s(t),r(t);else if(t.matches(".sim.release")){!function(e){if("string"==typeof e&&(e=document.getElementById(e+"_modal")),null!=e){document.body.style.top=`-${window.scrollY}px`,document.body.style.position="fixed";let t=document.getElementById("primary");null!=t&&(t.style.zIndex=99999),e.classList.remove("hidden"),e.style.display="block"}}("release");let e=new FormData;e.append("module_name",t.dataset.name);let l=await async function(e,t="",l=!0){let n;""==t&&(t=new FormData),t.append("_wpnonce",sim.restNonce);try{n=await fetch(`${sim.baseUrl}/wp-json${sim.restApiPrefix}/${e}`,{method:"POST",credentials:"same-origin",body:t})}catch(e){console.error(e)}let o=await n.text();try{let e=JSON.parse(o);return n.ok?e:"rest_cookie_invalid_nonce"==e.code?(Main.displayMessage("Please refresh the page and try again!","error"),!1):(console.error(e),null==e.data||403==e.data.status?Main.displayMessage(e.message):Main.displayMessage(e.message+"\n"+JSON.stringify(e.data),"error"),!1)}catch(t){if(console.error(t),console.error(n),console.error(o),n.ok)l&&Main.displayMessage("Problem parsing the json, refresh the page or try again.","error"),console.error(`${sim.baseUrl}/wp-json${sim.restApiPrefix}/${e}`),console.error(o);else{let t="<div id='response-details' class=\"modal hidden\" style='z-index:9999999999;'>";t+="<div class=\"modal-content\" style='max-width: min(1000px,100%);'>",t+='<span class="close">&times;</span>',t+=o,t+="</div>",t+="</div>",document.querySelector("body").insertAdjacentHTML("afterBegin",t),Main.displayMessage(`Error loading url ${sim.baseUrl}/wp-json${sim.restApiPrefix}/${e}<br><button class='button small' id='error-details' onclick='(function(){ document.getElementById("response-details").classList.remove("hidden"); })();'>Details</button><br><div class='hidden response-message'>${o}</div>`,"error")}return!1}}("get-changelog",e);document.querySelector("#release_modal .loadergif_wrapper").classList.add("hidden"),document.querySelector("#release_modal .content").innerHTML=l,document.querySelector("#release_modal .content").classList.remove("hidden")}})),document.querySelectorAll("#release_modal").forEach((e=>e.addEventListener("modalclosed",(e=>{e.target.querySelector(".loadergif_wrapper").classList.remove("hidden"),e.target.querySelector(".content").classList.add("hidden")}))))})()})();
//# sourceMappingURL=admin.min.js.map