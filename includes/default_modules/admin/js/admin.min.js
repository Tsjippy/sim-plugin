(()=>{"use strict";let e,t=function(e){"undefined"!=typeof tinymce&&(tinymce.remove(),document.querySelectorAll(".entry-content .wp-editor-area").forEach((e=>{window.tinyMCE.execCommand("mceAddEditor",!1,e.id)}))),window.document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0,cancelable:!0})),document.querySelectorAll(".wp-switch-editor").forEach((e=>e.addEventListener("click",(t=>{let l=e.closest(".wp-editor-wrap").querySelector(".wp-editor-area"),o=e.closest(".wp-editor-wrap").querySelector(".mce-panel");l.style.visibility="unset",t.target.matches(".switch-tmce")?(o.style.display="block",l.style.display="none"):(o.style.display="none",l.style.display="block")})))),document.querySelectorAll("select:not(.nonice,.swal2-select)").forEach((function(e){null==e._niceselect&&(e._niceselect=NiceSelect.bind(e,{searchable:!0}))}));const t=new Event("scriptsloaded");e.dispatchEvent(t)},l=function(o){if(null==o)return;0==e.length&&t(o);let n=e.shift();if(null!=n)if("SCRIPT"==n.tagName&&null==document.getElementById(n.id)){var r=document.createElement("script");""==n.type?r.type="text/javascript":r.type=n.type,""!=n.src?r.src=n.src:r.innerHTML=n.innerHTML,r.id=n.id;try{document.head.appendChild(r)}catch(e){console.error(e)}e.length>0?""!=n.src?r.addEventListener("load",l.bind(null,o)):l(o):""!=n.src?r.addEventListener("load",t.bind(null,o)):t(o)}else e.length>0?l(o):t(o);else t(o)};function o(e,t=""){let l=e.dataset.param_val,o=e.dataset.hash;const r=new URL(window.location);null==e.closest(".tabcontent")||e.parentNode.classList.contains("modal-content")?(r.searchParams.set("main_tab",l),r.searchParams.delete("second_tab")):r.searchParams.set("second_tab",l),""!=t&&r.searchParams.set("second_tab",t),window.history.pushState({},"",r),window.location.hash=null!=o?o:"","A"==e.tagName&&n()}function n(e=null){let t=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)}),l=t.main_tab,o="";null!=l&&document.querySelectorAll(`[data-param_val="${l}"]:not(.active)`).forEach((e=>{if(null==e.closest(".modal")){let t=r(e);t&&(o=t)}}));let n=t.second_tab;null!=n&&document.querySelectorAll(`[data-param_val="${n}"]:not(.active)`).forEach((e=>{r(e)}))}function r(e){let t;if(document.querySelectorAll(".highlight").forEach((e=>e.classList.remove("highlight"))),t=null==e.dataset.target?document.querySelector("#"+e.dataset.param_val):e.closest("div:not(.tablink-wrapper)").querySelector("#"+e.dataset.target),null!=t){if(t.classList.remove("hidden"),"A"!=e.tagName&&(e.parentNode.querySelectorAll(`:scope > .active:not(#${e.id})`).forEach((e=>{e.classList.remove("active");var t=e.closest("div:not(.tablink-wrapper)").querySelector("#"+e.dataset.target);null==t?(console.error("Tab to hide not found:"),console.error(e.closest("div:not(.tablink-wrapper)")),console.error("#"+e.dataset.target)):t.classList.add("hidden")})),e.classList.add("active")),window.location.hash){var l=window.location.hash.replace("#",""),o=t.querySelector(`[name^="${l}"]`);null!=o&&(o.scrollIntoView({block:"center"}),null!=o.closest(".inputwrapper")&&o.closest(".inputwrapper").classList.add("highlight"),o.classList.add("highlight"),o.focus())}return"undefined"!=typeof SimTableFunctions&&SimTableFunctions.positionTable(),t}return!1}function a(e){var t;"disable"==e?(document.querySelector("body").style.overflow="hidden",document.body.style.top="0px",window.scrollTo(0,0),(t=document.querySelector("#masthead")).style.overflowY="scroll",t.style.top="0px",t.style.left="0",t.style.right="0",t.style.bottom="0",t.style.position="absolute"):(document.querySelector("body").style.overflow="",document.body.style.top="",(t=document.querySelector("#masthead")).style.overflowY="",t.style.top="",t.style.left="",t.style.right="",t.style.bottom="",t.style.position="")}function c(e){Array.from(e.options).forEach((function(e){e.defaultSelected=!1}))}console.log("Main.js loaded"),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".widget").forEach((e=>{""==e.innerHTML&&e.remove()})),document.querySelectorAll(".tablink").forEach((function(e){null==e.dataset.param_val&&(e.dataset.param_val=e.textContent.replace(" ","_").toLowerCase())})),n(),document.querySelectorAll("select:not(.nonice,.swal2-select)").forEach((function(e){null==e._niceselect&&(e._niceselect=NiceSelect.bind(e,{searchable:!0}))})),function(){let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}()?document.querySelectorAll(".hide-on-mobile:not(.hidden)").forEach((e=>e.classList.add("hidden"))):(document.querySelectorAll(".hide-on-desktop:not(.hidden)").forEach((e=>e.classList.add("hidden"))),function(){const e=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);document.querySelectorAll("#primary-menu .sub-menu .sub-menu").forEach((t=>{t.style.left="100%",t.parentNode.closest("ul").style.left="100%",t.parentNode.getBoundingClientRect().right+t.getBoundingClientRect().width>e?(t.style.right="100%",t.style.left="unset"):t.style.removeProperty("left"),t.parentNode.closest("ul").style.removeProperty("left")}))}());let e=new Proxy(new URLSearchParams(window.location.search),{get:(e,t)=>e.get(t)});if(null!=e.message){let t="success";null!=e.type&&(t=e.type),function(e,t,l=!1,o=!1,n=1500){if(null!=e){if("undefined"!=typeof Swal){var r={icon:t,title:e.trim(),confirmButtonColor:"#bd2919",cancelButtonColor:"Crimson"};return o&&(r.showConfirmButton=!1),"function"==typeof callback&&(r.didClose=()=>callback()),l&&(r.timer=n),null!=document.fullscreenElement&&(r.target=document.fullscreenElement),Swal.fire(r)}alert(e.trim())}}(e.message,t)}})),window.addEventListener("mousedown",(function(e){var t=e.target;null!=t.closest(".menu-toggle")&&(e.preventDefault(),"true"==t.closest(".menu-toggle").getAttribute("aria-expanded")?a("enable"):a("disable")),null!=document.querySelector(".menu-toggle")&&"true"==document.querySelector(".menu-toggle").getAttribute("aria-expanded")&&null==t.closest("#site-navigation")&&null==t.closest("#mobile-menu-control-wrapper")&&(document.querySelector("#mobile-menu-control-wrapper").classList.remove("toggled"),document.querySelector(".menu-toggle").setAttribute("aria-expanded","false"),document.querySelector("#site-navigation").classList.remove("toggled"),a("enable")),t.matches(".tablink")&&(e.preventDefault(),o(t),r(t));let l=document.querySelector(".modal:not(.hidden)");if(null!=l){let o=window.innerWidth-l.clientWidth;(t.matches(".modal .close")||(o>0&&e.clientX<l.clientWidth||0===o)&&null==t.closest(".modal-content")&&null==t.closest(".swal2-container")&&"DIV"==t.tagName)&&function(){let e=document.querySelectorAll(".modal:not(.hidden)");if(0!=e.length){e.forEach((e=>{e.classList.add("hidden"),e.style.removeProperty("display");const t=new Event("modalclosed");e.dispatchEvent(t)}));const t=document.body.style.top;document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(t||"0"));let l=document.getElementById("primary");null!=l&&(l.style.zIndex=1)}}()}})),document.addEventListener("wheel",(function(e){"number"===document.activeElement.type&&document.activeElement.blur()})),console.log("Forms.js is loaded");let i=[];function s(e){let t=function(e,t=!0){!function(e){"undefined"!=typeof tinymce&&e.querySelectorAll(".wp-editor-area").forEach((e=>{let t=tinymce.get(e.id);null!=t&&(i[e.id]=t.settings,t.save(),t.remove())}))}(e);let l=e.cloneNode(!0);return l.querySelectorAll(".niceselect").forEach((e=>e.remove())),e.querySelectorAll(".wp-editor-area").forEach((e=>{null!=i[e.id]&&tinymce.init(i[e.id])})),t&&l.querySelectorAll("input,select,textarea").forEach((e=>{"checkbox"==e.type||"radio"==e.type?e.checked=!1:"hidden"!=e.type&&(e.value=""),"select-one"==e.type&&c(e)})),l.querySelectorAll("select").forEach((e=>{c(input),e._niceselect=NiceSelect.bind(e,{searchable:!0})})),l}(e);t.querySelectorAll(".upload-files").forEach((function(e){e.dataset.index=nodeNr})),t.querySelectorAll(".documentpreview").forEach((function(e){e.innerHTML=""}));let l=0;if(t.querySelectorAll("select").forEach((t=>{let o=e.getElementsByTagName("select")[l].selectedIndex;null!=t.options[o]?t.options[o].style.display="none":(console.log(t),console.log(t.options),console.log(o)),null==t._niceselect?(console.error(t),t._niceselect=NiceSelect.bind(t,{searchable:!0})):(t._niceselect.update(),t.nextSibling.querySelector(".current").textContent="Select an option"),l++})),null==e.querySelector(".remove")&&null==t.querySelector(".remove")){let l='<button type="button" class="remove button" style="flex: 1;">-</button>';e.querySelector(".buttonwrapper").insertAdjacentHTML("beforeend",l),t.querySelector(".buttonwrapper").insertAdjacentHTML("beforeend",l)}return e.parentNode.insertBefore(t,e.nextSibling),t}function d(e){e.querySelectorAll(":scope > .clone_div").forEach(((e,t)=>{""!=e.id&&(e.id=e.id.replace(/[0-9]+(?!.*[0-9])/,t)),null!=e.dataset.divid&&(e.dataset.divid=t),e.querySelectorAll("h3, h4, legend :first-child").forEach((e=>{e.textContent=e.textContent.replace(/[0-9]+(?!.*[0-9])/,t+1)})),e.querySelectorAll("input,select,textarea").forEach((e=>{e.classList.contains("nice-select-search")||(""!=e.id&&null!=e.id&&(e.id=e.id.replace(/[0-9]+(?!.*[0-9])/,t)),""!=e.name&&null!=e.name&&(e.name=e.name.replace(/[0-9]+(?!.*[0-9])/,t)),"button"==e.type&&(e.value=e.value.replace(/[0-9]+(?!.*[0-9])/,t)))}))}))}function u(e){let t=e.closest(".clone_div"),l=t.closest(".clone_divs_wrapper"),o=l.querySelectorAll(".clone_div");if(o[o.length-1]==t){let e=t.querySelector(".add"),l=t.previousElementSibling;null==l.querySelector(".buttonwrapper .add")&&l.querySelector(".buttonwrapper").appendChild(e)}t.remove(),1==l.querySelectorAll(".clone_div").length&&l.querySelector(".remove").remove(),d(l)}function m(e,t,l,o,n="",r=!1){if(null==t)return;let a="",c="";if(e instanceof Element)c=e,a=c.name,e=""==c.id?`[name^="${c.name}" i]`:`[id^=${c.id}]`;else{c=o.querySelector(e);try{a=c.name}catch{console.log(c)}}let i=function(e,t,l=!0,o=null,n=!1){let r="",a="",c="",i="";return e instanceof Element?(r=e,"INPUT"!=r.tagName&&"TEXTAREA"!=r.tagName&&"SELECT"!=r.tagName&&null==r.closest(".nice-select-dropdown")&&(r=r.querySelector("input, select, textarea")),null==r&&(r=e),a=r.name):e.match("E[0-9]")?(i=`[id^=${e}]`,r=t.querySelector(i),a=r.name):(a=e,i=`[name='${a}' i]`,r=t.querySelector(i)),null==r?(console.trace(),console.log("cannot find element with name "+a),c):("radio"==r.type?c=function(e,t){let l=e.querySelector(`${t}:checked`);return null==l?"":l.value}(t,i):"checkbox"==r.type?c=function(e,t,l,o){let n="",r="";return"checkbox"==o.type&&null!=l?o.checked?o.value:"":(null!=l?(r=e.querySelector(`${t}[value="${l}" i]:checked`),null!=r&&(n=l)):(r=e.querySelectorAll(`${t}:checked`),n=[],r.forEach((e=>{n.push(e.value)}))),n)}(t,i,o,e):null!=r.closest(".nice-select-dropdown")&&null!=r.dataset.value?c=r.dataset.value:null!=r.list&&""!=r.value&&l?c=function(e){let t="",l=e.list.querySelector(`[value='${e.value}' i]`);return t=null==l?e.value:l.dataset.value,t}(r):null!=r.name&&r.name.endsWith("[]")?c=function(e,t){let l=[];return e.querySelectorAll(`[name="${t.name}"]`).forEach((e=>l.push(e.value))),l}(t,r):null!=r.value&&"undefined"!=r.value&&(c=r.value),n?c.toLowerCase():c)}(c,o,!1,t);if(i==t)return;if(null==c){let e=o.querySelectorAll(`.clone_div [name^="${a}" i]`);if(0===e.length)return;1==e.length?(c=e[0],e=""):(c=e[0],e.forEach(((e,t)=>{0==t?m(e,"","",o):u(e)})))}if(""!=n)if(/\d{4}-\d{2}-\d{2}/.test(t)){let e=new Date(t);e.setDate(e.getDate()+parseInt(n)),t=e.toISOString().split("T")[0]}else t+=parseInt(n);if("radio"==c.type||"checkbox"==c.type)if(""==t)""!=e&&o.querySelectorAll(e).forEach((e=>e.checked=!1));else if(c.value.toLowerCase()==t.toLowerCase())c.checked=!0;else{let e=o.querySelectorAll(`[name="${a}" i]`);for(const l of e)l.value.toLowerCase()==t.toLowerCase()&&(l.checked=!0)}else if("date"==c.type){if(c.value=t,!/\d{4}-\d{2}-\d{2}/.test(t)){let e="";if(3==t.split("-").length?e=t.split("-"):3==t.split("/").length&&(e=t.split("/")),""!=e){let t,l,o;e.forEach((e=>{4==e.length?t=e:2==e.length&&(e>12?o=e:null==l?l=e:o=e)})),null!=o&&null!=l&&null!=t&&(c.value=`${t}-${l}-${o}`)}}}else if(null!=c.list){let e=c.list.querySelector(`[data-value="${t}" i]`);if(null!=e)if(null!=c.closest(".clone_div")){let t;c.closest(".clone_divs_wrapper").querySelectorAll(".clone_div").forEach((e=>e.classList.add("shouldremove"))),e.value.split(";").forEach((e=>{t=s(c.closest(".clone_div")),t.classList.remove("shouldremove"),m(t.querySelector(c.tagName),e,"",o,"",!0)})),d(c.closest(".clone_divs_wrapper")),c.closest(".clone_divs_wrapper").querySelectorAll(".shouldremove").forEach((e=>e.remove()))}else c.value=e.value;else c.value=r?t:""}else c.value=t;let p=new Event("input");c.dispatchEvent(p),"function"==typeof l&&l(c)}async function p(e){let t=e.closest(".form.table-wrapper"),l=e.outerHTML,o=new FormData,n=t.querySelector(".sim-table.form-data-table").dataset.formid,r=t.querySelector(".sim-table.form-data-table").dataset.shortcodeid;o.append("formid",n),o.append("shortcode_id",r);const a=new URL(window.location);a.searchParams.get("onlyown")&&o.append("onlyown",!0),a.searchParams.get("all")&&o.append("all",!0),a.searchParams.get("archived")&&o.append("archived",!0);let c=Main.showLoader(e,!1,"Requesting form results...");t.innerHTML=c.outerHTML;let i=await FormSubmit.fetchRestApi("forms/show_form_results",o);i?t.innerHTML=i:c.outerHTML=l}function h(e){e.target.checked?document.querySelectorAll(".options, .tablink-wrapper").forEach((e=>e.style.display="block")):document.querySelectorAll(".options, .tablink-wrapper").forEach((e=>e.style.display="none"))}window.addEventListener("online",(function(){document.querySelectorAll(".form_submit").forEach((e=>{e.disabled=!1,e.querySelectorAll(".offline").forEach((e=>e.remove()))}))})),window.addEventListener("offline",(function(){document.querySelectorAll(".form_submit").forEach((e=>{e.disabled=!0,null==e.querySelector(".online")&&(e.innerHTML='<div class="online">'+e.innerHTML+"</div>"),e.innerHTML+='<div class="offline">You are offline</div>'}))})),document.addEventListener("click",(function(t){let o=t.target;if(o.matches(".add")){let e=s(o.closest(".clone_div"));d(o.closest(".clone_divs_wrapper")),e.querySelectorAll(".wp-editor-area").forEach((e=>{window.tinyMCE.execCommand("mceAddEditor",!1,e.id)})),o.remove()}o.matches(".remove")&&u(o),o.matches('.sim-form-wrapper [name="submit_form"]')&&(t.stopPropagation(),async function(e){let t=e.closest("form");t.querySelectorAll(".required:not(hidden) input, .required:not(hidden) textarea, .required:not(hidden) select").forEach((e=>{null!=e.closest("div.nice-select")||"file"==e.type&&null!=e.closest(".file_upload_wrap").querySelector(".documentpreview input")||(e.required=!0)}));let l=await FormSubmit.submitForm(e,"forms/save_form_input");l&&(e.closest(".submit_wrapper").querySelector(".loadergif").classList.add("hidden"),Main.displayMessage(l),"true"==t.dataset.reset&&FormSubmit.formReset(t))}(o)),(o.matches(".formbuilder-switch")||o.matches(".formbuilder-switch-back"))&&async function(t){let o,n=t.closest(".sim-form-wrapper"),r=t.outerHTML,a=new FormData;const c=new URL(window.location);t.matches(".formbuilder-switch")?(a.append("formbuilder",!0),c.searchParams.set("formbuilder",!0),o=n.querySelector("form.sim-form-wrapper").dataset.formid):(c.searchParams.delete("formbuilder"),o=n.querySelector('[name="formid"]').value),window.history.pushState({},"",c),a.append("formid",o);let i=Main.showLoader(t,!1,"Requesting form...");n.innerHTML=i.outerHTML;let s=await FormSubmit.fetchRestApi("forms/form_builder",a);s?(n.innerHTML=s.html,function(t,o){e=[];let n=document.createElement("div");n.innerHTML=t.html,e=Array.prototype.slice.call(n.getElementsByTagName("script")),t.js&&(n.innerHTML=t.js,e=[...n.children].concat(e),l(o)),t.css&&(n.innerHTML=t.css,[...n.children].forEach((e=>{document.head.appendChild(e)})))}(s,document)):i.outerHTML=r}(o),(o.matches(".archive-switch-hide")||o.matches(".archive-switch-show"))&&async function(e){const t=new URL(window.location);e.matches(".archive-switch-show")?t.searchParams.set("archived",!0):t.searchParams.delete("archived"),window.history.pushState({},"",t),p(e)}(o),(o.matches(".onlyown-switch-all")||o.matches(".onlyown-switch-on"))&&async function(e){const t=new URL(window.location);e.matches(".onlyown-switch-on")?(t.searchParams.set("onlyown",!0),t.searchParams.delete("all",!0)):(t.searchParams.set("all",!0),t.searchParams.delete("onlyown")),window.history.pushState({},"",t),p(e)}(o)})),document.addEventListener("change",(e=>{if(e.target.matches("input[list]")&&e.target.name.includes("[")){let t=e.target.list.querySelector(`[value="${e.target.value}" i]`);if(null!=t){let l=t.dataset.value;null!=l&&m(e.target,l,"",e.target.closest("form"))}}})),console.log("admin.js loaded"),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('[name="enable"]').forEach((e=>e.addEventListener("change",h))),document.querySelectorAll("select:not(.nonice,.swal2-select)").forEach((function(e){null==e._niceselect&&(e._niceselect=NiceSelect.bind(e,{searchable:!0}))}))})),window.addEventListener("click",(async e=>{let t=e.target;if(t.matches(".add")){let e=s(t.closest(".clone_div"));d(t.closest(".clone_divs_wrapper")),e.querySelectorAll(".wp-editor-area").forEach((e=>{window.tinyMCE.execCommand("mceAddEditor",!1,e.id)})),t.remove()}if(t.matches(".remove")&&u(t),t.classList.contains("placeholderselect")||t.classList.contains("placeholders")){e.preventDefault();let l="";if(t.classList.contains("placeholders")?l=t.textContent:""!=t.value&&(l=t.value,t.selectedIndex="0"),""!=l){let e={icon:"success",title:"Copied "+l,showConfirmButton:!1,timer:1500};null!=document.fullscreenElement&&(e.target=document.fullscreenElement),Swal.fire(e),navigator.clipboard.writeText(l)}}if(t.matches(".tablink"))e.preventDefault(),o(t),r(t);else if(t.matches(".sim.release")){!function(e){if("string"==typeof e&&(e=document.getElementById(e+"_modal")),null!=e){document.body.style.top=`-${window.scrollY}px`,document.body.style.position="fixed";let t=document.getElementById("primary");null!=t&&(t.style.zIndex=99999),e.classList.remove("hidden"),e.style.display="block"}}("release");let e=new FormData;e.append("module_name",t.dataset.name);let l=await async function(e,t="",l=!0){let o;""==t&&(t=new FormData),t.append("_wpnonce",sim.restNonce);try{o=await fetch(`${sim.baseUrl}/wp-json${sim.restApiPrefix}/${e}`,{method:"POST",credentials:"same-origin",body:t})}catch(e){console.error(e)}let n=await o.text();try{let e=JSON.parse(n);return o.ok?e:"rest_cookie_invalid_nonce"==e.code?(Main.displayMessage("Please refresh the page and try again!","error"),!1):(console.error(e),null==e.data?Main.displayMessage(e.message):Main.displayMessage(e.message+"\n"+JSON.stringify(e.data),"error"),!1)}catch(t){if(console.error(t),console.error(o),console.error(n),o.ok)l&&Main.displayMessage("Problem parsing the json, refresh the page or try again.","error"),console.error(`${sim.baseUrl}/wp-json${sim.restApiPrefix}/${e}`),console.error(n);else{let t="<div id='response-details' class=\"modal hidden\" style='z-index:9999999999;'>";t+="<div class=\"modal-content\" style='max-width: min(1000px,100%);'>",t+='<span class="close">&times;</span>',t+=n,t+="</div>",t+="</div>",document.querySelector("body").insertAdjacentHTML("afterBegin",t),Main.displayMessage(`Error loading url ${sim.baseUrl}/wp-json${sim.restApiPrefix}/${e}<br><button class='button small' id='error-details' onclick='(function(){ document.getElementById("response-details").classList.remove("hidden"); })();'>Details</button><br><div class='hidden response-message'>${n}</div>`,"error")}return!1}}("get-changelog",e);document.querySelector("#release_modal .loadergif_wrapper").classList.add("hidden"),document.querySelector("#release_modal .content").innerHTML=l,document.querySelector("#release_modal .content").classList.remove("hidden")}})),document.querySelectorAll("#release_modal").forEach((e=>e.addEventListener("modalclosed",(e=>{e.target.querySelector(".loadergif_wrapper").classList.remove("hidden"),e.target.querySelector(".content").classList.add("hidden")}))))})();
//# sourceMappingURL=admin.min.js.map